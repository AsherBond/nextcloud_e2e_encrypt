(function(){"use strict";try{if(typeof document<"u"){var i=document.createElement("style");i.appendChild(document.createTextNode("/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.toastify.dialogs{min-width:200px;background:none;background-color:var(--color-main-background);color:var(--color-main-text);box-shadow:0 0 6px 0 var(--color-box-shadow);padding:0 12px;margin-top:45px;position:fixed;z-index:10100;border-radius:var(--border-radius);display:flex;align-items:center}.toastify.dialogs .toast-undo-container{display:flex;align-items:center}.toastify.dialogs .toast-undo-button,.toastify.dialogs .toast-close{position:static;overflow:hidden;box-sizing:border-box;min-width:44px;height:100%;padding:12px;white-space:nowrap;background-repeat:no-repeat;background-position:center;background-color:transparent;min-height:0}.toastify.dialogs .toast-undo-button.toast-close,.toastify.dialogs .toast-close.toast-close{text-indent:0;opacity:.4;border:none;min-height:44px;margin-left:10px;font-size:0}.toastify.dialogs .toast-undo-button.toast-close:before,.toastify.dialogs .toast-close.toast-close:before{background-image:url(\"data:image/svg+xml,%3csvg%20viewBox='0%200%2016%2016'%20height='16'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3e%3cpath%20d='M6.4%2019%205%2017.6l5.6-5.6L5%206.4%206.4%205l5.6%205.6L17.6%205%2019%206.4%2013.4%2012l5.6%205.6-1.4%201.4-5.6-5.6L6.4%2019Z'%20style='fill-rule:nonzero'%20transform='matrix(.85714%200%200%20.85714%20-2.286%20-2.286)'/%3e%3c/svg%3e\");content:\" \";filter:var(--background-invert-if-dark);display:inline-block;width:16px;height:16px}.toastify.dialogs .toast-undo-button.toast-undo-button,.toastify.dialogs .toast-close.toast-undo-button{height:calc(100% - 6px);margin:3px 3px 3px 12px}.toastify.dialogs .toast-undo-button:hover,.toastify.dialogs .toast-undo-button:focus,.toastify.dialogs .toast-undo-button:active,.toastify.dialogs .toast-close:hover,.toastify.dialogs .toast-close:focus,.toastify.dialogs .toast-close:active{cursor:pointer;opacity:1}.toastify.dialogs.toastify-top{right:10px}.toastify.dialogs.toast-with-click{cursor:pointer}.toastify.dialogs.toast-error{border-left:3px solid var(--color-error)}.toastify.dialogs.toast-info{border-left:3px solid var(--color-primary)}.toastify.dialogs.toast-warning{border-left:3px solid var(--color-warning)}.toastify.dialogs.toast-success,.toastify.dialogs.toast-undo{border-left:3px solid var(--color-success)}.theme--dark .toastify.dialogs .toast-close.toast-close:before{background-image:url(\"data:image/svg+xml,%3csvg%20viewBox='0%200%2016%2016'%20height='16'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3e%3cpath%20d='M6.4%2019%205%2017.6l5.6-5.6L5%206.4%206.4%205l5.6%205.6L17.6%205%2019%206.4%2013.4%2012l5.6%205.6-1.4%201.4-5.6-5.6L6.4%2019Z'%20style='fill:%23fff;fill-rule:nonzero'%20transform='matrix(.85714%200%200%20.85714%20-2.286%20-2.286)'/%3e%3c/svg%3e\")}.nc-generic-dialog .dialog__actions{justify-content:space-between;min-width:calc(100% - 12px)}/*!\n * SPDX-FileCopyrightText: 2023-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */._file-picker__file-icon_19mjt_9{width:32px;height:32px;min-width:32px;min-height:32px;background-repeat:no-repeat;background-size:contain;display:flex;justify-content:center}tr.file-picker__row[data-v-15187afc]{height:var(--row-height, 50px)}tr.file-picker__row td[data-v-15187afc]{cursor:pointer;overflow:hidden;text-overflow:ellipsis;border-bottom:none}tr.file-picker__row td.row-checkbox[data-v-15187afc]{padding:0 2px}tr.file-picker__row td[data-v-15187afc]:not(.row-checkbox){padding-inline:14px 0}tr.file-picker__row td.row-size[data-v-15187afc]{text-align:end;padding-inline:0 14px}tr.file-picker__row td.row-name[data-v-15187afc]{padding-inline:2px 0}@keyframes gradient-15187afc{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.loading-row .row-checkbox[data-v-15187afc]{text-align:center!important}.loading-row span[data-v-15187afc]{display:inline-block;height:24px;background:linear-gradient(to right,var(--color-background-darker),var(--color-text-maxcontrast),var(--color-background-darker));background-size:600px 100%;border-radius:var(--border-radius);animation:gradient-15187afc 12s ease infinite}.loading-row .row-wrapper[data-v-15187afc]{display:inline-flex;align-items:center}.loading-row .row-checkbox span[data-v-15187afc]{width:24px}.loading-row .row-name span[data-v-15187afc]:last-of-type{margin-inline-start:6px;width:130px}.loading-row .row-size span[data-v-15187afc]{width:80px}.loading-row .row-modified span[data-v-15187afc]{width:90px}/*!\n* SPDX-FileCopyrightText: 2023-2024 Nextcloud GmbH and Nextcloud contributors\n* SPDX-License-Identifier: AGPL-3.0-or-later\n*/tr.file-picker__row[data-v-cb12dccb]{height:var(--row-height, 50px)}tr.file-picker__row td[data-v-cb12dccb]{cursor:pointer;overflow:hidden;text-overflow:ellipsis;border-bottom:none}tr.file-picker__row td.row-checkbox[data-v-cb12dccb]{padding:0 2px}tr.file-picker__row td[data-v-cb12dccb]:not(.row-checkbox){padding-inline:14px 0}tr.file-picker__row td.row-size[data-v-cb12dccb]{text-align:end;padding-inline:0 14px}tr.file-picker__row td.row-name[data-v-cb12dccb]{padding-inline:2px 0}.file-picker__row--selected[data-v-cb12dccb]{background-color:var(--color-background-dark)}.file-picker__row[data-v-cb12dccb]:hover{background-color:var(--color-background-hover)}.file-picker__name-container[data-v-cb12dccb]{display:flex;justify-content:start;align-items:center;height:100%}.file-picker__file-name[data-v-cb12dccb]{padding-inline-start:6px;min-width:0;overflow:hidden;text-overflow:ellipsis}.file-picker__file-extension[data-v-cb12dccb]{color:var(--color-text-maxcontrast);min-width:fit-content}.file-picker__header-preview[data-v-006fdbd0]{width:22px;height:32px;flex:0 0 auto}.file-picker__files[data-v-006fdbd0]{margin:2px;margin-inline-start:12px;overflow:scroll auto}.file-picker__files table[data-v-006fdbd0]{width:100%;max-height:100%;table-layout:fixed}.file-picker__files th[data-v-006fdbd0]{position:-webkit-sticky;position:sticky;z-index:1;top:0;background-color:var(--color-main-background);padding:2px}.file-picker__files th .header-wrapper[data-v-006fdbd0]{display:flex}.file-picker__files th.row-checkbox[data-v-006fdbd0]{width:44px}.file-picker__files th.row-name[data-v-006fdbd0]{width:230px}.file-picker__files th.row-size[data-v-006fdbd0]{width:100px}.file-picker__files th.row-modified[data-v-006fdbd0]{width:120px}.file-picker__files th[data-v-006fdbd0]:not(.row-size) .button-vue__wrapper{justify-content:start;flex-direction:row-reverse}.file-picker__files th[data-v-006fdbd0]:not(.row-size) .button-vue{padding-inline:16px 4px}.file-picker__files th.row-size[data-v-006fdbd0] .button-vue__wrapper{justify-content:end}.file-picker__files th[data-v-006fdbd0] .button-vue__wrapper{color:var(--color-text-maxcontrast)}.file-picker__files th[data-v-006fdbd0] .button-vue__wrapper .button-vue__text{font-weight:400}.file-picker__breadcrumbs[data-v-b357227a]{flex-grow:0!important}.file-picker__side[data-v-b42054b8]{display:flex;flex-direction:column;align-items:stretch;gap:.5rem;min-width:200px;padding:2px;margin-block-start:7px;overflow:auto}.file-picker__side[data-v-b42054b8] .button-vue__wrapper{justify-content:start}.file-picker__filter-input[data-v-b42054b8]{margin-block:7px;max-width:260px}@media (max-width: 736px){.file-picker__side[data-v-b42054b8]{flex-direction:row;min-width:unset}}@media (max-width: 512px){.file-picker__side[data-v-b42054b8]{flex-direction:row;min-width:unset}.file-picker__filter-input[data-v-b42054b8]{max-width:unset}}.file-picker__navigation{padding-inline:8px 2px}.file-picker__navigation,.file-picker__navigation *{box-sizing:border-box}.file-picker__navigation .v-select.select{min-width:220px}@media (min-width: 513px) and (max-width: 736px){.file-picker__navigation{gap:11px}}@media (max-width: 512px){.file-picker__navigation{flex-direction:column-reverse!important}}.file-picker__view[data-v-20b719ba]{height:50px;display:flex;justify-content:start;align-items:center}.file-picker__view h3[data-v-20b719ba]{font-weight:700;height:fit-content;margin:0}.file-picker__main[data-v-20b719ba]{box-sizing:border-box;width:100%;display:flex;flex-direction:column;min-height:0;flex:1;padding-inline:2px}.file-picker__main *[data-v-20b719ba]{box-sizing:border-box}[data-v-20b719ba] .file-picker{height:min(80vh,800px)!important}@media (max-width: 512px){[data-v-20b719ba] .file-picker{height:calc(100% - 16px - var(--default-clickable-area))!important}}[data-v-20b719ba] .file-picker__content{display:flex;flex-direction:column;overflow:hidden}.material-design-icon[data-v-e4fac465]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}.input-field[data-v-e4fac465]{--input-border-radius: var(--border-radius-element, var(--border-radius-large));--input-padding-start: var(--border-radius-large);--input-padding-end: var(--border-radius-large);position:relative;width:100%;margin-block-start:6px}.input-field--disabled[data-v-e4fac465]{opacity:.4;filter:saturate(.4)}.input-field--label-outside[data-v-e4fac465]{margin-block-start:0}.input-field--leading-icon[data-v-e4fac465]{--input-padding-start: calc(var(--default-clickable-area) - var(--default-grid-baseline))}.input-field--trailing-icon[data-v-e4fac465]{--input-padding-end: calc(var(--default-clickable-area) - var(--default-grid-baseline))}.input-field--pill[data-v-e4fac465]{--input-border-radius: var(--border-radius-pill)}.input-field__main-wrapper[data-v-e4fac465]{height:var(--default-clickable-area);position:relative}.input-field__input[data-v-e4fac465]{--input-border-width-offset: calc(var(--border-width-input-focused, 2px) - var(--border-width-input, 2px));background-color:var(--color-main-background);color:var(--color-main-text);border:var(--border-width-input, 2px) solid var(--color-border-maxcontrast);border-radius:var(--input-border-radius);cursor:pointer;-webkit-appearance:textfield!important;-moz-appearance:textfield!important;appearance:textfield!important;font-size:var(--default-font-size);text-overflow:ellipsis;height:calc(var(--default-clickable-area) - 2 * var(--input-border-width-offset))!important;width:100%;padding-inline:calc(var(--input-padding-start) + var(--input-border-width-offset)) calc(var(--input-padding-end) + var(--input-border-width-offset));padding-block:var(--input-border-width-offset)}.input-field__input[data-v-e4fac465]::placeholder{color:var(--color-text-maxcontrast)}.input-field__input[data-v-e4fac465]:active:not([disabled]),.input-field__input[data-v-e4fac465]:hover:not([disabled]),.input-field__input[data-v-e4fac465]:focus:not([disabled]){border-color:var(--color-main-text);border-width:var(--border-width-input-focused, 2px);box-shadow:0 0 0 2px var(--color-main-background)!important;--input-border-width-offset: 0px}.input-field__input:focus+.input-field__label[data-v-e4fac465],.input-field__input:hover:not(:placeholder-shown)+.input-field__label[data-v-e4fac465]{color:var(--color-main-text)}.input-field__input[data-v-e4fac465]:focus{cursor:text}.input-field__input[data-v-e4fac465]:disabled{cursor:default}.input-field__input[data-v-e4fac465]:focus-visible{box-shadow:unset!important}.input-field__input--success[data-v-e4fac465]{border-color:var(--color-success)!important}.input-field__input--success[data-v-e4fac465]:focus-visible{box-shadow:#f8fafc 0 0 0 2px,var(--color-primary-element) 0 0 0 4px,#0000000d 0 1px 2px}.input-field__input--error[data-v-e4fac465],.input-field__input[data-v-e4fac465]:invalid{border-color:var(--color-error)!important}.input-field__input--error[data-v-e4fac465]:focus-visible,.input-field__input[data-v-e4fac465]:invalid:focus-visible{box-shadow:#f8fafc 0 0 0 2px,var(--color-primary-element) 0 0 0 4px,#0000000d 0 1px 2px}.input-field:not(.input-field--label-outside) .input-field__input[data-v-e4fac465]:not(:focus)::placeholder{opacity:0}.input-field__label[data-v-e4fac465]{--input-label-font-size: var(--default-font-size);position:absolute;margin-inline:var(--input-padding-start) var(--input-padding-end);max-width:fit-content;font-size:var(--input-label-font-size);inset-block-start:calc((var(--default-clickable-area) - 1lh) / 2);inset-inline:var(--border-width-input-focused, 2px);color:var(--color-text-maxcontrast);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;pointer-events:none;transition:height var(--animation-quick),inset-block-start var(--animation-quick),font-size var(--animation-quick),color var(--animation-quick),background-color var(--animation-quick) var(--animation-slow)}.input-field__input:focus+.input-field__label[data-v-e4fac465],.input-field__input:not(:placeholder-shown)+.input-field__label[data-v-e4fac465]{--input-label-font-size: 13px;line-height:1.5;inset-block-start:calc(-1.5 * var(--input-label-font-size) / 2);font-weight:500;border-radius:var(--default-grid-baseline) var(--default-grid-baseline) 0 0;background-color:var(--color-main-background);padding-inline:var(--default-grid-baseline);margin-inline:calc(var(--input-padding-start) - var(--default-grid-baseline)) calc(var(--input-padding-end) - var(--default-grid-baseline));transition:height var(--animation-quick),inset-block-start var(--animation-quick),font-size var(--animation-quick),color var(--animation-quick)}.input-field__icon[data-v-e4fac465]{position:absolute;height:var(--default-clickable-area);width:var(--default-clickable-area);display:flex;align-items:center;justify-content:center;opacity:.7;inset-block-end:0}.input-field__icon--leading[data-v-e4fac465]{inset-inline-start:0px}.input-field__icon--trailing[data-v-e4fac465]{inset-inline-end:0px}.input-field__trailing-button[data-v-e4fac465]{--button-size: calc(var(--default-clickable-area) - 2 * var(--border-width-input-focused, 2px)) !important;--button-radius: calc(var(--input-border-radius) - var(--border-width-input-focused, 2px))}.input-field__trailing-button.button-vue[data-v-e4fac465]{position:absolute;top:var(--border-width-input-focused, 2px);inset-inline-end:var(--border-width-input-focused, 2px)}.input-field__trailing-button.button-vue[data-v-e4fac465]:focus-visible{box-shadow:none!important}.input-field__helper-text-message[data-v-e4fac465]{padding-block:4px;padding-inline:var(--border-radius-large);display:flex;align-items:center;color:var(--color-text-maxcontrast)}.input-field__helper-text-message__icon[data-v-e4fac465]{margin-inline-end:8px}.input-field__helper-text-message--error[data-v-e4fac465]{color:var(--color-error-text)}.input-field__helper-text-message--success[data-v-e4fac465]{color:var(--color-success-text)}")),document.head.appendChild(i)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var zr=Object.defineProperty,Xr=Object.defineProperties;var Wr=Object.getOwnPropertyDescriptors;var wn=Object.getOwnPropertySymbols;var Hr=Object.prototype.hasOwnProperty,qr=Object.prototype.propertyIsEnumerable;var En=t=>{throw TypeError(t)};var be=(t,e,n)=>e in t?zr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,st=(t,e)=>{for(var n in e||(e={}))Hr.call(e,n)&&be(t,n,e[n]);if(wn)for(var n of wn(e))qr.call(e,n)&&be(t,n,e[n]);return t},dt=(t,e)=>Xr(t,Wr(e));var j=(t,e,n)=>be(t,typeof e!="symbol"?e+"":e,n),ve=(t,e,n)=>e.has(t)||En("Cannot "+n);var T=(t,e,n)=>(ve(t,e,"read from private field"),n?n.call(t):e.get(t)),ot=(t,e,n)=>e.has(t)?En("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),U=(t,e,n,r)=>(ve(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xt=(t,e,n)=>(ve(t,e,"access private method"),n);import{p as zt,g as Yt,l as Ze,a as je,b as pe,U as Kr,o as Zr,c as Yr,d as ct,e as Ye,v as Je,n as Kt,N as Jr,G as Qr,r as ti,C as ei,t as we,f as ni,h as ri,i as ii,j as Ee,k as xn,m as Fe,q as si,s as oi,u as ai,w as ui}from"./_plugin-vue2_normalizer-Dq3WFFJL.chunk.mjs";import{X as li,A as ci}from"./ArrowRight-CY2b9hgN-DtwOcOYi.chunk.mjs";import{u as sr}from"./useModelMigration-EhAWvqDD-jxeRKUXt.chunk.mjs";import{N as hi}from"./NcCheckboxRadioSwitch-R1y0mLbC-D6EkT7zG.chunk.mjs";function pi(t){return t&&t.split("/").map(encodeURIComponent).join("/")}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nn(t,e,n){fi(t,e),e.set(t,n)}function fi(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K(t,e){var n=or(t,e,"get");return di(t,n)}function di(t,e){return e.get?e.get.call(t):e.value}function An(t,e,n){var r=or(t,e,"set");return gi(t,r,n),n}function or(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function gi(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var mi=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",Y=new WeakMap,kt=new WeakMap;class fe{constructor(e){var{executor:n=()=>{},internals:r=tn(),promise:i=new Promise((s,u)=>n(s,u,a=>{r.onCancelList.push(a)}))}=e;Nn(this,Y,{writable:!0,value:void 0}),Nn(this,kt,{writable:!0,value:void 0}),Nt(this,mi,"CancelablePromise"),this.cancel=this.cancel.bind(this),An(this,Y,r),An(this,kt,i||new Promise((s,u)=>n(s,u,a=>{r.onCancelList.push(a)})))}then(e,n){return ee(K(this,kt).then(Jt(e,K(this,Y)),Jt(n,K(this,Y))),K(this,Y))}catch(e){return ee(K(this,kt).catch(Jt(e,K(this,Y))),K(this,Y))}finally(e,n){return n&&K(this,Y).onCancelList.push(e),ee(K(this,kt).finally(Jt(()=>{if(e)return n&&(K(this,Y).onCancelList=K(this,Y).onCancelList.filter(r=>r!==e)),e()},K(this,Y))),K(this,Y))}cancel(){K(this,Y).isCanceled=!0;var e=K(this,Y).onCancelList;K(this,Y).onCancelList=[];for(var n of e)if(typeof n=="function")try{n()}catch(r){console.error(r)}}isCanceled(){return K(this,Y).isCanceled===!0}}class At extends fe{constructor(e){super({executor:e})}}Nt(At,"all",function(t){return Qt(t,Promise.all(t))}),Nt(At,"allSettled",function(t){return Qt(t,Promise.allSettled(t))}),Nt(At,"any",function(t){return Qt(t,Promise.any(t))}),Nt(At,"race",function(t){return Qt(t,Promise.race(t))}),Nt(At,"resolve",function(t){return On(Promise.resolve(t))}),Nt(At,"reject",function(t){return On(Promise.reject(t))}),Nt(At,"isCancelable",Qe);function On(t){return ee(t,tn())}function Qe(t){return t instanceof At||t instanceof fe}function Jt(t,e){if(t)return n=>{if(!e.isCanceled){var r=t(n);return Qe(r)&&e.onCancelList.push(r.cancel),r}return n}}function ee(t,e){return new fe({internals:e,promise:t})}function Qt(t,e){var n=tn();return n.onCancelList.push(()=>{for(var r of t)Qe(r)&&r.cancel()}),new fe({internals:n,promise:e})}function tn(){return{isCanceled:!1,onCancelList:[]}}var xe={},yi={2:t=>{function e(i,s,u){i instanceof RegExp&&(i=n(i,u)),s instanceof RegExp&&(s=n(s,u));var a=r(i,s,u);return a&&{start:a[0],end:a[1],pre:u.slice(0,a[0]),body:u.slice(a[0]+i.length,a[1]),post:u.slice(a[1]+s.length)}}function n(i,s){var u=s.match(i);return u?u[0]:null}function r(i,s,u){var a,c,o,l,p,h=u.indexOf(i),f=u.indexOf(s,h+1),d=h;if(h>=0&&f>0){for(a=[],o=u.length;d>=0&&!p;)d==h?(a.push(d),h=u.indexOf(i,d+1)):a.length==1?p=[a.pop(),f]:((c=a.pop())<o&&(o=c,l=f),f=u.indexOf(s,d+1)),d=h<f&&h>=0?h:f;a.length&&(p=[o,l])}return p}t.exports=e,e.range=r},101:function(t,e,n){var r;t=n.nmd(t),function(i){var s=(t&&t.exports,typeof Yt=="object"&&Yt);s.global!==s&&s.window;var u=function(p){this.message=p};(u.prototype=new Error).name="InvalidCharacterError";var a=function(p){throw new u(p)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=/[\t\n\f\r ]/g,l={encode:function(p){p=String(p),/[^\0-\xFF]/.test(p)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var h,f,d,g,y=p.length%3,w="",m=-1,b=p.length-y;++m<b;)h=p.charCodeAt(m)<<16,f=p.charCodeAt(++m)<<8,d=p.charCodeAt(++m),w+=c.charAt((g=h+f+d)>>18&63)+c.charAt(g>>12&63)+c.charAt(g>>6&63)+c.charAt(63&g);return y==2?(h=p.charCodeAt(m)<<8,f=p.charCodeAt(++m),w+=c.charAt((g=h+f)>>10)+c.charAt(g>>4&63)+c.charAt(g<<2&63)+"="):y==1&&(g=p.charCodeAt(m),w+=c.charAt(g>>2)+c.charAt(g<<4&63)+"=="),w},decode:function(p){var h=(p=String(p).replace(o,"")).length;h%4==0&&(h=(p=p.replace(/==?$/,"")).length),(h%4==1||/[^+a-zA-Z0-9/]/.test(p))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var f,d,g=0,y="",w=-1;++w<h;)d=c.indexOf(p.charAt(w)),f=g%4?64*f+d:d,g++%4&&(y+=String.fromCharCode(255&f>>(-2*g&6)));return y},version:"1.0.0"};(r=function(){return l}.call(e,n,e,t))===void 0||(t.exports=r)}()},172:(t,e)=>{e.d=function(n){if(!n)return 0;for(var r=(n=n.toString()).length,i=n.length;i--;){var s=n.charCodeAt(i);56320<=s&&s<=57343&&i--,127<s&&s<=2047?r++:2047<s&&s<=65535&&(r+=2)}return r}},526:t=>{var e={utf8:{stringToBytes:function(n){return e.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(e.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],i=0;i<n.length;i++)r.push(255&n.charCodeAt(i));return r},bytesToString:function(n){for(var r=[],i=0;i<n.length;i++)r.push(String.fromCharCode(n[i]));return r.join("")}}};t.exports=e},298:t=>{var e,n;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,i){return r<<i|r>>>32-i},rotr:function(r,i){return r<<32-i|r>>>i},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var i=0;i<r.length;i++)r[i]=n.endian(r[i]);return r},randomBytes:function(r){for(var i=[];r>0;r--)i.push(Math.floor(256*Math.random()));return i},bytesToWords:function(r){for(var i=[],s=0,u=0;s<r.length;s++,u+=8)i[u>>>5]|=r[s]<<24-u%32;return i},wordsToBytes:function(r){for(var i=[],s=0;s<32*r.length;s+=8)i.push(r[s>>>5]>>>24-s%32&255);return i},bytesToHex:function(r){for(var i=[],s=0;s<r.length;s++)i.push((r[s]>>>4).toString(16)),i.push((15&r[s]).toString(16));return i.join("")},hexToBytes:function(r){for(var i=[],s=0;s<r.length;s+=2)i.push(parseInt(r.substr(s,2),16));return i},bytesToBase64:function(r){for(var i=[],s=0;s<r.length;s+=3)for(var u=r[s]<<16|r[s+1]<<8|r[s+2],a=0;a<4;a++)8*s+6*a<=8*r.length?i.push(e.charAt(u>>>6*(3-a)&63)):i.push("=");return i.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],s=0,u=0;s<r.length;u=++s%4)u!=0&&i.push((e.indexOf(r.charAt(s-1))&Math.pow(2,-2*u+8)-1)<<2*u|e.indexOf(r.charAt(s))>>>6-2*u);return i}},t.exports=n},635:(t,e,n)=>{const r=n(31),i=n(338),s=n(221);t.exports={XMLParser:i,XMLValidator:r,XMLBuilder:s}},705:(t,e)=>{const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");e.isExist=function(s){return s!==void 0},e.isEmptyObject=function(s){return Object.keys(s).length===0},e.merge=function(s,u,a){if(u){const c=Object.keys(u),o=c.length;for(let l=0;l<o;l++)s[c[l]]=a==="strict"?[u[c[l]]]:u[c[l]]}},e.getValue=function(s){return e.isExist(s)?s:""},e.isName=function(s){return i.exec(s)!=null},e.getAllMatches=function(s,u){const a=[];let c=u.exec(s);for(;c;){const o=[];o.startIndex=u.lastIndex-c[0].length;const l=c.length;for(let p=0;p<l;p++)o.push(c[p]);a.push(o),c=u.exec(s)}return a},e.nameRegexp=r},31:(t,e,n)=>{const r=n(705),i={allowBooleanAttributes:!1,unpairedTags:[]};function s(m){return m===" "||m==="	"||m==="\n"||m==="\r"}function u(m,b){const E=b;for(;b<m.length;b++)if(!(m[b]!="?"&&m[b]!=" ")){const v=m.substr(E,b-E);if(b>5&&v==="xml")return d("InvalidXml","XML declaration allowed only at the start of the document.",y(m,b));if(m[b]=="?"&&m[b+1]==">"){b++;break}}return b}function a(m,b){if(m.length>b+5&&m[b+1]==="-"&&m[b+2]==="-"){for(b+=3;b<m.length;b++)if(m[b]==="-"&&m[b+1]==="-"&&m[b+2]===">"){b+=2;break}}else if(m.length>b+8&&m[b+1]==="D"&&m[b+2]==="O"&&m[b+3]==="C"&&m[b+4]==="T"&&m[b+5]==="Y"&&m[b+6]==="P"&&m[b+7]==="E"){let E=1;for(b+=8;b<m.length;b++)if(m[b]==="<")E++;else if(m[b]===">"&&(E--,E===0))break}else if(m.length>b+9&&m[b+1]==="["&&m[b+2]==="C"&&m[b+3]==="D"&&m[b+4]==="A"&&m[b+5]==="T"&&m[b+6]==="A"&&m[b+7]==="["){for(b+=8;b<m.length;b++)if(m[b]==="]"&&m[b+1]==="]"&&m[b+2]===">"){b+=2;break}}return b}e.validate=function(m,b){b=Object.assign({},i,b);const E=[];let v=!1,A=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let N=0;N<m.length;N++)if(m[N]==="<"&&m[N+1]==="?"){if(N+=2,N=u(m,N),N.err)return N}else{if(m[N]!=="<"){if(s(m[N]))continue;return d("InvalidChar","char '"+m[N]+"' is not expected.",y(m,N))}{let O=N;if(N++,m[N]==="!"){N=a(m,N);continue}{let C=!1;m[N]==="/"&&(C=!0,N++);let S="";for(;N<m.length&&m[N]!==">"&&m[N]!==" "&&m[N]!=="	"&&m[N]!=="\n"&&m[N]!=="\r";N++)S+=m[N];if(S=S.trim(),S[S.length-1]==="/"&&(S=S.substring(0,S.length-1),N--),x=S,!r.isName(x)){let _;return _=S.trim().length===0?"Invalid space after '<'.":"Tag '"+S+"' is an invalid name.",d("InvalidTag",_,y(m,N))}const P=l(m,N);if(P===!1)return d("InvalidAttr","Attributes for '"+S+"' have open quote.",y(m,N));let I=P.value;if(N=P.index,I[I.length-1]==="/"){const _=N-I.length;I=I.substring(0,I.length-1);const R=h(I,b);if(R!==!0)return d(R.err.code,R.err.msg,y(m,_+R.err.line));v=!0}else if(C){if(!P.tagClosed)return d("InvalidTag","Closing tag '"+S+"' doesn't have proper closing.",y(m,N));if(I.trim().length>0)return d("InvalidTag","Closing tag '"+S+"' can't have attributes or invalid starting.",y(m,O));if(E.length===0)return d("InvalidTag","Closing tag '"+S+"' has not been opened.",y(m,O));{const _=E.pop();if(S!==_.tagName){let R=y(m,_.tagStartPos);return d("InvalidTag","Expected closing tag '"+_.tagName+"' (opened in line "+R.line+", col "+R.col+") instead of closing tag '"+S+"'.",y(m,O))}E.length==0&&(A=!0)}}else{const _=h(I,b);if(_!==!0)return d(_.err.code,_.err.msg,y(m,N-I.length+_.err.line));if(A===!0)return d("InvalidXml","Multiple possible root nodes found.",y(m,N));b.unpairedTags.indexOf(S)!==-1||E.push({tagName:S,tagStartPos:O}),v=!0}for(N++;N<m.length;N++)if(m[N]==="<"){if(m[N+1]==="!"){N++,N=a(m,N);continue}if(m[N+1]!=="?")break;if(N=u(m,++N),N.err)return N}else if(m[N]==="&"){const _=f(m,N);if(_==-1)return d("InvalidChar","char '&' is not expected.",y(m,N));N=_}else if(A===!0&&!s(m[N]))return d("InvalidXml","Extra text at the end",y(m,N));m[N]==="<"&&N--}}}var x;return v?E.length==1?d("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",y(m,E[0].tagStartPos)):!(E.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(E.map(N=>N.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const c='"',o="'";function l(m,b){let E="",v="",A=!1;for(;b<m.length;b++){if(m[b]===c||m[b]===o)v===""?v=m[b]:v!==m[b]||(v="");else if(m[b]===">"&&v===""){A=!0;break}E+=m[b]}return v===""&&{value:E,index:b,tagClosed:A}}const p=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(m,b){const E=r.getAllMatches(m,p),v={};for(let A=0;A<E.length;A++){if(E[A][1].length===0)return d("InvalidAttr","Attribute '"+E[A][2]+"' has no space in starting.",w(E[A]));if(E[A][3]!==void 0&&E[A][4]===void 0)return d("InvalidAttr","Attribute '"+E[A][2]+"' is without value.",w(E[A]));if(E[A][3]===void 0&&!b.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+E[A][2]+"' is not allowed.",w(E[A]));const x=E[A][2];if(!g(x))return d("InvalidAttr","Attribute '"+x+"' is an invalid name.",w(E[A]));if(v.hasOwnProperty(x))return d("InvalidAttr","Attribute '"+x+"' is repeated.",w(E[A]));v[x]=1}return!0}function f(m,b){if(m[++b]===";")return-1;if(m[b]==="#")return function(v,A){let x=/\d/;for(v[A]==="x"&&(A++,x=/[\da-fA-F]/);A<v.length;A++){if(v[A]===";")return A;if(!v[A].match(x))break}return-1}(m,++b);let E=0;for(;b<m.length;b++,E++)if(!(m[b].match(/\w/)&&E<20)){if(m[b]===";")break;return-1}return b}function d(m,b,E){return{err:{code:m,msg:b,line:E.line||E,col:E.col}}}function g(m){return r.isName(m)}function y(m,b){const E=m.substring(0,b).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function w(m){return m.startIndex+m[1].length}},221:(t,e,n)=>{const r=n(87),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,l){return l},attributeValueProcessor:function(o,l){return l},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function s(o){this.options=Object.assign({},i,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=u,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function u(o,l,p){const h=this.j2x(o,p+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],l,h.attrStr,p):this.buildObjectNode(h.val,l,h.attrStr,p)}function a(o){return this.options.indentBy.repeat(o)}function c(o){return!(!o.startsWith(this.options.attributeNamePrefix)||o===this.options.textNodeName)&&o.substr(this.attrPrefixLen)}s.prototype.build=function(o){return this.options.preserveOrder?r(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},s.prototype.j2x=function(o,l){let p="",h="";for(let f in o)if(Object.prototype.hasOwnProperty.call(o,f))if(o[f]===void 0)this.isAttribute(f)&&(h+="");else if(o[f]===null)this.isAttribute(f)?h+="":f[0]==="?"?h+=this.indentate(l)+"<"+f+"?"+this.tagEndChar:h+=this.indentate(l)+"<"+f+"/"+this.tagEndChar;else if(o[f]instanceof Date)h+=this.buildTextValNode(o[f],f,"",l);else if(typeof o[f]!="object"){const d=this.isAttribute(f);if(d)p+=this.buildAttrPairStr(d,""+o[f]);else if(f===this.options.textNodeName){let g=this.options.tagValueProcessor(f,""+o[f]);h+=this.replaceEntitiesValue(g)}else h+=this.buildTextValNode(o[f],f,"",l)}else if(Array.isArray(o[f])){const d=o[f].length;let g="",y="";for(let w=0;w<d;w++){const m=o[f][w];if(m!==void 0)if(m===null)f[0]==="?"?h+=this.indentate(l)+"<"+f+"?"+this.tagEndChar:h+=this.indentate(l)+"<"+f+"/"+this.tagEndChar;else if(typeof m=="object")if(this.options.oneListGroup){const b=this.j2x(m,l+1);g+=b.val,this.options.attributesGroupName&&m.hasOwnProperty(this.options.attributesGroupName)&&(y+=b.attrStr)}else g+=this.processTextOrObjNode(m,f,l);else if(this.options.oneListGroup){let b=this.options.tagValueProcessor(f,m);b=this.replaceEntitiesValue(b),g+=b}else g+=this.buildTextValNode(m,f,"",l)}this.options.oneListGroup&&(g=this.buildObjectNode(g,f,y,l)),h+=g}else if(this.options.attributesGroupName&&f===this.options.attributesGroupName){const d=Object.keys(o[f]),g=d.length;for(let y=0;y<g;y++)p+=this.buildAttrPairStr(d[y],""+o[f][d[y]])}else h+=this.processTextOrObjNode(o[f],f,l);return{attrStr:p,val:h}},s.prototype.buildAttrPairStr=function(o,l){return l=this.options.attributeValueProcessor(o,""+l),l=this.replaceEntitiesValue(l),this.options.suppressBooleanAttributes&&l==="true"?" "+o:" "+o+'="'+l+'"'},s.prototype.buildObjectNode=function(o,l,p,h){if(o==="")return l[0]==="?"?this.indentate(h)+"<"+l+p+"?"+this.tagEndChar:this.indentate(h)+"<"+l+p+this.closeTag(l)+this.tagEndChar;{let f="</"+l+this.tagEndChar,d="";return l[0]==="?"&&(d="?",f=""),!p&&p!==""||o.indexOf("<")!==-1?this.options.commentPropName!==!1&&l===this.options.commentPropName&&d.length===0?this.indentate(h)+"<!--".concat(o,"-->")+this.newLine:this.indentate(h)+"<"+l+p+d+this.tagEndChar+o+this.indentate(h)+f:this.indentate(h)+"<"+l+p+d+">"+o+f}},s.prototype.closeTag=function(o){let l="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(l="/"):l=this.options.suppressEmptyNode?"/":"></".concat(o),l},s.prototype.buildTextValNode=function(o,l,p,h){if(this.options.cdataPropName!==!1&&l===this.options.cdataPropName)return this.indentate(h)+"<![CDATA[".concat(o,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&l===this.options.commentPropName)return this.indentate(h)+"<!--".concat(o,"-->")+this.newLine;if(l[0]==="?")return this.indentate(h)+"<"+l+p+"?"+this.tagEndChar;{let f=this.options.tagValueProcessor(l,o);return f=this.replaceEntitiesValue(f),f===""?this.indentate(h)+"<"+l+p+this.closeTag(l)+this.tagEndChar:this.indentate(h)+"<"+l+p+">"+f+"</"+l+this.tagEndChar}},s.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let l=0;l<this.options.entities.length;l++){const p=this.options.entities[l];o=o.replace(p.regex,p.val)}return o},t.exports=s},87:t=>{function e(u,a,c,o){let l="",p=!1;for(let h=0;h<u.length;h++){const f=u[h],d=n(f);if(d===void 0)continue;let g="";if(g=c.length===0?d:"".concat(c,".").concat(d),d===a.textNodeName){let b=f[d];i(g,a)||(b=a.tagValueProcessor(d,b),b=s(b,a)),p&&(l+=o),l+=b,p=!1;continue}if(d===a.cdataPropName){p&&(l+=o),l+="<![CDATA[".concat(f[d][0][a.textNodeName],"]]>"),p=!1;continue}if(d===a.commentPropName){l+=o+"<!--".concat(f[d][0][a.textNodeName],"-->"),p=!0;continue}if(d[0]==="?"){const b=r(f[":@"],a),E=d==="?xml"?"":o;let v=f[d][0][a.textNodeName];v=v.length!==0?" "+v:"",l+=E+"<".concat(d).concat(v).concat(b,"?>"),p=!0;continue}let y=o;y!==""&&(y+=a.indentBy);const w=o+"<".concat(d).concat(r(f[":@"],a)),m=e(f[d],a,g,y);a.unpairedTags.indexOf(d)!==-1?a.suppressUnpairedNode?l+=w+">":l+=w+"/>":m&&m.length!==0||!a.suppressEmptyNode?m&&m.endsWith(">")?l+=w+">".concat(m).concat(o,"</").concat(d,">"):(l+=w+">",m&&o!==""&&(m.includes("/>")||m.includes("</"))?l+=o+a.indentBy+m+o:l+=m,l+="</".concat(d,">")):l+=w+"/>",p=!0}return l}function n(u){const a=Object.keys(u);for(let c=0;c<a.length;c++){const o=a[c];if(u.hasOwnProperty(o)&&o!==":@")return o}}function r(u,a){let c="";if(u&&!a.ignoreAttributes)for(let o in u){if(!u.hasOwnProperty(o))continue;let l=a.attributeValueProcessor(o,u[o]);l=s(l,a),l===!0&&a.suppressBooleanAttributes?c+=" ".concat(o.substr(a.attributeNamePrefix.length)):c+=" ".concat(o.substr(a.attributeNamePrefix.length),'="').concat(l,'"')}return c}function i(u,a){let c=(u=u.substr(0,u.length-a.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let o in a.stopNodes)if(a.stopNodes[o]===u||a.stopNodes[o]==="*."+c)return!0;return!1}function s(u,a){if(u&&u.length>0&&a.processEntities)for(let c=0;c<a.entities.length;c++){const o=a.entities[c];u=u.replace(o.regex,o.val)}return u}t.exports=function(u,a){let c="";return a.format&&a.indentBy.length>0&&(c="\n"),e(u,a,"",c)}},193:(t,e,n)=>{const r=n(705);function i(p,h){let f="";for(;h<p.length&&p[h]!=="'"&&p[h]!=='"';h++)f+=p[h];if(f=f.trim(),f.indexOf(" ")!==-1)throw new Error("External entites are not supported");const d=p[h++];let g="";for(;h<p.length&&p[h]!==d;h++)g+=p[h];return[f,g,h]}function s(p,h){return p[h+1]==="!"&&p[h+2]==="-"&&p[h+3]==="-"}function u(p,h){return p[h+1]==="!"&&p[h+2]==="E"&&p[h+3]==="N"&&p[h+4]==="T"&&p[h+5]==="I"&&p[h+6]==="T"&&p[h+7]==="Y"}function a(p,h){return p[h+1]==="!"&&p[h+2]==="E"&&p[h+3]==="L"&&p[h+4]==="E"&&p[h+5]==="M"&&p[h+6]==="E"&&p[h+7]==="N"&&p[h+8]==="T"}function c(p,h){return p[h+1]==="!"&&p[h+2]==="A"&&p[h+3]==="T"&&p[h+4]==="T"&&p[h+5]==="L"&&p[h+6]==="I"&&p[h+7]==="S"&&p[h+8]==="T"}function o(p,h){return p[h+1]==="!"&&p[h+2]==="N"&&p[h+3]==="O"&&p[h+4]==="T"&&p[h+5]==="A"&&p[h+6]==="T"&&p[h+7]==="I"&&p[h+8]==="O"&&p[h+9]==="N"}function l(p){if(r.isName(p))return p;throw new Error("Invalid entity name ".concat(p))}t.exports=function(p,h){const f={};if(p[h+3]!=="O"||p[h+4]!=="C"||p[h+5]!=="T"||p[h+6]!=="Y"||p[h+7]!=="P"||p[h+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{h+=9;let d=1,g=!1,y=!1,w="";for(;h<p.length;h++)if(p[h]!=="<"||y)if(p[h]===">"){if(y?p[h-1]==="-"&&p[h-2]==="-"&&(y=!1,d--):d--,d===0)break}else p[h]==="["?g=!0:w+=p[h];else{if(g&&u(p,h))h+=7,[entityName,val,h]=i(p,h+1),val.indexOf("&")===-1&&(f[l(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(g&&a(p,h))h+=8;else if(g&&c(p,h))h+=8;else if(g&&o(p,h))h+=9;else{if(!s)throw new Error("Invalid DOCTYPE");y=!0}d++,w=""}if(d!==0)throw new Error("Unclosed DOCTYPE")}return{entities:f,i:h}}},63:(t,e)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,i){return i},attributeValueProcessor:function(r,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,i,s){return r}};e.buildOptions=function(r){return Object.assign({},n,r)},e.defaultOptions=n},299:(t,e,n)=>{const r=n(705),i=n(365),s=n(193),u=n(494);function a(v){const A=Object.keys(v);for(let x=0;x<A.length;x++){const N=A[x];this.lastEntities[N]={regex:new RegExp("&"+N+";","g"),val:v[N]}}}function c(v,A,x,N,O,C,S){if(v!==void 0&&(this.options.trimValues&&!N&&(v=v.trim()),v.length>0)){S||(v=this.replaceEntitiesValue(v));const P=this.options.tagValueProcessor(A,v,x,O,C);return P==null?v:typeof P!=typeof v||P!==v?P:this.options.trimValues||v.trim()===v?E(v,this.options.parseTagValue,this.options.numberParseOptions):v}}function o(v){if(this.options.removeNSPrefix){const A=v.split(":"),x=v.charAt(0)==="/"?"/":"";if(A[0]==="xmlns")return"";A.length===2&&(v=x+A[1])}return v}const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function p(v,A,x){if(!this.options.ignoreAttributes&&typeof v=="string"){const N=r.getAllMatches(v,l),O=N.length,C={};for(let S=0;S<O;S++){const P=this.resolveNameSpace(N[S][1]);let I=N[S][4],_=this.options.attributeNamePrefix+P;if(P.length)if(this.options.transformAttributeName&&(_=this.options.transformAttributeName(_)),_==="__proto__"&&(_="#__proto__"),I!==void 0){this.options.trimValues&&(I=I.trim()),I=this.replaceEntitiesValue(I);const R=this.options.attributeValueProcessor(P,I,A);C[_]=R==null?I:typeof R!=typeof I||R!==I?R:E(I,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(C[_]=!0)}if(!Object.keys(C).length)return;if(this.options.attributesGroupName){const S={};return S[this.options.attributesGroupName]=C,S}return C}}const h=function(v){v=v.replace(/\r\n?/g,"\n");const A=new i("!xml");let x=A,N="",O="";for(let C=0;C<v.length;C++)if(v[C]==="<")if(v[C+1]==="/"){const S=w(v,">",C,"Closing Tag is not closed.");let P=v.substring(C+2,S).trim();if(this.options.removeNSPrefix){const R=P.indexOf(":");R!==-1&&(P=P.substr(R+1))}this.options.transformTagName&&(P=this.options.transformTagName(P)),x&&(N=this.saveTextToParentTag(N,x,O));const I=O.substring(O.lastIndexOf(".")+1);if(P&&this.options.unpairedTags.indexOf(P)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(P,">"));let _=0;I&&this.options.unpairedTags.indexOf(I)!==-1?(_=O.lastIndexOf(".",O.lastIndexOf(".")-1),this.tagsNodeStack.pop()):_=O.lastIndexOf("."),O=O.substring(0,_),x=this.tagsNodeStack.pop(),N="",C=S}else if(v[C+1]==="?"){let S=m(v,C,!1,"?>");if(!S)throw new Error("Pi Tag is not closed.");if(N=this.saveTextToParentTag(N,x,O),!(this.options.ignoreDeclaration&&S.tagName==="?xml"||this.options.ignorePiTags)){const P=new i(S.tagName);P.add(this.options.textNodeName,""),S.tagName!==S.tagExp&&S.attrExpPresent&&(P[":@"]=this.buildAttributesMap(S.tagExp,O,S.tagName)),this.addChild(x,P,O)}C=S.closeIndex+1}else if(v.substr(C+1,3)==="!--"){const S=w(v,"-->",C+4,"Comment is not closed.");if(this.options.commentPropName){const P=v.substring(C+4,S-2);N=this.saveTextToParentTag(N,x,O),x.add(this.options.commentPropName,[{[this.options.textNodeName]:P}])}C=S}else if(v.substr(C+1,2)==="!D"){const S=s(v,C);this.docTypeEntities=S.entities,C=S.i}else if(v.substr(C+1,2)==="!["){const S=w(v,"]]>",C,"CDATA is not closed.")-2,P=v.substring(C+9,S);N=this.saveTextToParentTag(N,x,O);let I=this.parseTextData(P,x.tagname,O,!0,!1,!0,!0);I==null&&(I=""),this.options.cdataPropName?x.add(this.options.cdataPropName,[{[this.options.textNodeName]:P}]):x.add(this.options.textNodeName,I),C=S+2}else{let S=m(v,C,this.options.removeNSPrefix),P=S.tagName;const I=S.rawTagName;let _=S.tagExp,R=S.attrExpPresent,ft=S.closeIndex;this.options.transformTagName&&(P=this.options.transformTagName(P)),x&&N&&x.tagname!=="!xml"&&(N=this.saveTextToParentTag(N,x,O,!1));const B=x;if(B&&this.options.unpairedTags.indexOf(B.tagname)!==-1&&(x=this.tagsNodeStack.pop(),O=O.substring(0,O.lastIndexOf("."))),P!==A.tagname&&(O+=O?"."+P:P),this.isItStopNode(this.options.stopNodes,O,P)){let $="";if(_.length>0&&_.lastIndexOf("/")===_.length-1)P[P.length-1]==="/"?(P=P.substr(0,P.length-1),O=O.substr(0,O.length-1),_=P):_=_.substr(0,_.length-1),C=S.closeIndex;else if(this.options.unpairedTags.indexOf(P)!==-1)C=S.closeIndex;else{const Q=this.readStopNodeData(v,I,ft+1);if(!Q)throw new Error("Unexpected end of ".concat(I));C=Q.i,$=Q.tagContent}const at=new i(P);P!==_&&R&&(at[":@"]=this.buildAttributesMap(_,O,P)),$&&($=this.parseTextData($,P,O,!0,R,!0,!0)),O=O.substr(0,O.lastIndexOf(".")),at.add(this.options.textNodeName,$),this.addChild(x,at,O)}else{if(_.length>0&&_.lastIndexOf("/")===_.length-1){P[P.length-1]==="/"?(P=P.substr(0,P.length-1),O=O.substr(0,O.length-1),_=P):_=_.substr(0,_.length-1),this.options.transformTagName&&(P=this.options.transformTagName(P));const $=new i(P);P!==_&&R&&($[":@"]=this.buildAttributesMap(_,O,P)),this.addChild(x,$,O),O=O.substr(0,O.lastIndexOf("."))}else{const $=new i(P);this.tagsNodeStack.push(x),P!==_&&R&&($[":@"]=this.buildAttributesMap(_,O,P)),this.addChild(x,$,O),x=$}N="",C=ft}}else N+=v[C];return A.child};function f(v,A,x){const N=this.options.updateTag(A.tagname,x,A[":@"]);N===!1||(typeof N=="string"&&(A.tagname=N),v.addChild(A))}const d=function(v){if(this.options.processEntities){for(let A in this.docTypeEntities){const x=this.docTypeEntities[A];v=v.replace(x.regx,x.val)}for(let A in this.lastEntities){const x=this.lastEntities[A];v=v.replace(x.regex,x.val)}if(this.options.htmlEntities)for(let A in this.htmlEntities){const x=this.htmlEntities[A];v=v.replace(x.regex,x.val)}v=v.replace(this.ampEntity.regex,this.ampEntity.val)}return v};function g(v,A,x,N){return v&&(N===void 0&&(N=Object.keys(A.child).length===0),(v=this.parseTextData(v,A.tagname,x,!1,!!A[":@"]&&Object.keys(A[":@"]).length!==0,N))!==void 0&&v!==""&&A.add(this.options.textNodeName,v),v=""),v}function y(v,A,x){const N="*."+x;for(const O in v){const C=v[O];if(N===C||A===C)return!0}return!1}function w(v,A,x,N){const O=v.indexOf(A,x);if(O===-1)throw new Error(N);return O+A.length-1}function m(v,A,x){const N=function(R,ft){let B,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",at="";for(let Q=ft;Q<R.length;Q++){let H=R[Q];if(B)H===B&&(B="");else if(H==='"'||H==="'")B=H;else if(H===$[0]){if(!$[1])return{data:at,index:Q};if(R[Q+1]===$[1])return{data:at,index:Q}}else H==="	"&&(H=" ");at+=H}}(v,A+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!N)return;let O=N.data;const C=N.index,S=O.search(/\s/);let P=O,I=!0;S!==-1&&(P=O.substring(0,S),O=O.substring(S+1).trimStart());const _=P;if(x){const R=P.indexOf(":");R!==-1&&(P=P.substr(R+1),I=P!==N.data.substr(R+1))}return{tagName:P,tagExp:O,closeIndex:C,attrExpPresent:I,rawTagName:_}}function b(v,A,x){const N=x;let O=1;for(;x<v.length;x++)if(v[x]==="<")if(v[x+1]==="/"){const C=w(v,">",x,"".concat(A," is not closed"));if(v.substring(x+2,C).trim()===A&&(O--,O===0))return{tagContent:v.substring(N,x),i:C};x=C}else if(v[x+1]==="?")x=w(v,"?>",x+1,"StopNode is not closed.");else if(v.substr(x+1,3)==="!--")x=w(v,"-->",x+3,"StopNode is not closed.");else if(v.substr(x+1,2)==="![")x=w(v,"]]>",x,"StopNode is not closed.")-2;else{const C=m(v,x,">");C&&((C&&C.tagName)===A&&C.tagExp[C.tagExp.length-1]!=="/"&&O++,x=C.closeIndex)}}function E(v,A,x){if(A&&typeof v=="string"){const N=v.trim();return N==="true"||N!=="false"&&u(v,x)}return r.isExist(v)?v:""}t.exports=class{constructor(v){this.options=v,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(A,x)=>String.fromCharCode(Number.parseInt(x,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(A,x)=>String.fromCharCode(Number.parseInt(x,16))}},this.addExternalEntities=a,this.parseXml=h,this.parseTextData=c,this.resolveNameSpace=o,this.buildAttributesMap=p,this.isItStopNode=y,this.replaceEntitiesValue=d,this.readStopNodeData=b,this.saveTextToParentTag=g,this.addChild=f}}},338:(t,e,n)=>{const{buildOptions:r}=n(63),i=n(299),{prettify:s}=n(728),u=n(31);t.exports=class{constructor(a){this.externalEntities={},this.options=r(a)}parse(a,c){if(typeof a!="string"){if(!a.toString)throw new Error("XML data is accepted in String or Bytes[] form.");a=a.toString()}if(c){c===!0&&(c={});const p=u.validate(a,c);if(p!==!0)throw Error("".concat(p.err.msg,":").concat(p.err.line,":").concat(p.err.col))}const o=new i(this.options);o.addExternalEntities(this.externalEntities);const l=o.parseXml(a);return this.options.preserveOrder||l===void 0?l:s(l,this.options)}addEntity(a,c){if(c.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(a.indexOf("&")!==-1||a.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(c==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[a]=c}}},728:(t,e)=>{function n(u,a,c){let o;const l={};for(let p=0;p<u.length;p++){const h=u[p],f=r(h);let d="";if(d=c===void 0?f:c+"."+f,f===a.textNodeName)o===void 0?o=h[f]:o+=""+h[f];else{if(f===void 0)continue;if(h[f]){let g=n(h[f],a,d);const y=s(g,a);h[":@"]?i(g,h[":@"],d,a):Object.keys(g).length!==1||g[a.textNodeName]===void 0||a.alwaysCreateTextNode?Object.keys(g).length===0&&(a.alwaysCreateTextNode?g[a.textNodeName]="":g=""):g=g[a.textNodeName],l[f]!==void 0&&l.hasOwnProperty(f)?(Array.isArray(l[f])||(l[f]=[l[f]]),l[f].push(g)):a.isArray(f,d,y)?l[f]=[g]:l[f]=g}}}return typeof o=="string"?o.length>0&&(l[a.textNodeName]=o):o!==void 0&&(l[a.textNodeName]=o),l}function r(u){const a=Object.keys(u);for(let c=0;c<a.length;c++){const o=a[c];if(o!==":@")return o}}function i(u,a,c,o){if(a){const l=Object.keys(a),p=l.length;for(let h=0;h<p;h++){const f=l[h];o.isArray(f,c+"."+f,!0,!0)?u[f]=[a[f]]:u[f]=a[f]}}}function s(u,a){const{textNodeName:c}=a,o=Object.keys(u).length;return o===0||!(o!==1||!u[c]&&typeof u[c]!="boolean"&&u[c]!==0)}e.prettify=function(u,a){return n(u,a)}},365:t=>{t.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},135:t=>{function e(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}t.exports=function(n){return n!=null&&(e(n)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&e(r.slice(0,0))}(n)||!!n._isBuffer)}},542:(t,e,n)=>{(function(){var r=n(298),i=n(526).utf8,s=n(135),u=n(526).bin,a=function(c,o){c.constructor==String?c=o&&o.encoding==="binary"?u.stringToBytes(c):i.stringToBytes(c):s(c)?c=Array.prototype.slice.call(c,0):Array.isArray(c)||c.constructor===Uint8Array||(c=c.toString());for(var l=r.bytesToWords(c),p=8*c.length,h=1732584193,f=-271733879,d=-1732584194,g=271733878,y=0;y<l.length;y++)l[y]=16711935&(l[y]<<8|l[y]>>>24)|4278255360&(l[y]<<24|l[y]>>>8);l[p>>>5]|=128<<p%32,l[14+(p+64>>>9<<4)]=p;var w=a._ff,m=a._gg,b=a._hh,E=a._ii;for(y=0;y<l.length;y+=16){var v=h,A=f,x=d,N=g;h=w(h,f,d,g,l[y+0],7,-680876936),g=w(g,h,f,d,l[y+1],12,-389564586),d=w(d,g,h,f,l[y+2],17,606105819),f=w(f,d,g,h,l[y+3],22,-1044525330),h=w(h,f,d,g,l[y+4],7,-176418897),g=w(g,h,f,d,l[y+5],12,1200080426),d=w(d,g,h,f,l[y+6],17,-1473231341),f=w(f,d,g,h,l[y+7],22,-45705983),h=w(h,f,d,g,l[y+8],7,1770035416),g=w(g,h,f,d,l[y+9],12,-1958414417),d=w(d,g,h,f,l[y+10],17,-42063),f=w(f,d,g,h,l[y+11],22,-1990404162),h=w(h,f,d,g,l[y+12],7,1804603682),g=w(g,h,f,d,l[y+13],12,-40341101),d=w(d,g,h,f,l[y+14],17,-1502002290),h=m(h,f=w(f,d,g,h,l[y+15],22,1236535329),d,g,l[y+1],5,-165796510),g=m(g,h,f,d,l[y+6],9,-1069501632),d=m(d,g,h,f,l[y+11],14,643717713),f=m(f,d,g,h,l[y+0],20,-373897302),h=m(h,f,d,g,l[y+5],5,-701558691),g=m(g,h,f,d,l[y+10],9,38016083),d=m(d,g,h,f,l[y+15],14,-660478335),f=m(f,d,g,h,l[y+4],20,-405537848),h=m(h,f,d,g,l[y+9],5,568446438),g=m(g,h,f,d,l[y+14],9,-1019803690),d=m(d,g,h,f,l[y+3],14,-187363961),f=m(f,d,g,h,l[y+8],20,1163531501),h=m(h,f,d,g,l[y+13],5,-1444681467),g=m(g,h,f,d,l[y+2],9,-51403784),d=m(d,g,h,f,l[y+7],14,1735328473),h=b(h,f=m(f,d,g,h,l[y+12],20,-1926607734),d,g,l[y+5],4,-378558),g=b(g,h,f,d,l[y+8],11,-2022574463),d=b(d,g,h,f,l[y+11],16,1839030562),f=b(f,d,g,h,l[y+14],23,-35309556),h=b(h,f,d,g,l[y+1],4,-1530992060),g=b(g,h,f,d,l[y+4],11,1272893353),d=b(d,g,h,f,l[y+7],16,-155497632),f=b(f,d,g,h,l[y+10],23,-1094730640),h=b(h,f,d,g,l[y+13],4,681279174),g=b(g,h,f,d,l[y+0],11,-358537222),d=b(d,g,h,f,l[y+3],16,-722521979),f=b(f,d,g,h,l[y+6],23,76029189),h=b(h,f,d,g,l[y+9],4,-640364487),g=b(g,h,f,d,l[y+12],11,-421815835),d=b(d,g,h,f,l[y+15],16,530742520),h=E(h,f=b(f,d,g,h,l[y+2],23,-995338651),d,g,l[y+0],6,-198630844),g=E(g,h,f,d,l[y+7],10,1126891415),d=E(d,g,h,f,l[y+14],15,-1416354905),f=E(f,d,g,h,l[y+5],21,-57434055),h=E(h,f,d,g,l[y+12],6,1700485571),g=E(g,h,f,d,l[y+3],10,-1894986606),d=E(d,g,h,f,l[y+10],15,-1051523),f=E(f,d,g,h,l[y+1],21,-2054922799),h=E(h,f,d,g,l[y+8],6,1873313359),g=E(g,h,f,d,l[y+15],10,-30611744),d=E(d,g,h,f,l[y+6],15,-1560198380),f=E(f,d,g,h,l[y+13],21,1309151649),h=E(h,f,d,g,l[y+4],6,-145523070),g=E(g,h,f,d,l[y+11],10,-1120210379),d=E(d,g,h,f,l[y+2],15,718787259),f=E(f,d,g,h,l[y+9],21,-343485551),h=h+v>>>0,f=f+A>>>0,d=d+x>>>0,g=g+N>>>0}return r.endian([h,f,d,g])};a._ff=function(c,o,l,p,h,f,d){var g=c+(o&l|~o&p)+(h>>>0)+d;return(g<<f|g>>>32-f)+o},a._gg=function(c,o,l,p,h,f,d){var g=c+(o&p|l&~p)+(h>>>0)+d;return(g<<f|g>>>32-f)+o},a._hh=function(c,o,l,p,h,f,d){var g=c+(o^l^p)+(h>>>0)+d;return(g<<f|g>>>32-f)+o},a._ii=function(c,o,l,p,h,f,d){var g=c+(l^(o|~p))+(h>>>0)+d;return(g<<f|g>>>32-f)+o},a._blocksize=16,a._digestsize=16,t.exports=function(c,o){if(c==null)throw new Error("Illegal argument "+c);var l=r.wordsToBytes(a(c,o));return o&&o.asBytes?l:o&&o.asString?u.bytesToString(l):r.bytesToHex(l)}})()},285:(t,e,n)=>{var r=n(2);t.exports=function(w){return w?(w.substr(0,2)==="{}"&&(w="\\{\\}"+w.substr(2)),y(function(m){return m.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(u).split("\\,").join(a).split("\\.").join(c)}(w),!0).map(l)):[]};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",u="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function o(w){return parseInt(w,10)==w?parseInt(w,10):w.charCodeAt(0)}function l(w){return w.split(i).join("\\").split(s).join("{").split(u).join("}").split(a).join(",").split(c).join(".")}function p(w){if(!w)return[""];var m=[],b=r("{","}",w);if(!b)return w.split(",");var E=b.pre,v=b.body,A=b.post,x=E.split(",");x[x.length-1]+="{"+v+"}";var N=p(A);return A.length&&(x[x.length-1]+=N.shift(),x.push.apply(x,N)),m.push.apply(m,x),m}function h(w){return"{"+w+"}"}function f(w){return/^-?0\d/.test(w)}function d(w,m){return w<=m}function g(w,m){return w>=m}function y(w,m){var b=[],E=r("{","}",w);if(!E)return[w];var v=E.pre,A=E.post.length?y(E.post,!1):[""];if(/\$$/.test(E.pre))for(var x=0;x<A.length;x++){var N=v+"{"+E.body+"}"+A[x];b.push(N)}else{var O,C,S=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(E.body),P=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(E.body),I=S||P,_=E.body.indexOf(",")>=0;if(!I&&!_)return E.post.match(/,.*\}/)?y(w=E.pre+"{"+E.body+u+E.post):[w];if(I)O=E.body.split(/\.\./);else if((O=p(E.body)).length===1&&(O=y(O[0],!1).map(h)).length===1)return A.map(function(Gr){return E.pre+O[0]+Gr});if(I){var R=o(O[0]),ft=o(O[1]),B=Math.max(O[0].length,O[1].length),$=O.length==3?Math.abs(o(O[2])):1,at=d;ft<R&&($*=-1,at=g);var Q=O.some(f);C=[];for(var H=R;at(H,ft);H+=$){var Et;if(P)(Et=String.fromCharCode(H))==="\\"&&(Et="");else if(Et=String(H),Q){var bn=B-Et.length;if(bn>0){var vn=new Array(bn+1).join("0");Et=H<0?"-"+vn+Et.slice(1):vn+Et}}C.push(Et)}}else{C=[];for(var Ct=0;Ct<O.length;Ct++)C.push.apply(C,y(O[Ct],!1))}for(Ct=0;Ct<C.length;Ct++)for(x=0;x<A.length;x++)N=v+C[Ct]+A[x],(!m||I||N)&&b.push(N)}return b}},829:t=>{function e(o){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(o)}function n(o){var l=typeof Map=="function"?new Map:void 0;return n=function(p){if(p===null||(h=p,Function.toString.call(h).indexOf("[native code]")===-1))return p;var h;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(p))return l.get(p);l.set(p,f)}function f(){return r(p,arguments,s(this).constructor)}return f.prototype=Object.create(p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),i(f,p)},n(o)}function r(o,l,p){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(h){return!1}}()?Reflect.construct:function(h,f,d){var g=[null];g.push.apply(g,f);var y=new(Function.bind.apply(h,g));return d&&i(y,d.prototype),y},r.apply(null,arguments)}function i(o,l){return i=Object.setPrototypeOf||function(p,h){return p.__proto__=h,p},i(o,l)}function s(o){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},s(o)}var u=function(o){function l(p){var h;return function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}(this,l),(h=function(f,d){return!d||e(d)!=="object"&&typeof d!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(f):d}(this,s(l).call(this,p))).name="ObjectPrototypeMutationError",h}return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),h&&i(p,h)}(l,o),l}(n(Error));function a(o,l){for(var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},h=l.split("."),f=h.length,d=function(w){var m=h[w];if(!o)return{v:void 0};if(m==="+"){if(Array.isArray(o))return{v:o.map(function(E,v){var A=h.slice(w+1);return A.length>0?a(E,A.join("."),p):p(o,v,h,w)})};var b=h.slice(0,w).join(".");throw new Error("Object at wildcard (".concat(b,") is not an array"))}o=p(o,m,h,w)},g=0;g<f;g++){var y=d(g);if(e(y)==="object")return y.v}return o}function c(o,l){return o.length===l+1}t.exports={set:function(o,l,p){if(e(o)!="object"||o===null||l===void 0)return o;if(typeof l=="number")return o[l]=p,o[l];try{return a(o,l,function(h,f,d,g){if(h===Reflect.getPrototypeOf({}))throw new u("Attempting to mutate Object.prototype");if(!h[f]){var y=Number.isInteger(Number(d[g+1])),w=d[g+1]==="+";h[f]=y||w?[]:{}}return c(d,g)&&(h[f]=p),h[f]})}catch(h){if(h instanceof u)throw h;return o}},get:function(o,l){if(e(o)!="object"||o===null||l===void 0)return o;if(typeof l=="number")return o[l];try{return a(o,l,function(p,h){return p[h]})}catch(p){return o}},has:function(o,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e(o)!="object"||o===null||l===void 0)return!1;if(typeof l=="number")return l in o;try{var h=!1;return a(o,l,function(f,d,g,y){if(!c(g,y))return f&&f[d];h=p.own?f.hasOwnProperty(d):d in f}),h}catch(f){return!1}},hasOwn:function(o,l,p){return this.has(o,l,p||{own:!0})},isIn:function(o,l,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e(o)!="object"||o===null||l===void 0)return!1;try{var f=!1,d=!1;return a(o,l,function(g,y,w,m){return f=f||g===p||!!g&&g[y]===p,d=c(w,m)&&e(g)==="object"&&y in g,g&&g[y]}),h.validPath?f&&d:f}catch(g){return!1}},ObjectPrototypeMutationError:u}},47:(t,e,n)=>{var r=n(410),i=function(o){return typeof o=="string"};function s(o,l){for(var p=[],h=0;h<o.length;h++){var f=o[h];f&&f!=="."&&(f===".."?p.length&&p[p.length-1]!==".."?p.pop():l&&p.push(".."):p.push(f))}return p}var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};function c(o){return u.exec(o).slice(1)}a.resolve=function(){for(var o="",l=!1,p=arguments.length-1;p>=-1&&!l;p--){var h=p>=0?arguments[p]:zt.cwd();if(!i(h))throw new TypeError("Arguments to path.resolve must be strings");h&&(o=h+"/"+o,l=h.charAt(0)==="/")}return(l?"/":"")+(o=s(o.split("/"),!l).join("/"))||"."},a.normalize=function(o){var l=a.isAbsolute(o),p=o.substr(-1)==="/";return(o=s(o.split("/"),!l).join("/"))||l||(o="."),o&&p&&(o+="/"),(l?"/":"")+o},a.isAbsolute=function(o){return o.charAt(0)==="/"},a.join=function(){for(var o="",l=0;l<arguments.length;l++){var p=arguments[l];if(!i(p))throw new TypeError("Arguments to path.join must be strings");p&&(o+=o?"/"+p:p)}return a.normalize(o)},a.relative=function(o,l){function p(m){for(var b=0;b<m.length&&m[b]==="";b++);for(var E=m.length-1;E>=0&&m[E]==="";E--);return b>E?[]:m.slice(b,E+1)}o=a.resolve(o).substr(1),l=a.resolve(l).substr(1);for(var h=p(o.split("/")),f=p(l.split("/")),d=Math.min(h.length,f.length),g=d,y=0;y<d;y++)if(h[y]!==f[y]){g=y;break}var w=[];for(y=g;y<h.length;y++)w.push("..");return(w=w.concat(f.slice(g))).join("/")},a._makeLong=function(o){return o},a.dirname=function(o){var l=c(o),p=l[0],h=l[1];return p||h?(h&&(h=h.substr(0,h.length-1)),p+h):"."},a.basename=function(o,l){var p=c(o)[2];return l&&p.substr(-1*l.length)===l&&(p=p.substr(0,p.length-l.length)),p},a.extname=function(o){return c(o)[3]},a.format=function(o){if(!r.isObject(o))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof o);var l=o.root||"";if(!i(l))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof o.root);return(o.dir?o.dir+a.sep:"")+(o.base||"")},a.parse=function(o){if(!i(o))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var l=c(o);if(!l||l.length!==4)throw new TypeError("Invalid path '"+o+"'");return l[1]=l[1]||"",l[2]=l[2]||"",l[3]=l[3]||"",{root:l[0],dir:l[0]+l[1].slice(0,l[1].length-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}},a.sep="/",a.delimiter=":",t.exports=a},647:(t,e)=>{var n=Object.prototype.hasOwnProperty;function r(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch(u){return null}}function i(s){try{return encodeURIComponent(s)}catch(u){return null}}e.stringify=function(s,u){u=u||"";var a,c,o=[];for(c in typeof u!="string"&&(u="?"),s)if(n.call(s,c)){if((a=s[c])||a!=null&&!isNaN(a)||(a=""),c=i(c),a=i(a),c===null||a===null)continue;o.push(c+"="+a)}return o.length?u+o.join("&"):""},e.parse=function(s){for(var u,a=/([^=?#&]+)=?([^&]*)/g,c={};u=a.exec(s);){var o=r(u[1]),l=r(u[2]);o===null||l===null||o in c||(c[o]=l)}return c}},670:t=>{t.exports=function(e,n){if(n=n.split(":")[0],!(e=+e))return!1;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}},494:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s=Object.assign({},r,s),!i||typeof i!="string")return i;let u=i.trim();if(s.skipLike!==void 0&&s.skipLike.test(u))return i;if(s.hex&&e.test(u))return Number.parseInt(u,16);{const c=n.exec(u);if(c){const o=c[1],l=c[2];let p=((a=c[3])&&a.indexOf(".")!==-1&&((a=a.replace(/0+$/,""))==="."?a="0":a[0]==="."?a="0"+a:a[a.length-1]==="."&&(a=a.substr(0,a.length-1))),a);const h=c[4]||c[6];if(!s.leadingZeros&&l.length>0&&o&&u[2]!=="."||!s.leadingZeros&&l.length>0&&!o&&u[1]!==".")return i;{const f=Number(u),d=""+f;return d.search(/[eE]/)!==-1||h?s.eNotation?f:i:u.indexOf(".")!==-1?d==="0"&&p===""||d===p||o&&d==="-"+p?f:i:l?p===d||o+p===d?f:i:u===d||u===o+d?f:i}}return i}var a}},737:(t,e,n)=>{var r=n(670),i=n(647),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,u=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function p(m){return(m||"").toString().replace(s,"")}var h=[["#","hash"],["?","query"],function(m,b){return g(b.protocol)?m.replace(/\\/g,"/"):m},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function d(m){var b,E=(typeof window<"u"?window:typeof Yt<"u"?Yt:typeof self<"u"?self:{}).location||{},v={},A=typeof(m=m||E);if(m.protocol==="blob:")v=new w(unescape(m.pathname),{});else if(A==="string")for(b in v=new w(m,{}),f)delete v[b];else if(A==="object"){for(b in m)b in f||(v[b]=m[b]);v.slashes===void 0&&(v.slashes=a.test(m.href))}return v}function g(m){return m==="file:"||m==="ftp:"||m==="http:"||m==="https:"||m==="ws:"||m==="wss:"}function y(m,b){m=(m=p(m)).replace(u,""),b=b||{};var E,v=o.exec(m),A=v[1]?v[1].toLowerCase():"",x=!!v[2],N=!!v[3],O=0;return x?N?(E=v[2]+v[3]+v[4],O=v[2].length+v[3].length):(E=v[2]+v[4],O=v[2].length):N?(E=v[3]+v[4],O=v[3].length):E=v[4],A==="file:"?O>=2&&(E=E.slice(2)):g(A)?E=v[4]:A?x&&(E=E.slice(2)):O>=2&&g(b.protocol)&&(E=v[4]),{protocol:A,slashes:x||g(A),slashesCount:O,rest:E}}function w(m,b,E){if(m=(m=p(m)).replace(u,""),!(this instanceof w))return new w(m,b,E);var v,A,x,N,O,C,S=h.slice(),P=typeof b,I=this,_=0;for(P!=="object"&&P!=="string"&&(E=b,b=null),E&&typeof E!="function"&&(E=i.parse),v=!(A=y(m||"",b=d(b))).protocol&&!A.slashes,I.slashes=A.slashes||v&&b.slashes,I.protocol=A.protocol||b.protocol||"",m=A.rest,(A.protocol==="file:"&&(A.slashesCount!==2||l.test(m))||!A.slashes&&(A.protocol||A.slashesCount<2||!g(I.protocol)))&&(S[3]=[/(.*)/,"pathname"]);_<S.length;_++)typeof(N=S[_])!="function"?(x=N[0],C=N[1],x!=x?I[C]=m:typeof x=="string"?~(O=x==="@"?m.lastIndexOf(x):m.indexOf(x))&&(typeof N[2]=="number"?(I[C]=m.slice(0,O),m=m.slice(O+N[2])):(I[C]=m.slice(O),m=m.slice(0,O))):(O=x.exec(m))&&(I[C]=O[1],m=m.slice(0,O.index)),I[C]=I[C]||v&&N[3]&&b[C]||"",N[4]&&(I[C]=I[C].toLowerCase())):m=N(m,I);E&&(I.query=E(I.query)),v&&b.slashes&&I.pathname.charAt(0)!=="/"&&(I.pathname!==""||b.pathname!=="")&&(I.pathname=function(R,ft){if(R==="")return ft;for(var B=(ft||"/").split("/").slice(0,-1).concat(R.split("/")),$=B.length,at=B[$-1],Q=!1,H=0;$--;)B[$]==="."?B.splice($,1):B[$]===".."?(B.splice($,1),H++):H&&($===0&&(Q=!0),B.splice($,1),H--);return Q&&B.unshift(""),at!=="."&&at!==".."||B.push(""),B.join("/")}(I.pathname,b.pathname)),I.pathname.charAt(0)!=="/"&&g(I.protocol)&&(I.pathname="/"+I.pathname),r(I.port,I.protocol)||(I.host=I.hostname,I.port=""),I.username=I.password="",I.auth&&(~(O=I.auth.indexOf(":"))?(I.username=I.auth.slice(0,O),I.username=encodeURIComponent(decodeURIComponent(I.username)),I.password=I.auth.slice(O+1),I.password=encodeURIComponent(decodeURIComponent(I.password))):I.username=encodeURIComponent(decodeURIComponent(I.auth)),I.auth=I.password?I.username+":"+I.password:I.username),I.origin=I.protocol!=="file:"&&g(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString()}w.prototype={set:function(m,b,E){var v=this;switch(m){case"query":typeof b=="string"&&b.length&&(b=(E||i.parse)(b)),v[m]=b;break;case"port":v[m]=b,r(b,v.protocol)?b&&(v.host=v.hostname+":"+b):(v.host=v.hostname,v[m]="");break;case"hostname":v[m]=b,v.port&&(b+=":"+v.port),v.host=b;break;case"host":v[m]=b,c.test(b)?(b=b.split(":"),v.port=b.pop(),v.hostname=b.join(":")):(v.hostname=b,v.port="");break;case"protocol":v.protocol=b.toLowerCase(),v.slashes=!E;break;case"pathname":case"hash":if(b){var A=m==="pathname"?"/":"#";v[m]=b.charAt(0)!==A?A+b:b}else v[m]=b;break;case"username":case"password":v[m]=encodeURIComponent(b);break;case"auth":var x=b.indexOf(":");~x?(v.username=b.slice(0,x),v.username=encodeURIComponent(decodeURIComponent(v.username)),v.password=b.slice(x+1),v.password=encodeURIComponent(decodeURIComponent(v.password))):v.username=encodeURIComponent(decodeURIComponent(b))}for(var N=0;N<h.length;N++){var O=h[N];O[4]&&(v[O[1]]=v[O[1]].toLowerCase())}return v.auth=v.password?v.username+":"+v.password:v.username,v.origin=v.protocol!=="file:"&&g(v.protocol)&&v.host?v.protocol+"//"+v.host:"null",v.href=v.toString(),v},toString:function(m){m&&typeof m=="function"||(m=i.stringify);var b,E=this,v=E.host,A=E.protocol;A&&A.charAt(A.length-1)!==":"&&(A+=":");var x=A+(E.protocol&&E.slashes||g(E.protocol)?"//":"");return E.username?(x+=E.username,E.password&&(x+=":"+E.password),x+="@"):E.password?(x+=":"+E.password,x+="@"):E.protocol!=="file:"&&g(E.protocol)&&!v&&E.pathname!=="/"&&(x+="@"),(v[v.length-1]===":"||c.test(E.hostname)&&!E.port)&&(v+=":"),x+=v+E.pathname,(b=typeof E.query=="object"?m(E.query):E.query)&&(x+=b.charAt(0)!=="?"?"?"+b:b),E.hash&&(x+=E.hash),x}},w.extractProtocol=y,w.location=d,w.trimLeft=p,w.qs=i,t.exports=w},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},In={};function L(t){var e=In[t];if(e!==void 0)return e.exports;var n=In[t]={id:t,loaded:!1,exports:{}};return yi[t].call(n.exports,n,n.exports,L),n.loaded=!0,n.exports}L.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return L.d(e,{a:e}),e},L.d=(t,e)=>{for(var n in e)L.o(e,n)&&!L.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},L.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),L.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var pt={};L.d(pt,{hT:()=>nt,O4:()=>wt,Kd:()=>Ii,YK:()=>Ti,UU:()=>$s,Gu:()=>cr,ky:()=>Er,h4:()=>Zt,ch:()=>de,hq:()=>Lt,i5:()=>xr});var bi=L(737),vi=L.n(bi);function Ne(t){if(!De(t))throw new Error("Parameter was not an error")}function De(t){return!!t&&typeof t=="object"&&(e=t,Object.prototype.toString.call(e)==="[object Error]")||t instanceof Error;var e}class it extends Error{constructor(e,n){const r=[...arguments],{options:i,shortMessage:s}=function(a){let c,o="";if(a.length===0)c={};else if(De(a[0]))c={cause:a[0]},o=a.slice(1).join(" ")||"";else if(a[0]&&typeof a[0]=="object")c=Object.assign({},a[0]),o=a.slice(1).join(" ")||"";else{if(typeof a[0]!="string")throw new Error("Invalid arguments passed to Layerr");c={},o=o=a.join(" ")||""}return{options:c,shortMessage:o}}(r);let u=s;if(i.cause&&(u="".concat(u,": ").concat(i.cause.message)),super(u),this.message=u,i.name&&typeof i.name=="string"?this.name=i.name:this.name="Layerr",i.cause&&Object.defineProperty(this,"_cause",{value:i.cause}),Object.defineProperty(this,"_info",{value:{}}),i.info&&typeof i.info=="object"&&Object.assign(this._info,i.info),Error.captureStackTrace){const a=i.constructorOpt||this.constructor;Error.captureStackTrace(this,a)}}static cause(e){return Ne(e),e._cause&&De(e._cause)?e._cause:null}static fullStack(e){var r;Ne(e);const n=it.cause(e);return n?"".concat(e.stack,"\ncaused by: ").concat(it.fullStack(n)):(r=e.stack)!=null?r:""}static info(e){Ne(e);const n={},r=it.cause(e);return r&&Object.assign(n,it.info(r)),e._info&&Object.assign(n,e._info),n}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e="".concat(e,": ").concat(this.message)),e}}var wi=L(47),ie=L.n(wi);const Tn="__PATH_SEPARATOR_POSIX__",Pn="__PATH_SEPARATOR_WINDOWS__";function D(t){try{const e=t.replace(/\//g,Tn).replace(/\\\\/g,Pn);return encodeURIComponent(e).split(Pn).join("\\\\").split(Tn).join("/")}catch(e){throw new it(e,"Failed encoding path")}}function Cn(t){return t.startsWith("/")?t:"/"+t}function Wt(t){let e=t;return e[0]!=="/"&&(e="/"+e),/^.+\/$/.test(e)&&(e=e.substr(0,e.length-1)),e}function Ei(t){let e=new(vi())(t).pathname;return e.length<=0&&(e="/"),Wt(e)}function k(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){return function(r){var i=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var s=r.shift();r[0]=s+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var u=0;u<r.length;u++){var a=r[u];if(typeof a!="string")throw new TypeError("Url must be a string. Received "+a);a!==""&&(u>0&&(a=a.replace(/^[\/]+/,"")),a=u<r.length-1?a.replace(/[\/]+$/,""):a.replace(/[\/]+$/,"/"),i.push(a))}var c=i.join("/"),o=(c=c.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return o.shift()+(o.length>0?"?":"")+o.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(e.reduce((r,i,s)=>((s===0||i!=="/"||i==="/"&&r[r.length-1]!=="/")&&r.push(i),r),[]))}var xi=L(542),Ut=L.n(xi);const Ni="abcdef0123456789";function Sn(t,e){const n=t.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),i=t.method?t.method.toUpperCase():"GET",s=!!/(^|,)\s*auth\s*($|,)/.test(e.qop)&&"auth",u="00000000".concat(e.nc).slice(-8),a=function(h,f,d,g,y,w,m){const b=m||Ut()("".concat(f,":").concat(d,":").concat(g));return h&&h.toLowerCase()==="md5-sess"?Ut()("".concat(b,":").concat(y,":").concat(w)):b}(e.algorithm,e.username,e.realm,e.password,e.nonce,e.cnonce,e.ha1),c=Ut()("".concat(i,":").concat(r)),o=s?Ut()("".concat(a,":").concat(e.nonce,":").concat(u,":").concat(e.cnonce,":").concat(s,":").concat(c)):Ut()("".concat(a,":").concat(e.nonce,":").concat(c)),l={username:e.username,realm:e.realm,nonce:e.nonce,uri:r,qop:s,response:o,nc:u,cnonce:e.cnonce,algorithm:e.algorithm,opaque:e.opaque},p=[];for(const h in l)l[h]&&(h==="qop"||h==="nc"||h==="algorithm"?p.push("".concat(h,"=").concat(l[h])):p.push("".concat(h,'="').concat(l[h],'"')));return"Digest ".concat(p.join(", "))}function ar(t){return(t.headers&&t.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var Ai=L(101),ur=L.n(Ai);function _n(t){return ur().decode(t)}function Rn(t,e){var n;return"Basic ".concat((n="".concat(t,":").concat(e),ur().encode(n)))}const se=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,Oi=se.fetch.bind(se),Ii=se.Request,Ti=se.Response;let nt=function(t){return t.Auto="auto",t.Digest="digest",t.None="none",t.Password="password",t.Token="token",t}({}),wt=function(t){return t.DataTypeNoLength="data-type-no-length",t.InvalidAuthType="invalid-auth-type",t.InvalidOutputFormat="invalid-output-format",t.LinkUnsupportedAuthType="link-unsupported-auth",t.InvalidUpdateRange="invalid-update-range",t.NotSupported="not-supported",t}({});function lr(t,e,n,r,i){switch(t.authType){case nt.Auto:e&&n&&(t.headers.Authorization=Rn(e,n));break;case nt.Digest:t.digest=function(u,a,c){return{username:u,password:a,ha1:c,nc:0,algorithm:"md5",hasDigestAuth:!1}}(e,n,i);break;case nt.None:break;case nt.Password:t.headers.Authorization=Rn(e,n);break;case nt.Token:t.headers.Authorization="".concat((s=r).token_type," ").concat(s.access_token);break;default:throw new it({info:{code:wt.InvalidAuthType}},"Invalid auth type: ".concat(t.authType))}var s}L(345),L(800);const $n="@@HOTPATCHER",Pi=()=>{};function Ae(t){return{original:t,methods:[t],final:!1}}class Ci{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=$n}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(e){this.configuration.getEmptyAction=e}control(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e||e.__type__!==$n)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(e.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},e.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},e.configuration.registry[r])}),e._configuration=this.configuration,this}execute(e){const n=this.get(e)||Pi;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return n(...i)}get(e){const n=this.configuration.registry[e];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(e));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(i.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var u=arguments.length,a=new Array(u),c=0;c<u;c++)a[c]=arguments[c];let o=a;const l=this;for(;i.length>0;)o=[i.shift().apply(l,o)];return o[0]}}(...n.methods)}isPatched(e){return!!this.configuration.registry[e]}patch(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:i=!1}=r;if(this.configuration.registry[e]&&this.configuration.registry[e].final)throw new Error("Failed patching '".concat(e,"': Method marked as being final"));if(typeof n!="function")throw new Error("Failed patching '".concat(e,"': Provided method is not a function"));if(i)this.configuration.registry[e]?this.configuration.registry[e].methods.push(n):this.configuration.registry[e]=Ae(n);else if(this.isPatched(e)){const{original:s}=this.configuration.registry[e];this.configuration.registry[e]=Object.assign(Ae(n),{original:s})}else this.configuration.registry[e]=Ae(n);return this}patchInline(e,n){this.isPatched(e)||this.patch(e,n);for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return this.execute(e,...i)}plugin(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(s=>{this.patch(e,s,{chain:!0})}),this}restore(e){if(!this.isPatched(e))throw new Error("Failed restoring method: No method present for key: ".concat(e));if(typeof this.configuration.registry[e].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(e));return this.configuration.registry[e].methods=[this.configuration.registry[e].original],this}setFinal(e){if(!this.configuration.registry.hasOwnProperty(e))throw new Error("Failed marking '".concat(e,"' as final: No method found for key"));return this.configuration.registry[e].final=!0,this}}let Oe=null;function cr(){return Oe||(Oe=new Ci),Oe}function oe(t){return function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}(t)?Object.assign({},t):Object.setPrototypeOf(Object.assign({},t),Object.getPrototypeOf(t))}function Ln(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let r=null,i=[...e];for(;i.length>0;){const s=i.shift();r=r?hr(r,s):oe(s)}return r}function hr(t,e){const n=oe(t);return Object.keys(e).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(e[r])?n[r]=Array.isArray(n[r])?[...n[r],...e[r]]:[...e[r]]:typeof e[r]=="object"&&e[r]?n[r]=typeof n[r]=="object"&&n[r]?hr(n[r],e[r]):oe(e[r]):n[r]=e[r]:n[r]=e[r]}),n}function Si(t){const e={};for(const n of t.keys())e[n]=t.get(n);return e}function ke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length===0)return{};const r={};return e.reduce((i,s)=>(Object.keys(s).forEach(u=>{const a=u.toLowerCase();r.hasOwnProperty(a)?i[r[a]]=s[u]:(r[a]=u,i[u]=s[u])}),i),{})}L(805);const _i=typeof ArrayBuffer=="function",{toString:Ri}=Object.prototype;function pr(t){return _i&&(t instanceof ArrayBuffer||Ri.call(t)==="[object ArrayBuffer]")}function fr(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function en(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}function Ue(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const dr=en(function(t){const e=t._digest;return delete t._digest,e.hasDigestAuth&&(t=Ln(t,{headers:{Authorization:Sn(t,e)}})),Ue(ae(t),function(n){let r=!1;return i=function(u){return r?u:n},(s=function(){if(n.status==401)return e.hasDigestAuth=function(u,a){if(!ar(u))return!1;const c=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const o=u.headers&&u.headers.get("www-authenticate")||"",l=c.exec(o);if(!l)break;a[l[1]]=l[2]||l[3]}return a.nc+=1,a.cnonce=function(){let o="";for(let l=0;l<32;++l)o="".concat(o).concat(Ni[Math.floor(16*Math.random())]);return o}(),!0}(n,e),function(){if(e.hasDigestAuth)return Ue(ae(t=Ln(t,{headers:{Authorization:Sn(t,e)}})),function(u){return u.status==401?e.hasDigestAuth=!1:e.nc++,r=!0,u})}();e.nc++}())&&s.then?s.then(i):i(s);var i,s})}),$i=en(function(t,e){return Ue(ae(t),function(n){return n.ok?(e.authType=nt.Password,n):n.status==401&&ar(n)?(e.authType=nt.Digest,lr(e,e.username,e.password,void 0,void 0),t._digest=e.digest,dr(t)):n})}),z=en(function(t,e){return e.authType===nt.Auto?$i(t,e):t._digest?dr(t):ae(t)});function X(t,e,n){const r=oe(t);return r.headers=ke(e.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),e.httpAgent&&(r.httpAgent=e.httpAgent),e.httpsAgent&&(r.httpsAgent=e.httpsAgent),e.digest&&(r._digest=e.digest),typeof e.withCredentials=="boolean"&&(r.withCredentials=e.withCredentials),r}function ae(t){const e=cr();return e.patchInline("request",n=>e.patchInline("fetch",Oi,n.url,function(r){let i={};const s={method:r.method};if(r.headers&&(i=ke(i,r.headers)),r.data!==void 0){const[u,a]=function(c){if(typeof c=="string")return[c,{}];if(fr(c))return[c,{}];if(pr(c))return[c,{}];if(c&&typeof c=="object")return[JSON.stringify(c),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof c)}(r.data);s.body=u,i=ke(i,a)}return r.signal&&(s.signal=r.signal),r.withCredentials&&(s.credentials="include"),s.headers=i,s}(n)),t)}var Li=L(285);const ue=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},ji={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Mt=t=>t.replace(/[[\]\\-]/g,"\\$&"),jn=t=>t.join(""),Fi=(t,e)=>{const n=e;if(t.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],i=[];let s=n+1,u=!1,a=!1,c=!1,o=!1,l=n,p="";t:for(;s<t.length;){const g=t.charAt(s);if(g!=="!"&&g!=="^"||s!==n+1){if(g==="]"&&u&&!c){l=s+1;break}if(u=!0,g!=="\\"||c){if(g==="["&&!c){for(const[y,[w,m,b]]of Object.entries(ji))if(t.startsWith(y,s)){if(p)return["$.",!1,t.length-n,!0];s+=y.length,b?i.push(w):r.push(w),a=a||m;continue t}}c=!1,p?(g>p?r.push(Mt(p)+"-"+Mt(g)):g===p&&r.push(Mt(g)),p="",s++):t.startsWith("-]",s+1)?(r.push(Mt(g+"-")),s+=2):t.startsWith("-",s+1)?(p=g,s+=2):(r.push(Mt(g)),s++)}else c=!0,s++}else o=!0,s++}if(l<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,t.length-n,!0];if(i.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!o)return[(h=r[0].length===2?r[0].slice(-1):r[0],h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,l-n,!1];var h;const f="["+(o?"^":"")+jn(r)+"]",d="["+(o?"":"^")+jn(i)+"]";return[r.length&&i.length?"("+f+"|"+d+")":r.length?f:d,a,l-n,!0]},Gt=function(t){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},Di=new Set(["!","?","+","*","@"]),Fn=t=>Di.has(t),Ie="(?!\\.)",ki=new Set(["[","."]),Ui=new Set(["..","."]),Mi=new Set("().*{}+?[]^$\\!"),nn="[^/]",Dn=nn+"*?",kn=nn+"+?";var G,q,bt,F,V,Ot,_t,It,gt,Rt,qt,$t,gr,Pt,ne,Me,mr;const et=class et{constructor(e,n){ot(this,$t);j(this,"type");ot(this,G);ot(this,q);ot(this,bt,!1);ot(this,F,[]);ot(this,V);ot(this,Ot);ot(this,_t);ot(this,It,!1);ot(this,gt);ot(this,Rt);ot(this,qt,!1);let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=e,e&&U(this,q,!0),U(this,V,n),U(this,G,T(this,V)?T(T(this,V),G):this),U(this,gt,T(this,G)===this?r:T(T(this,G),gt)),U(this,_t,T(this,G)===this?[]:T(T(this,G),_t)),e!=="!"||T(T(this,G),It)||T(this,_t).push(this),U(this,Ot,T(this,V)?T(T(this,V),F).length:0)}get hasMagic(){if(T(this,q)!==void 0)return T(this,q);for(const e of T(this,F))if(typeof e!="string"&&(e.type||e.hasMagic))return U(this,q,!0);return T(this,q)}toString(){return T(this,Rt)!==void 0?T(this,Rt):this.type?U(this,Rt,this.type+"("+T(this,F).map(e=>String(e)).join("|")+")"):U(this,Rt,T(this,F).map(e=>String(e)).join(""))}push(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)if(i!==""){if(typeof i!="string"&&!(i instanceof et&&T(i,V)===this))throw new Error("invalid part: "+i);T(this,F).push(i)}}toJSON(){var n;const e=this.type===null?T(this,F).slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...T(this,F).map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===T(this,G)||T(T(this,G),It)&&((n=T(this,V))==null?void 0:n.type)==="!")&&e.push({}),e}isStart(){var n;if(T(this,G)===this)return!0;if(!((n=T(this,V))!=null&&n.isStart()))return!1;if(T(this,Ot)===0)return!0;const e=T(this,V);for(let r=0;r<T(this,Ot);r++){const i=T(e,F)[r];if(!(i instanceof et&&i.type==="!"))return!1}return!0}isEnd(){var n,r,i;if(T(this,G)===this||((n=T(this,V))==null?void 0:n.type)==="!")return!0;if(!((r=T(this,V))!=null&&r.isEnd()))return!1;if(!this.type)return(i=T(this,V))==null?void 0:i.isEnd();const e=T(this,V)?T(T(this,V),F).length:0;return T(this,Ot)===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){const n=new et(this.type,e);for(const r of T(this,F))n.copyIn(r);return n}static fromGlob(e){var i;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new et(null,void 0,n);return xt(i=et,Pt,ne).call(i,e,r,0,n),r}toMMPattern(){if(this!==T(this,G))return T(this,G).toMMPattern();const e=this.toString(),[n,r,i,s]=this.toRegExpSource();if(!(i||T(this,q)||T(this,gt).nocase&&!T(this,gt).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return r;const u=(T(this,gt).nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp("^".concat(n,"$"),u),{_src:n,_glob:e})}get options(){return T(this,gt)}toRegExpSource(e){var c;const n=e!=null?e:!!T(this,gt).dot;if(T(this,G)===this&&xt(this,$t,gr).call(this),!this.type){const o=this.isStart()&&this.isEnd(),l=T(this,F).map(f=>{var m;const[d,g,y,w]=typeof f=="string"?xt(m=et,Pt,mr).call(m,f,T(this,q),o):f.toRegExpSource(e);return U(this,q,T(this,q)||y),U(this,bt,T(this,bt)||w),d}).join("");let p="";if(this.isStart()&&typeof T(this,F)[0]=="string"&&(T(this,F).length!==1||!Ui.has(T(this,F)[0]))){const f=ki,d=n&&f.has(l.charAt(0))||l.startsWith("\\.")&&f.has(l.charAt(2))||l.startsWith("\\.\\.")&&f.has(l.charAt(4)),g=!n&&!e&&f.has(l.charAt(0));p=d?"(?!(?:^|/)\\.\\.?(?:$|/))":g?Ie:""}let h="";return this.isEnd()&&T(T(this,G),It)&&((c=T(this,V))==null?void 0:c.type)==="!"&&(h="(?:$|\\/)"),[p+l+h,Gt(l),U(this,q,!!T(this,q)),T(this,bt)]}const r=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let s=xt(this,$t,Me).call(this,n);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){const o=this.toString();return U(this,F,[o]),this.type=null,U(this,q,void 0),[o,Gt(this.toString()),!1,!1]}let u=!r||e||n?"":xt(this,$t,Me).call(this,!0);u===s&&(u=""),u&&(s="(?:".concat(s,")(?:").concat(u,")*?"));let a="";return a=this.type==="!"&&T(this,qt)?(this.isStart()&&!n?Ie:"")+kn:i+s+(this.type==="!"?"))"+(!this.isStart()||n||e?"":Ie)+Dn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&u?")":this.type==="*"&&u?")?":")".concat(this.type)),[a,Gt(s),U(this,q,!!T(this,q)),T(this,bt)]}};G=new WeakMap,q=new WeakMap,bt=new WeakMap,F=new WeakMap,V=new WeakMap,Ot=new WeakMap,_t=new WeakMap,It=new WeakMap,gt=new WeakMap,Rt=new WeakMap,qt=new WeakMap,$t=new WeakSet,gr=function(){if(this!==T(this,G))throw new Error("should only call on root");if(T(this,It))return this;let e;for(this.toString(),U(this,It,!0);e=T(this,_t).pop();){if(e.type!=="!")continue;let n=e,r=T(n,V);for(;r;){for(let i=T(n,Ot)+1;!r.type&&i<T(r,F).length;i++)for(const s of T(e,F)){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(T(r,F)[i])}n=r,r=T(n,V)}}return this},Pt=new WeakSet,ne=function(e,n,r,i){var f,d;let s=!1,u=!1,a=-1,c=!1;if(n.type===null){let g=r,y="";for(;g<e.length;){const w=e.charAt(g++);if(s||w==="\\")s=!s,y+=w;else if(u)g===a+1?w!=="^"&&w!=="!"||(c=!0):w!=="]"||g===a+2&&c||(u=!1),y+=w;else if(w!=="[")if(i.noext||!Fn(w)||e.charAt(g)!=="(")y+=w;else{n.push(y),y="";const m=new et(w,n);g=xt(f=et,Pt,ne).call(f,e,m,g,i),n.push(m)}else u=!0,a=g,c=!1,y+=w}return n.push(y),g}let o=r+1,l=new et(null,n);const p=[];let h="";for(;o<e.length;){const g=e.charAt(o++);if(s||g==="\\")s=!s,h+=g;else if(u)o===a+1?g!=="^"&&g!=="!"||(c=!0):g!=="]"||o===a+2&&c||(u=!1),h+=g;else if(g!=="[")if(Fn(g)&&e.charAt(o)==="("){l.push(h),h="";const y=new et(g,l);l.push(y),o=xt(d=et,Pt,ne).call(d,e,y,o,i)}else if(g!=="|"){if(g===")")return h===""&&T(n,F).length===0&&U(n,qt,!0),l.push(h),h="",n.push(...p,l),o;h+=g}else l.push(h),h="",p.push(l),l=new et(null,n);else u=!0,a=o,c=!1,h+=g}return n.type=null,U(n,q,void 0),U(n,F,[e.substring(r-1)]),o},Me=function(e){return T(this,F).map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[r,i,s,u]=n.toRegExpSource(e);return U(this,bt,T(this,bt)||u),r}).filter(n=>!(this.isStart()&&this.isEnd()&&!n)).join("|")},mr=function(e,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=!1,s="",u=!1;for(let a=0;a<e.length;a++){const c=e.charAt(a);if(i)i=!1,s+=(Mi.has(c)?"\\":"")+c;else if(c!=="\\"){if(c==="["){const[o,l,p,h]=Fi(e,a);if(p){s+=o,u=u||l,a+=p-1,n=n||h;continue}}c!=="*"?c!=="?"?s+=c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(s+=nn,n=!0):(s+=r&&e==="*"?kn:Dn,n=!0)}else a===e.length-1?s+="\\\\":i=!0}return[s,Gt(e),!!n,u]},ot(et,Pt);let le=et;const J=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ue(e),!(!n.nocomment&&e.charAt(0)==="#")&&new ce(e,n).match(t)},Bi=/^\*+([^+@!?\*\[\(]*)$/,Vi=t=>e=>!e.startsWith(".")&&e.endsWith(t),Gi=t=>e=>e.endsWith(t),zi=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),Xi=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),Wi=/^\*+\.\*+$/,Hi=t=>!t.startsWith(".")&&t.includes("."),qi=t=>t!=="."&&t!==".."&&t.includes("."),Ki=/^\.\*+$/,Zi=t=>t!=="."&&t!==".."&&t.startsWith("."),Yi=/^\*+$/,Ji=t=>t.length!==0&&!t.startsWith("."),Qi=t=>t.length!==0&&t!=="."&&t!=="..",ts=/^\?+([^+@!?\*\[\(]*)?$/,es=t=>{let[e,n=""]=t;const r=yr([e]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},ns=t=>{let[e,n=""]=t;const r=br([e]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},rs=t=>{let[e,n=""]=t;const r=br([e]);return n?i=>r(i)&&i.endsWith(n):r},is=t=>{let[e,n=""]=t;const r=yr([e]);return n?i=>r(i)&&i.endsWith(n):r},yr=t=>{let[e]=t;const n=e.length;return r=>r.length===n&&!r.startsWith(".")},br=t=>{let[e]=t;const n=e.length;return r=>r.length===n&&r!=="."&&r!==".."},vr=typeof zt=="object"&&zt?typeof xe=="object"&&xe&&xe.__MINIMATCH_TESTING_PLATFORM__||zt.platform:"posix";J.sep=vr==="win32"?"\\":"/";const lt=Symbol("globstar **");J.GLOBSTAR=lt,J.filter=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>J(n,t,e)};const ut=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},t,e)};J.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return J;const e=J;return Object.assign(function(n,r){return e(n,r,ut(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends e.Minimatch{constructor(n){super(n,ut(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return e.defaults(ut(t,n)).Minimatch}},AST:class extends e.AST{constructor(n,r){super(n,r,ut(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.AST.fromGlob(n,ut(t,r))}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.unescape(n,ut(t,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.escape(n,ut(t,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.filter(n,ut(t,r))},defaults:n=>e.defaults(ut(t,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.makeRe(n,ut(t,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.braceExpand(n,ut(t,r))},match:function(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.match(n,r,ut(t,i))},sep:e.sep,GLOBSTAR:lt})};const wr=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ue(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Li(t)};J.braceExpand=wr,J.makeRe=function(t){return new ce(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},J.match=function(t,e){const n=new ce(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return t=t.filter(r=>n.match(r)),n.options.nonull&&!t.length&&t.push(e),t};const Un=/[?*]|[+@!]\(.*?\)|\[|\]/;class ce{constructor(e){j(this,"options");j(this,"set");j(this,"pattern");j(this,"windowsPathsNoEscape");j(this,"nonegate");j(this,"negate");j(this,"comment");j(this,"empty");j(this,"preserveMultipleSlashes");j(this,"partial");j(this,"globSet");j(this,"globParts");j(this,"nocase");j(this,"isWindows");j(this,"platform");j(this,"windowsNoMagicRoot");j(this,"regexp");let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ue(e),n=n||{},this.options=n,this.pattern=e,this.platform=n.platform||vr,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const n of e)if(typeof n!="string")return!0;return!1}debug(){}make(){const e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#")return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,u,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){const c=!(s[0]!==""||s[1]!==""||s[2]!=="?"&&Un.test(s[2])||Un.test(s[3])),o=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(l=>this.parse(l))];if(o)return[s[0],...s.slice(1).map(l=>this.parse(l))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){const u=this.set[s];u[0]===""&&u[1]===""&&this.globParts[s][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let r=0;r<e.length;r++)for(let i=0;i<e[r].length;i++)e[r][i]==="**"&&(e[r][i]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=n>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let i=r;for(;n[i+1]==="**";)i++;i!==r&&n.splice(r,i-r)}return n})}levelOneOptimize(e){return e.map(n=>(n=n.reduce((r,i)=>{const s=r[r.length-1];return i==="**"&&s==="**"?r:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(r.pop(),r):(r.push(i),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){const s=e[i];i===1&&s===""&&e[0]===""||s!=="."&&s!==""||(n=!0,e.splice(i,1),i--)}e[0]!=="."||e.length!==2||e[1]!=="."&&e[1]!==""||(n=!0,e.pop())}let r=0;for(;(r=e.indexOf("..",r+1))!==-1;){const i=e[r-1];i&&i!=="."&&i!==".."&&i!=="**"&&(n=!0,e.splice(r-1,2),r-=2)}}while(n);return e.length===0?[""]:e}firstPhasePreProcess(e){let n=!1;do{n=!1;for(let r of e){let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let u=i;for(;r[u+1]==="**";)u++;u>i&&r.splice(i+1,u-i);let a=r[i+1];const c=r[i+2],o=r[i+3];if(a!==".."||!c||c==="."||c===".."||!o||o==="."||o==="..")continue;n=!0,r.splice(i,1);const l=r.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let u=1;u<r.length-1;u++){const a=r[u];u===1&&a===""&&r[0]===""||a!=="."&&a!==""||(n=!0,r.splice(u,1),u--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let s=0;for(;(s=r.indexOf("..",s+1))!==-1;){const u=r[s-1];if(u&&u!=="."&&u!==".."&&u!=="**"){n=!0;const a=s===1&&r[s+1]==="**"?["."]:[];r.splice(s-1,2,...a),r.length===0&&r.push(""),s-=2}}}}while(n);return e}secondPhasePreProcess(e){for(let n=0;n<e.length-1;n++)for(let r=n+1;r<e.length;r++){const i=this.partsMatch(e[n],e[r],!this.preserveMultipleSlashes);if(i){e[n]=[],e[r]=i;break}}return e.filter(n=>n.length)}partsMatch(e,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=0,s=0,u=[],a="";for(;i<e.length&&s<n.length;)if(e[i]===n[s])u.push(a==="b"?n[s]:e[i]),i++,s++;else if(r&&e[i]==="**"&&n[s]===e[i+1])u.push(e[i]),i++;else if(r&&n[s]==="**"&&e[i]===n[s+1])u.push(n[s]),s++;else if(e[i]!=="*"||!n[s]||!this.options.dot&&n[s].startsWith(".")||n[s]==="**"){if(n[s]!=="*"||!e[i]||!this.options.dot&&e[i].startsWith(".")||e[i]==="**"||a==="a")return!1;a="b",u.push(n[s]),i++,s++}else{if(a==="b")return!1;a="a",u.push(e[i]),i++,s++}return e.length===n.length&&u}parseNegate(){if(this.nonegate)return;const e=this.pattern;let n=!1,r=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=e.slice(r)),this.negate=n}matchOne(e,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=this.options;if(this.isWindows){const g=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),y=!g&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),w=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),m=y?3:g?0:void 0,b=!w&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:w?0:void 0;if(typeof m=="number"&&typeof b=="number"){const[E,v]=[e[m],n[b]];E.toLowerCase()===v.toLowerCase()&&(n[b]=E,b>m?n=n.slice(b):m>b&&(e=e.slice(m)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var u=0,a=0,c=e.length,o=n.length;u<c&&a<o;u++,a++){this.debug("matchOne loop");var l=n[a],p=e[u];if(this.debug(n,l,p),l===!1)return!1;if(l===lt){this.debug("GLOBSTAR",[n,l,p]);var h=u,f=a+1;if(f===o){for(this.debug("** at the end");u<c;u++)if(e[u]==="."||e[u]===".."||!i.dot&&e[u].charAt(0)===".")return!1;return!0}for(;h<c;){var d=e[h];if(this.debug("\nglobstar while",e,h,n,f,d),this.matchOne(e.slice(h),n.slice(f),r))return this.debug("globstar found match!",h,c,d),!0;if(d==="."||d===".."||!i.dot&&d.charAt(0)==="."){this.debug("dot detected!",e,h,n,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",e,h,n,f),h!==c))}let g;if(typeof l=="string"?(g=p===l,this.debug("string match",l,p,g)):(g=l.test(p),this.debug("pattern match",l,p,g)),!g)return!1}if(u===c&&a===o)return!0;if(u===c)return r;if(a===o)return u===c-1&&e[u]==="";throw new Error("wtf?")}braceExpand(){return wr(this.pattern,this.options)}parse(e){ue(e);const n=this.options;if(e==="**")return lt;if(e==="")return"";let r,i=null;(r=e.match(Yi))?i=n.dot?Qi:Ji:(r=e.match(Bi))?i=(n.nocase?n.dot?Xi:zi:n.dot?Gi:Vi)(r[1]):(r=e.match(ts))?i=(n.nocase?n.dot?ns:es:n.dot?rs:is)(r):(r=e.match(Wi))?i=n.dot?qi:Hi:(r=e.match(Ki))&&(i=Zi);const s=le.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(n.nocase?["i"]:[]);let s=e.map(c=>{const o=c.map(l=>{if(l instanceof RegExp)for(const p of l.flags.split(""))i.add(p);return typeof l=="string"?l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):l===lt?lt:l._src});return o.forEach((l,p)=>{const h=o[p+1],f=o[p-1];l===lt&&f!==lt&&(f===void 0?h!==void 0&&h!==lt?o[p+1]="(?:\\/|"+r+"\\/)?"+h:o[p]=r:h===void 0?o[p-1]=f+"(?:\\/|"+r+")?":h!==lt&&(o[p-1]=f+"(?:\\/|\\/"+r+"\\/)"+h,o[p+1]=lt))}),o.filter(l=>l!==lt).join("/")}).join("|");const[u,a]=e.length>1?["(?:",")"]:["",""];s="^"+u+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch(c){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;const r=this.options;this.isWindows&&(e=e.split("\\").join("/"));const i=this.slashSplit(e);this.debug(this.pattern,"split",i);const s=this.set;this.debug(this.pattern,"set",s);let u=i[i.length-1];if(!u)for(let a=i.length-2;!u&&a>=0;a--)u=i[a];for(let a=0;a<s.length;a++){const c=s[a];let o=i;if(r.matchBase&&c.length===1&&(o=[u]),this.matchOne(o,c,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return J.defaults(e).Minimatch}}function rn(t){const e=new Error("".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"","Invalid response: ").concat(t.status," ").concat(t.statusText));return e.status=t.status,e.response=t,e}function W(t,e){const{status:n}=e;if(n===401&&t.digest)return e;if(n>=400)throw rn(e);return e}function Lt(t,e){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:e,headers:t.headers?Si(t.headers):{},status:t.status,statusText:t.statusText}:e}J.AST=le,J.Minimatch=ce,J.escape=function(t){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&")},J.unescape=Gt;const ss=(Mn=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=X({url:k(t.remoteURL,D(e)),method:"COPY",headers:{Destination:k(t.remoteURL,D(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},t,r);return u=function(a){W(t,a)},(s=z(i,t))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(Mn.apply(this,t))}catch(n){return Promise.reject(n)}});var Mn,sn=L(635),os=L(829),yt=L.n(os),jt=function(t){return t.Array="array",t.Object="object",t.Original="original",t}(jt||{});function te(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jt.Original;const r=yt().get(t,e);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function Zt(t){return new Promise(e=>{e(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const i={multistatus:Array.isArray(r)?r[0]:r};return yt().set(i,"multistatus.response",te(i,"multistatus.response",jt.Array)),yt().set(i,"multistatus.response",yt().get(i,"multistatus.response").map(s=>function(u){const a=Object.assign({},u);return a.status?yt().set(a,"status",te(a,"status",jt.Object)):(yt().set(a,"propstat",te(a,"propstat",jt.Object)),yt().set(a,"propstat.prop",te(a,"propstat.prop",jt.Object))),a}(s))),i}(new sn.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(t)))})}function de(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:i="0",resourcetype:s=null,getcontenttype:u=null,getetag:a=null}=t,c=s&&typeof s=="object"&&s.collection!==void 0?"directory":"file",o={filename:e,basename:ie().basename(e),lastmod:r,size:parseInt(i,10),type:c,etag:typeof a=="string"?a.replace(/"/g,""):null};return c==="file"&&(o.mime=u&&typeof u=="string"?u.split(";")[0]:""),n&&(t.displayname!==void 0&&(t.displayname=String(t.displayname)),o.props=t),o}function Er(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{t.multistatus.response[0].propstat&&(r=t.multistatus.response[0])}catch(l){}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:i,status:s}}=r,[u,a,c]=s.split(" ",3),o=parseInt(a,10);if(o>=400){const l=new Error("Invalid response: ".concat(o," ").concat(c));throw l.status=o,l}return de(i,Wt(e),n)}function xr(t){switch(String(t)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(t),10)}}function Te(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const on=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=X({url:k(t.remoteURL,D(e)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},t,n);return Te(z(i,t),function(s){return W(t,s),Te(s.text(),function(u){return Te(Zt(u),function(a){const c=Er(a,e,r);return Lt(s,c,r)})})})});function Nr(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const as=Ar(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(s){if(!s||s==="/")return[];let u=s;const a=[];do a.push(u),u=ie().dirname(u);while(u&&u!=="/");return a}(Wt(e));r.sort((s,u)=>s.length>u.length?1:u.length>s.length?-1:0);let i=!1;return function(s,u,a){if(typeof s[Vn]=="function"){let g=function(y){try{for(;!(c=p.next()).done;)if((y=u(c.value))&&y.then){if(!Gn(y))return void y.then(g,l||(l=rt.bind(null,o=new Ft,2)));y=y.v}o?rt(o,1,y):o=y}catch(w){rt(o||(o=new Ft),2,w)}};var c,o,l,p=s[Vn]();if(g(),p.return){var h=function(y){try{c.done||p.return()}catch(w){}return y};if(o&&o.then)return o.then(h,function(y){throw h(y)});h()}return o}if(!("length"in s))throw new TypeError("Object is not iterable");for(var f=[],d=0;d<s.length;d++)f.push(s[d]);return function(g,y,w){var m,b,E=-1;return function v(A){try{for(;++E<g.length&&(!w||!w());)if((A=y(E))&&A.then){if(!Gn(A))return void A.then(v,b||(b=rt.bind(null,m=new Ft,2)));A=A.v}m?rt(m,1,A):m=A}catch(x){rt(m||(m=new Ft),2,x)}}(),m}(f,function(g){return u(f[g])},a)}(r,function(s){return u=function(){return function(c,o){try{var l=Nr(on(t,s),function(p){if(p.type!=="directory")throw new Error("Path includes a file: ".concat(e))})}catch(p){return o(p)}return l&&l.then?l.then(void 0,o):l}(0,function(c){const o=c;return function(){if(o.status===404)return i=!0,Bn(Be(t,s,dt(st({},n),{recursive:!1})));throw c}()})},(a=function(){if(i)return Bn(Be(t,s,dt(st({},n),{recursive:!1})))}())&&a.then?a.then(u):u();var u,a},function(){return!1})});function Ar(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}function us(){}function Bn(t,e){return t&&t.then?t.then(us):Promise.resolve()}const Vn=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function rt(t,e,n){if(!t.s){if(n instanceof Ft){if(!n.s)return void(n.o=rt.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(rt.bind(null,t,e),rt.bind(null,t,2));t.s=e,t.v=n;const r=t.o;r&&r(t)}}const Ft=function(){function t(){}return t.prototype.then=function(e,n){const r=new t,i=this.s;if(i){const s=1&i?e:n;if(s){try{rt(r,1,s(this.v))}catch(u){rt(r,2,u)}return r}return this}return this.o=function(s){try{const u=s.v;1&s.s?rt(r,1,e?e(u):u):n?rt(r,1,n(u)):rt(r,2,u)}catch(u){rt(r,2,u)}},r},t}();function Gn(t){return t instanceof Ft&&1&t.s}const Be=Ar(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return as(t,e,n);const r=X({url:k(t.remoteURL,(i=D(e),i.endsWith("/")?i:i+"/")),method:"MKCOL"},t,n);var i;return Nr(z(r,t),function(s){W(t,s)})});var ls=L(388),zn=L.n(ls);const cs=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let a="bytes=".concat(n.range.start,"-");typeof n.range.end=="number"&&(a="".concat(a).concat(n.range.end)),r.Range=a}const i=X({url:k(t.remoteURL,D(e)),method:"GET",headers:r},t,n);return u=function(a){if(W(t,a),r.Range&&a.status!==206){const c=new Error("Invalid response code for partial request: ".concat(a.status));throw c.status=a.status,c}return n.callback&&setTimeout(()=>{n.callback(a)},0),a.body},(s=z(i,t))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u}),hs=()=>{},ps=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e,n){n.url||(n.url=k(t.remoteURL,D(e)));const r=X(n,t,{});return s=function(u){return W(t,u),u},(i=z(r,t))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s}),fs=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e)),method:"DELETE"},t,n);return s=function(u){W(t,u)},(i=z(r,t))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s}),ds=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,i){try{var s=(u=on(t,e,n),a=function(){return!0},c?a?a(u):u:(u&&u.then||(u=Promise.resolve(u)),a?u.then(a):u))}catch(o){return i(o)}var u,a,c;return s&&s.then?s.then(void 0,i):s}(0,function(r){if(r.status===404)return!1;throw r})});function Pe(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const gs=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},t,n);return Pe(z(r,t),function(i){return W(t,i),Pe(i.text(),function(s){if(!s)throw new Error("Failed parsing directory contents: Empty response");return Pe(Zt(s),function(u){const a=Cn(e);let c=function(o,l,p){let h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const d=ie().join(l,"/"),{multistatus:{response:g}}=o,y=g.map(w=>{const m=function(E){try{return E.replace(/^https?:\/\/[^\/]+/,"")}catch(v){throw new it(v,"Failed normalising HREF")}}(w.href),{propstat:{prop:b}}=w;return de(b,d==="/"?decodeURIComponent(Wt(m)):Wt(ie().relative(decodeURIComponent(d),decodeURIComponent(m))),h)});return f?y:y.filter(w=>w.basename&&(w.type==="file"||w.filename!==p.replace(/\/$/,"")))}(u,Cn(t.remoteBasePath||t.remotePath),a,n.details,n.includeSelf);return n.glob&&(c=function(o,l){return o.filter(p=>J(p.filename,l,{matchBase:!0}))}(c,n.glob)),Lt(i,c,n.details)})})})});function an(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}const ms=an(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[vs]},t,n);return he(z(r,t),function(i){return W(t,i),he(i.text(),function(s){return Lt(i,s,n.details)})})});function he(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const ys=an(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e)),method:"GET"},t,n);return he(z(r,t),function(i){let s;return W(t,i),function(u,a){var c=u();return c&&c.then?c.then(a):a()}(function(){return he(i.arrayBuffer(),function(u){s=u})},function(){return Lt(i,s,n.details)})})}),bs=an(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new it({info:{code:wt.InvalidOutputFormat}},"Invalid output format: ".concat(r));return r==="text"?ms(t,e,n):ys(t,e,n)}),vs=t=>t;function ws(t){return new sn.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Or({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:t}}},"d"))}function Or(t,e){const n=st({},t);for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n["".concat(e,":").concat(r)]=Or(n[r],e),delete n[r]):/^@_/.test(r)===!1&&(n["".concat(e,":").concat(r)]=n[r],delete n[r]));return n}function Ve(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}function Ir(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}const Es=Ir(function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=X({url:k(t.remoteURL,D(e)),method:"UNLOCK",headers:{"Lock-Token":n}},t,r);return Ve(z(i,t),function(s){if(W(t,s),s.status!==204&&s.status!==200)throw rn(s)})}),xs=Ir(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:i=Ns}=n,s={Accept:"text/plain,application/xml",Timeout:i};r&&(s.If=r);const u=X({url:k(t.remoteURL,D(e)),method:"LOCK",headers:s,data:ws(t.contactHref)},t,n);return Ve(z(u,t),function(a){return W(t,a),Ve(a.text(),function(c){const o=(h=c,new sn.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(h)),l=yt().get(o,"prop.lockdiscovery.activelock.locktoken.href"),p=yt().get(o,"prop.lockdiscovery.activelock.timeout");var h;if(!l)throw rn(a,"No lock token received: ");return{token:l,serverTimeout:p}})})}),Ns="Infinite, Second-4100000000";function Ce(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const As=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.path||"/",r=X({url:k(t.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},t,e);return Ce(z(r,t),function(i){return W(t,i),Ce(i.text(),function(s){return Ce(Zt(s),function(u){const a=function(c){try{const[o]=c.multistatus.response,{propstat:{prop:{"quota-used-bytes":l,"quota-available-bytes":p}}}=o;return l!==void 0&&p!==void 0?{used:parseInt(String(l),10),available:xr(p)}:null}catch(o){}return null}(u);return Lt(i,a,e.details)})})})});function Se(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const Os=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=X({url:k(t.remoteURL,D(e)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":t.headers["Content-Type"]||"application/xml; charset=utf-8"}},t,n);return Se(z(i,t),function(s){return W(t,s),Se(s.text(),function(u){return Se(Zt(u),function(a){const c=function(o,l,p){const h={truncated:!1,results:[]};return h.truncated=o.multistatus.response.some(f=>{var d,g;return((g=(f.status||((d=f.propstat)==null?void 0:d.status)).split(" ",3))==null?void 0:g[1])==="507"&&f.href.replace(/\/$/,"").endsWith(D(l).replace(/\/$/,""))}),o.multistatus.response.forEach(f=>{if(f.propstat===void 0)return;const d=f.href.split("/").map(decodeURIComponent).join("/");h.results.push(de(f.propstat.prop,d,p))}),h}(a,e,r);return Lt(s,c,r)})})})}),Is=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=X({url:k(t.remoteURL,D(e)),method:"MOVE",headers:{Destination:k(t.remoteURL,D(n)),Overwrite:r.overwrite===!1?"F":"T"}},t,r);return u=function(a){W(t,a)},(s=z(i,t))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u});var Ts=L(172);const Ps=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:i=!0,overwrite:s=!0}=r,u={"Content-Type":"application/octet-stream"};i===!1||(u["Content-Length"]=typeof i=="number"?"".concat(i):"".concat(function(l){if(pr(l))return l.byteLength;if(fr(l))return l.length;if(typeof l=="string")return(0,Ts.d)(l);throw new it({info:{code:wt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n))),s||(u["If-None-Match"]="*");const a=X({url:k(t.remoteURL,D(e)),method:"PUT",headers:u,data:n},t,r);return o=function(l){try{W(t,l)}catch(p){const h=p;if(h.status!==412||s)throw h;return!1}return!0},(c=z(a,t))&&c.then||(c=Promise.resolve(c)),o?c.then(o):c;var c,o}),Tr=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e)),method:"OPTIONS"},t,n);return s=function(u){var a,c;try{W(t,u)}catch(o){throw o}return{compliance:((a=u.headers.get("DAV"))!=null?a:"").split(",").map(o=>o.trim()),server:(c=u.headers.get("Server"))!=null?c:""}},(i=z(r,t))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s});function Xt(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const Cs=un(function(t,e,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new it({info:{code:wt.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const u={"Content-Type":"application/octet-stream","Content-Length":""+(r-n+1),"Content-Range":"bytes ".concat(n,"-").concat(r,"/*")},a=X({url:k(t.remoteURL,D(e)),method:"PUT",headers:u,data:i},t,s);return Xt(z(a,t),function(c){W(t,c)})});function Xn(t,e){var n=t();return n&&n.then?n.then(e):e(n)}const Ss=un(function(t,e,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new it({info:{code:wt.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const u={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-n+1),"X-Update-Range":"bytes=".concat(n,"-").concat(r)},a=X({url:k(t.remoteURL,D(e)),method:"PATCH",headers:u,data:i},t,s);return Xt(z(a,t),function(c){W(t,c)})});function un(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}const _s=un(function(t,e,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Xt(Tr(t,e,s),function(u){let a=!1;return Xn(function(){if(u.compliance.includes("sabredav-partialupdate"))return Xt(Ss(t,e,n,r,i,s),function(c){return a=!0,c})},function(c){let o=!1;return a?c:Xn(function(){if(u.server.includes("Apache")&&u.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Xt(Cs(t,e,n,r,i,s),function(l){return o=!0,l})},function(l){if(o)return l;throw new it({info:{code:wt.NotSupported}},"Not supported")})})})}),Rs="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function $s(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:i=Rs,ha1:s,headers:u={},httpAgent:a,httpsAgent:c,password:o,token:l,username:p,withCredentials:h}=e;let f=n;f||(f=p||o?nt.Password:nt.None);const d={authType:f,remoteBasePath:r,contactHref:i,ha1:s,headers:Object.assign({},u),httpAgent:a,httpsAgent:c,password:o,remotePath:Ei(t),remoteURL:t,token:l,username:p,withCredentials:h};return lr(d,p,o,l,s),{copyFile:(g,y,w)=>ss(d,g,y,w),createDirectory:(g,y)=>Be(d,g,y),createReadStream:(g,y)=>function(w,m){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const E=new(zn()).PassThrough;return cs(w,m,b).then(v=>{v.pipe(E)}).catch(v=>{E.emit("error",v)}),E}(d,g,y),createWriteStream:(g,y,w)=>function(m,b){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hs;const A=new(zn()).PassThrough,x={};E.overwrite===!1&&(x["If-None-Match"]="*");const N=X({url:k(m.remoteURL,D(b)),method:"PUT",headers:x,data:A,maxRedirects:0},m,E);return z(N,m).then(O=>W(m,O)).then(O=>{setTimeout(()=>{v(O)},0)}).catch(O=>{A.emit("error",O)}),A}(d,g,y,w),customRequest:(g,y)=>ps(d,g,y),deleteFile:(g,y)=>fs(d,g,y),exists:(g,y)=>ds(d,g,y),getDirectoryContents:(g,y)=>gs(d,g,y),getFileContents:(g,y)=>bs(d,g,y),getFileDownloadLink:g=>function(y,w){let m=k(y.remoteURL,D(w));const b=/^https:/i.test(m)?"https":"http";switch(y.authType){case nt.None:break;case nt.Password:{const E=_n(y.headers.Authorization.replace(/^Basic /i,"").trim());m=m.replace(/^https?:\/\//,"".concat(b,"://").concat(E,"@"));break}default:throw new it({info:{code:wt.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(y.authType))}return m}(d,g),getFileUploadLink:g=>function(y,w){let m="".concat(k(y.remoteURL,D(w)),"?Content-Type=application/octet-stream");const b=/^https:/i.test(m)?"https":"http";switch(y.authType){case nt.None:break;case nt.Password:{const E=_n(y.headers.Authorization.replace(/^Basic /i,"").trim());m=m.replace(/^https?:\/\//,"".concat(b,"://").concat(E,"@"));break}default:throw new it({info:{code:wt.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(y.authType))}return m}(d,g),getHeaders:()=>Object.assign({},d.headers),getQuota:g=>As(d,g),lock:(g,y)=>xs(d,g,y),moveFile:(g,y,w)=>Is(d,g,y,w),putFileContents:(g,y,w)=>Ps(d,g,y,w),partialUpdateFileContents:(g,y,w,m,b)=>_s(d,g,y,w,m,b),getDAVCompliance:g=>Tr(d,g),search:(g,y)=>Os(d,g,y),setHeaders:g=>{d.headers=Object.assign({},g)},stat:(g,y)=>on(d,g,y),unlock:(g,y,w)=>Es(d,g,y,w)}}pt.hT,pt.O4,pt.Kd,pt.YK;var Ls=pt.UU,js=pt.Gu,Fs=pt.ky,Ds=pt.h4;pt.ch,pt.hq,pt.i5;function ln(){var t;return(t=Ze("files_sharing","isPublic",null))!=null?t:document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function ks(){var t,e,n;return(n=(e=Ze("files_sharing","sharingToken",null))!=null?e:(t=document.querySelector('input#sharingToken[type="hidden"]'))==null?void 0:t.value)!=null?n:null}const Ge=je().setApp("@nextcloud/files").detectUser().build();var ht=(t=>(t[t.NONE=0]="NONE",t[t.CREATE=4]="CREATE",t[t.READ=1]="READ",t[t.UPDATE=2]="UPDATE",t[t.DELETE=8]="DELETE",t[t.SHARE=16]="SHARE",t[t.ALL=31]="ALL",t))(ht||{}),ge=(t=>(t.Folder="folder",t.File="file",t))(ge||{});const Pr=function(t,e){return t.match(e)!==null},Wn=(t,e)=>{if(t.id&&typeof t.id!="number")throw new Error("Invalid id type of value");if(!t.source)throw new Error("Missing mandatory source");try{new URL(t.source)}catch(n){throw new Error("Invalid source format, source must be a valid URL")}if(!t.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(t.displayname&&typeof t.displayname!="string")throw new Error("Invalid displayname type");if(t.mtime&&!(t.mtime instanceof Date))throw new Error("Invalid mtime type");if(t.crtime&&!(t.crtime instanceof Date))throw new Error("Invalid crtime type");if(!t.mime||typeof t.mime!="string"||!t.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in t&&typeof t.size!="number"&&t.size!==void 0)throw new Error("Invalid size type");if("permissions"in t&&t.permissions!==void 0&&!(typeof t.permissions=="number"&&t.permissions>=ht.NONE&&t.permissions<=ht.ALL))throw new Error("Invalid permissions");if(t.owner&&t.owner!==null&&typeof t.owner!="string")throw new Error("Invalid owner type");if(t.attributes&&typeof t.attributes!="object")throw new Error("Invalid attributes type");if(t.root&&typeof t.root!="string")throw new Error("Invalid root type");if(t.root&&!t.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(t.root&&!t.source.includes(t.root))throw new Error("Root must be part of the source");if(t.root&&Pr(t.source,e)){const n=t.source.match(e)[0];if(!t.source.includes(ct.join(n,t.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(t.status&&!Object.values(cn).includes(t.status))throw new Error("Status must be a valid NodeStatus")};var cn=(t=>(t.NEW="new",t.FAILED="failed",t.LOADING="loading",t.LOCKED="locked",t))(cn||{});class me{constructor(e,n){j(this,"_data");j(this,"_attributes");j(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);j(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(me.prototype)).filter(e=>typeof e[1].get=="function"&&e[0]!=="__proto__").map(e=>e[0]));j(this,"handler",{set:(e,n,r)=>this.readonlyAttributes.includes(n)?!1:Reflect.set(e,n,r),deleteProperty:(e,n)=>this.readonlyAttributes.includes(n)?!1:Reflect.deleteProperty(e,n),get:(e,n,r)=>this.readonlyAttributes.includes(n)?(Ge.warn('Accessing "Node.attributes.'.concat(n,'" is deprecated, access it directly on the Node instance.')),Reflect.get(this,n)):Reflect.get(e,n,r)});var r,i;Wn(e,n||this._knownDavService),this._data=dt(st({displayname:(r=e.attributes)==null?void 0:r.displayname},e),{attributes:{}}),this._attributes=new Proxy(this._data.attributes,this.handler),this.update((i=e.attributes)!=null?i:{}),n&&(this._knownDavService=n)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:e}=new URL(this.source);return e+pi(this.source.slice(e.length))}get basename(){return ct.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(e){this._data.displayname=e}get extension(){return ct.extname(this.source)}get dirname(){if(this.root){let n=this.source;this.isDavResource&&(n=n.split(this._knownDavService).pop());const r=n.indexOf(this.root),i=this.root.replace(/\/$/,"");return ct.dirname(n.slice(r+i.length)||"/")}const e=new URL(this.source);return ct.dirname(e.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}set mtime(e){this._data.mtime=e}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(e){this.updateMtime(),this._data.size=e}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?ht.READ:this._data.permissions!==void 0?this._data.permissions:ht.NONE}set permissions(e){this.updateMtime(),this._data.permissions=e}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return Pr(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&ct.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let e=this.source;this.isDavResource&&(e=e.split(this._knownDavService).pop());const n=e.indexOf(this.root),r=this.root.replace(/\/$/,"");return e.slice(n+r.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){var e;return(e=this._data)==null?void 0:e.id}get status(){var e;return(e=this._data)==null?void 0:e.status}set status(e){this._data.status=e}get data(){return structuredClone(this._data)}move(e){Wn(dt(st({},this._data),{source:e}),this._knownDavService);const n=this.basename;this._data.source=e,this.displayname===n&&this.basename!==n&&(this.displayname=this.basename),this.updateMtime()}rename(e){if(e.includes("/"))throw new Error("Invalid basename");this.move(ct.dirname(this.source)+"/"+e)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(e){for(const[n,r]of Object.entries(e))try{r===void 0?delete this.attributes[n]:this.attributes[n]=r}catch(i){if(i instanceof TypeError)continue;throw i}}}class hn extends me{get type(){return ge.File}clone(){return new hn(this.data)}}class pn extends me{constructor(e){super(dt(st({},e),{mime:"httpd/unix-directory"}))}get type(){return ge.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new pn(this.data)}}const Us=function(t=""){let e=ht.NONE;return t&&((t.includes("C")||t.includes("K"))&&(e|=ht.CREATE),t.includes("G")&&(e|=ht.READ),(t.includes("W")||t.includes("N")||t.includes("V"))&&(e|=ht.UPDATE),t.includes("D")&&(e|=ht.DELETE),t.includes("R")&&(e|=ht.SHARE)),e},Ms=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],Bs={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},Vs=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...Ms]),window._nc_dav_properties.map(t=>"<".concat(t," />")).join(" ")},Gs=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces=st({},Bs)),Object.keys(window._nc_dav_namespaces).map(t=>{var e;return"xmlns:".concat(t,'="').concat((e=window._nc_dav_namespaces)==null?void 0:e[t],'"')}).join(" ")},zs=function(){return'<?xml version="1.0"?>\n		<d:propfind '.concat(Gs(),">\n			<d:prop>\n				").concat(Vs(),"\n			</d:prop>\n		</d:propfind>")};function Xs(){var t;return ln()?"/files/".concat(ks()):"/files/".concat((t=pe())==null?void 0:t.uid)}const Ws=Xs();function Hs(){const t=Kr("dav");return ln()?t.replace("remote.php","public.php"):t}const Cr=Hs(),qs=function(t=Cr,e={}){const n=Ls(t,{headers:e});function r(i){n.setHeaders(dt(st({},e),{"X-Requested-With":"XMLHttpRequest",requesttoken:i!=null?i:""}))}return Zr(r),r(Yr()),js().patch("fetch",(i,s)=>{const u=s.headers;return u!=null&&u.method&&(s.method=u.method,delete u.method),fetch(i,s)}),n},Ks=function(t,e=Ws,n=Cr){var p,h;let r=(p=pe())==null?void 0:p.uid;if(ln())r=r!=null?r:"anonymous";else if(!r)throw new Error("No user id found");const i=t.props,s=Us(i==null?void 0:i.permissions),u=String((i==null?void 0:i["owner-id"])||r),a=i.fileid||0,c=new Date(Date.parse(t.lastmod)),o=new Date(Date.parse(i.creationdate)),l={id:a,source:"".concat(n).concat(t.filename),mtime:!isNaN(c.getTime())&&c.getTime()!==0?c:void 0,crtime:!isNaN(o.getTime())&&o.getTime()!==0?o:void 0,mime:t.mime||"application/octet-stream",displayname:i.displayname!==void 0?String(i.displayname):void 0,size:(i==null?void 0:i.size)||Number.parseInt(i.getcontentlength||"0"),status:a<0?cn.FAILED:void 0,permissions:s,owner:u,root:e,attributes:dt(st(st({},t),i),{hasPreview:i==null?void 0:i["has-preview"]})};return(h=l.attributes)==null||delete h.props,t.type==="file"?new hn(l):new pn(l)};var _e={},fn=(t=>(t.DEFAULT="default",t.HIDDEN="hidden",t))(fn||{});class Zs{constructor(e){j(this,"_action");this.validateAction(e),this._action=e}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get destructive(){return this._action.destructive}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(e){if(!e.id||typeof e.id!="string")throw new Error("Invalid id");if(!e.displayName||typeof e.displayName!="function")throw new Error("Invalid displayName function");if("title"in e&&typeof e.title!="function")throw new Error("Invalid title function");if(!e.iconSvgInline||typeof e.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!e.exec||typeof e.exec!="function")throw new Error("Invalid exec function");if("enabled"in e&&typeof e.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in e&&typeof e.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in e&&typeof e.order!="number")throw new Error("Invalid order");if(e.destructive!==void 0&&typeof e.destructive!="boolean")throw new Error("Invalid destructive flag");if("parent"in e&&typeof e.parent!="string")throw new Error("Invalid parent");if(e.default&&!Object.values(fn).includes(e.default))throw new Error("Invalid default");if("inline"in e&&typeof e.inline!="function")throw new Error("Invalid inline function");if("renderInline"in e&&typeof e.renderInline!="function")throw new Error("Invalid renderInline function")}}const Ys=function(t){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],Ge.debug("FileActions initialized")),window._nc_fileactions.find(e=>e.id===t.id)){Ge.error("FileAction ".concat(t.id," already registered"),{action:t});return}window._nc_fileactions.push(t)};var Js={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",i=new RegExp("^"+r+"$"),s=function(a,c){const o=[];let l=c.exec(a);for(;l;){const p=[];p.startIndex=c.lastIndex-l[0].length;const h=l.length;for(let f=0;f<h;f++)p.push(l[f]);o.push(p),l=c.exec(a)}return o},u=function(a){const c=i.exec(a);return!(c===null||typeof c>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,c,o){if(c){const l=Object.keys(c),p=l.length;for(let h=0;h<p;h++)o==="strict"?a[l[h]]=[c[l[h]]]:a[l[h]]=c[l[h]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=u,t.getAllMatches=s,t.nameRegexp=r})(Js),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Qs=typeof zt=="object"&&_e&&_e.NODE_DEBUG&&/\bsemver\b/i.test(_e.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var to=Qs;const eo="2.0.0",Sr=256,no=Number.MAX_SAFE_INTEGER||9007199254740991,ro=16,io=Sr-6,so=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var oo={MAX_LENGTH:Sr,MAX_SAFE_COMPONENT_LENGTH:ro,MAX_SAFE_BUILD_LENGTH:io,MAX_SAFE_INTEGER:no,RELEASE_TYPES:so,SEMVER_SPEC_VERSION:eo,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Hn={exports:{}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=oo,s=to;e=t.exports={};const u=e.re=[],a=e.safeRe=[],c=e.src=[],o=e.t={};let l=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,r]],f=g=>{for(const[y,w]of h)g=g.split("".concat(y,"*")).join("".concat(y,"{0,").concat(w,"}")).split("".concat(y,"+")).join("".concat(y,"{1,").concat(w,"}"));return g},d=(g,y,w)=>{const m=f(y),b=l++;s(g,b,y),o[g]=b,c[b]=y,u[b]=new RegExp(y,w?"g":void 0),a[b]=new RegExp(m,w?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(p,"*")),d("MAINVERSION","(".concat(c[o.NUMERICIDENTIFIER],")\\.(").concat(c[o.NUMERICIDENTIFIER],")\\.(").concat(c[o.NUMERICIDENTIFIER],")")),d("MAINVERSIONLOOSE","(".concat(c[o.NUMERICIDENTIFIERLOOSE],")\\.(").concat(c[o.NUMERICIDENTIFIERLOOSE],")\\.(").concat(c[o.NUMERICIDENTIFIERLOOSE],")")),d("PRERELEASEIDENTIFIER","(?:".concat(c[o.NUMERICIDENTIFIER],"|").concat(c[o.NONNUMERICIDENTIFIER],")")),d("PRERELEASEIDENTIFIERLOOSE","(?:".concat(c[o.NUMERICIDENTIFIERLOOSE],"|").concat(c[o.NONNUMERICIDENTIFIER],")")),d("PRERELEASE","(?:-(".concat(c[o.PRERELEASEIDENTIFIER],"(?:\\.").concat(c[o.PRERELEASEIDENTIFIER],")*))")),d("PRERELEASELOOSE","(?:-?(".concat(c[o.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(c[o.PRERELEASEIDENTIFIERLOOSE],")*))")),d("BUILDIDENTIFIER","".concat(p,"+")),d("BUILD","(?:\\+(".concat(c[o.BUILDIDENTIFIER],"(?:\\.").concat(c[o.BUILDIDENTIFIER],")*))")),d("FULLPLAIN","v?".concat(c[o.MAINVERSION]).concat(c[o.PRERELEASE],"?").concat(c[o.BUILD],"?")),d("FULL","^".concat(c[o.FULLPLAIN],"$")),d("LOOSEPLAIN","[v=\\s]*".concat(c[o.MAINVERSIONLOOSE]).concat(c[o.PRERELEASELOOSE],"?").concat(c[o.BUILD],"?")),d("LOOSE","^".concat(c[o.LOOSEPLAIN],"$")),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE","".concat(c[o.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),d("XRANGEIDENTIFIER","".concat(c[o.NUMERICIDENTIFIER],"|x|X|\\*")),d("XRANGEPLAIN","[v=\\s]*(".concat(c[o.XRANGEIDENTIFIER],")(?:\\.(").concat(c[o.XRANGEIDENTIFIER],")(?:\\.(").concat(c[o.XRANGEIDENTIFIER],")(?:").concat(c[o.PRERELEASE],")?").concat(c[o.BUILD],"?)?)?")),d("XRANGEPLAINLOOSE","[v=\\s]*(".concat(c[o.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(c[o.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(c[o.XRANGEIDENTIFIERLOOSE],")(?:").concat(c[o.PRERELEASELOOSE],")?").concat(c[o.BUILD],"?)?)?")),d("XRANGE","^".concat(c[o.GTLT],"\\s*").concat(c[o.XRANGEPLAIN],"$")),d("XRANGELOOSE","^".concat(c[o.GTLT],"\\s*").concat(c[o.XRANGEPLAINLOOSE],"$")),d("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(n,"})(?:\\.(\\d{1,").concat(n,"}))?(?:\\.(\\d{1,").concat(n,"}))?")),d("COERCE","".concat(c[o.COERCEPLAIN],"(?:$|[^\\d])")),d("COERCEFULL",c[o.COERCEPLAIN]+"(?:".concat(c[o.PRERELEASE],")?(?:").concat(c[o.BUILD],")?(?:$|[^\\d])")),d("COERCERTL",c[o.COERCE],!0),d("COERCERTLFULL",c[o.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM","(\\s*)".concat(c[o.LONETILDE],"\\s+"),!0),e.tildeTrimReplace="$1~",d("TILDE","^".concat(c[o.LONETILDE]).concat(c[o.XRANGEPLAIN],"$")),d("TILDELOOSE","^".concat(c[o.LONETILDE]).concat(c[o.XRANGEPLAINLOOSE],"$")),d("LONECARET","(?:\\^)"),d("CARETTRIM","(\\s*)".concat(c[o.LONECARET],"\\s+"),!0),e.caretTrimReplace="$1^",d("CARET","^".concat(c[o.LONECARET]).concat(c[o.XRANGEPLAIN],"$")),d("CARETLOOSE","^".concat(c[o.LONECARET]).concat(c[o.XRANGEPLAINLOOSE],"$")),d("COMPARATORLOOSE","^".concat(c[o.GTLT],"\\s*(").concat(c[o.LOOSEPLAIN],")$|^$")),d("COMPARATOR","^".concat(c[o.GTLT],"\\s*(").concat(c[o.FULLPLAIN],")$|^$")),d("COMPARATORTRIM","(\\s*)".concat(c[o.GTLT],"\\s*(").concat(c[o.LOOSEPLAIN],"|").concat(c[o.XRANGEPLAIN],")"),!0),e.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE","^\\s*(".concat(c[o.XRANGEPLAIN],")\\s+-\\s+(").concat(c[o.XRANGEPLAIN],")\\s*$")),d("HYPHENRANGELOOSE","^\\s*(".concat(c[o.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(c[o.XRANGEPLAINLOOSE],")\\s*$")),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Hn,Hn.exports);var dn={},ye={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",i=new RegExp("^"+r+"$"),s=function(a,c){const o=[];let l=c.exec(a);for(;l;){const p=[];p.startIndex=c.lastIndex-l[0].length;const h=l.length;for(let f=0;f<h;f++)p.push(l[f]);o.push(p),l=c.exec(a)}return o},u=function(a){const c=i.exec(a);return!(c===null||typeof c>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,c,o){if(c){const l=Object.keys(c),p=l.length;for(let h=0;h<p;h++)o==="strict"?a[l[h]]=[c[l[h]]]:a[l[h]]=c[l[h]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=u,t.getAllMatches=s,t.nameRegexp=r})(ye);const gn=ye,ao={allowBooleanAttributes:!1,unpairedTags:[]};dn.validate=function(t,e){e=Object.assign({},ao,e);const n=[];let r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=Kn(t,s),s.err)return s}else if(t[s]==="<"){let u=s;if(s++,t[s]==="!"){s=Zn(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let c="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!=="\n"&&t[s]!=="\r";s++)c+=t[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!mo(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",M("InvalidTag",p,tt(t,s))}const o=co(t,s);if(o===!1)return M("InvalidAttr","Attributes for '"+c+"' have open quote.",tt(t,s));let l=o.value;if(s=o.index,l[l.length-1]==="/"){const p=s-l.length;l=l.substring(0,l.length-1);const h=Yn(l,e);if(h===!0)r=!0;else return M(h.err.code,h.err.msg,tt(t,p+h.err.line))}else if(a)if(o.tagClosed){if(l.trim().length>0)return M("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",tt(t,u));if(n.length===0)return M("InvalidTag","Closing tag '"+c+"' has not been opened.",tt(t,u));{const p=n.pop();if(c!==p.tagName){let h=tt(t,p.tagStartPos);return M("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",tt(t,u))}n.length==0&&(i=!0)}}else return M("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",tt(t,s));else{const p=Yn(l,e);if(p!==!0)return M(p.err.code,p.err.msg,tt(t,s-l.length+p.err.line));if(i===!0)return M("InvalidXml","Multiple possible root nodes found.",tt(t,s));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:u}),r=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=Zn(t,s);continue}else if(t[s+1]==="?"){if(s=Kn(t,++s),s.err)return s}else break;else if(t[s]==="&"){const p=fo(t,s);if(p==-1)return M("InvalidChar","char '&' is not expected.",tt(t,s));s=p}else if(i===!0&&!qn(t[s]))return M("InvalidXml","Extra text at the end",tt(t,s));t[s]==="<"&&s--}}else{if(qn(t[s]))continue;return M("InvalidChar","char '"+t[s]+"' is not expected.",tt(t,s))}if(r){if(n.length==1)return M("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",tt(t,n[0].tagStartPos));if(n.length>0)return M("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return M("InvalidXml","Start tag expected.",1);return!0};function qn(t){return t===" "||t==="	"||t==="\n"||t==="\r"}function Kn(t,e){const n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const r=t.substr(n,e-n);if(e>5&&r==="xml")return M("InvalidXml","XML declaration allowed only at the start of the document.",tt(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function Zn(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const uo='"',lo="'";function co(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===uo||t[e]===lo)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}const ho=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Yn(t,e){const n=gn.getAllMatches(t,ho),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return M("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",Bt(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return M("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",Bt(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return M("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",Bt(n[i]));const s=n[i][2];if(!go(s))return M("InvalidAttr","Attribute '"+s+"' is an invalid name.",Bt(n[i]));if(!r.hasOwnProperty(s))r[s]=1;else return M("InvalidAttr","Attribute '"+s+"' is repeated.",Bt(n[i]))}return!0}function po(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function fo(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,po(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function M(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function go(t){return gn.isName(t)}function mo(t){return gn.isName(t)}function tt(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Bt(t){return t.startIndex+t[1].length}var ze={};const _r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},yo=function(t){return Object.assign({},_r,t)};ze.buildOptions=yo,ze.defaultOptions=_r;class bo{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}var vo=bo;const wo=ye;function Eo(t,e){const n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,s=!1,u="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&Ao(t,e))e+=7,[entityName,val,e]=xo(t,e+1),val.indexOf("&")===-1&&(n[Po(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(i&&Oo(t,e))e+=8;else if(i&&Io(t,e))e+=8;else if(i&&To(t,e))e+=9;else if(No)s=!0;else throw new Error("Invalid DOCTYPE");r++,u=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:u+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function xo(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=t[e++];let i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function No(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function Ao(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function Oo(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function Io(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function To(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function Po(t){if(wo.isName(t))return t;throw new Error("Invalid entity name ".concat(t))}var Co=Eo;const So=/^[-+]?0x[a-fA-F0-9]+$/,_o=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Ro={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function $o(t,e={}){if(e=Object.assign({},Ro,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&So.test(n))return Number.parseInt(n,16);{const r=_o.exec(n);if(r){const i=r[1],s=r[2];let u=Lo(r[3]);const a=r[4]||r[6];if(!e.leadingZeros&&s.length>0&&i&&n[2]!=="."||!e.leadingZeros&&s.length>0&&!i&&n[1]!==".")return t;{const c=Number(n),o=""+c;return o.search(/[eE]/)!==-1||a?e.eNotation?c:t:n.indexOf(".")!==-1?o==="0"&&u===""||o===u||i&&o==="-"+u?c:t:s?u===o||i+u===o?c:t:n===o||n===i+o?c:t}}else return t}}function Lo(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var jo=$o;function Fo(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const n of t)if(typeof n=="string"&&e===n||n instanceof RegExp&&n.test(e))return!0}:()=>!1}var Rr=Fo;const $r=ye,Vt=vo,Do=Co,ko=jo,Uo=Rr;let Mo=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=Bo,this.parseXml=Wo,this.parseTextData=Vo,this.resolveNameSpace=Go,this.buildAttributesMap=Xo,this.isItStopNode=Zo,this.replaceEntitiesValue=qo,this.readStopNodeData=Jo,this.saveTextToParentTag=Ko,this.addChild=Ho,this.ignoreAttributesFn=Uo(this.options.ignoreAttributes)}};function Bo(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function Vo(t,e,n,r,i,s,u){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){u||(t=this.replaceEntitiesValue(t));const a=this.options.tagValueProcessor(e,t,n,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?We(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?We(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Go(t){if(this.options.removeNSPrefix){const e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}const zo=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function Xo(t,e,n){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){const r=$r.getAllMatches(t,zo),i=r.length,s={};for(let u=0;u<i;u++){const a=this.resolveNameSpace(r[u][1]);if(this.ignoreAttributesFn(a,e))continue;let c=r[u][4],o=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),o==="__proto__"&&(o="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const l=this.options.attributeValueProcessor(a,c,e);l==null?s[o]=c:typeof l!=typeof c||l!==c?s[o]=l:s[o]=We(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const u={};return u[this.options.attributesGroupName]=s,u}return s}}const Wo=function(t){t=t.replace(/\r\n?/g,"\n");const e=new Vt("!xml");let n=e,r="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){const u=St(t,">",s,"Closing Tag is not closed.");let a=t.substring(s+2,u).trim();if(this.options.removeNSPrefix){const l=a.indexOf(":");l!==-1&&(a=a.substr(l+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&(r=this.saveTextToParentTag(r,n,i));const c=i.substring(i.lastIndexOf(".")+1);if(a&&this.options.unpairedTags.indexOf(a)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(a,">"));let o=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(o=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):o=i.lastIndexOf("."),i=i.substring(0,o),n=this.tagsNodeStack.pop(),r="",s=u}else if(t[s+1]==="?"){let u=Xe(t,s,!1,"?>");if(!u)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&u.tagName==="?xml"||this.options.ignorePiTags)){const a=new Vt(u.tagName);a.add(this.options.textNodeName,""),u.tagName!==u.tagExp&&u.attrExpPresent&&(a[":@"]=this.buildAttributesMap(u.tagExp,i,u.tagName)),this.addChild(n,a,i)}s=u.closeIndex+1}else if(t.substr(s+1,3)==="!--"){const u=St(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const a=t.substring(s+4,u-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}s=u}else if(t.substr(s+1,2)==="!D"){const u=Do(t,s);this.docTypeEntities=u.entities,s=u.i}else if(t.substr(s+1,2)==="!["){const u=St(t,"]]>",s,"CDATA is not closed.")-2,a=t.substring(s+9,u);r=this.saveTextToParentTag(r,n,i);let c=this.parseTextData(a,n.tagname,i,!0,!1,!0,!0);c==null&&(c=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]):n.add(this.options.textNodeName,c),s=u+2}else{let u=Xe(t,s,this.options.removeNSPrefix),a=u.tagName;const c=u.rawTagName;let o=u.tagExp,l=u.attrExpPresent,p=u.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));const h=n;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),a!==e.tagname&&(i+=i?"."+a:a),this.isItStopNode(this.options.stopNodes,i,a)){let f="";if(o.length>0&&o.lastIndexOf("/")===o.length-1)a[a.length-1]==="/"?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),o=a):o=o.substr(0,o.length-1),s=u.closeIndex;else if(this.options.unpairedTags.indexOf(a)!==-1)s=u.closeIndex;else{const g=this.readStopNodeData(t,c,p+1);if(!g)throw new Error("Unexpected end of ".concat(c));s=g.i,f=g.tagContent}const d=new Vt(a);a!==o&&l&&(d[":@"]=this.buildAttributesMap(o,i,a)),f&&(f=this.parseTextData(f,a,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),d.add(this.options.textNodeName,f),this.addChild(n,d,i)}else{if(o.length>0&&o.lastIndexOf("/")===o.length-1){a[a.length-1]==="/"?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),o=a):o=o.substr(0,o.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const f=new Vt(a);a!==o&&l&&(f[":@"]=this.buildAttributesMap(o,i,a)),this.addChild(n,f,i),i=i.substr(0,i.lastIndexOf("."))}else{const f=new Vt(a);this.tagsNodeStack.push(n),a!==o&&l&&(f[":@"]=this.buildAttributesMap(o,i,a)),this.addChild(n,f,i),n=f}r="",s=p}}else r+=t[s];return e.child};function Ho(t,e,n){const r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}const qo=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Ko(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Zo(t,e,n){const r="*."+n;for(const i in t){const s=t[i];if(r===s||e===s)return!0}return!1}function Yo(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let u=t[s];if(r)u===r&&(r="");else if(u==='"'||u==="'")r=u;else if(u===n[0])if(n[1]){if(t[s+1]===n[1])return{data:i,index:s}}else return{data:i,index:s};else u==="	"&&(u=" ");i+=u}}function St(t,e,n,r){const i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function Xe(t,e,n,r=">"){const i=Yo(t,e+1,r);if(!i)return;let s=i.data;const u=i.index,a=s.search(/\s/);let c=s,o=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());const l=c;if(n){const p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),o=c!==i.data.substr(p+1))}return{tagName:c,tagExp:s,closeIndex:u,attrExpPresent:o,rawTagName:l}}function Jo(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const s=St(t,">",n,"".concat(e," is not closed"));if(t.substring(n+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:s};n=s}else if(t[n+1]==="?")n=St(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=St(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=St(t,"]]>",n,"StopNode is not closed.")-2;else{const s=Xe(t,n,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,n=s.closeIndex)}}function We(t,e,n){if(e&&typeof t=="string"){const r=t.trim();return r==="true"?!0:r==="false"?!1:ko(t,n)}else return $r.isExist(t)?t:""}var Qo=Mo,Lr={};function ta(t,e){return jr(t,e)}function jr(t,e,n){let r;const i={};for(let s=0;s<t.length;s++){const u=t[s],a=ea(u);let c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=u[a]:r+=""+u[a];else{if(a===void 0)continue;if(u[a]){let o=jr(u[a],e,c);const l=ra(o,e);u[":@"]?na(o,u[":@"],c,e):Object.keys(o).length===1&&o[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?o=o[e.textNodeName]:Object.keys(o).length===0&&(e.alwaysCreateTextNode?o[e.textNodeName]="":o=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(o)):e.isArray(a,c,l)?i[a]=[o]:i[a]=o}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function ea(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(r!==":@")return r}}function na(t,e,n,r){if(e){const i=Object.keys(e),s=i.length;for(let u=0;u<s;u++){const a=i[u];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function ra(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}Lr.prettify=ta;const{buildOptions:ia}=ze,sa=Qo,{prettify:oa}=Lr,aa=dn;let ua=class{constructor(t){this.externalEntities={},this.options=ia(t)}parse(t,e){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(e){e===!0&&(e={});const i=aa.validate(t,e);if(i!==!0)throw Error("".concat(i.err.msg,":").concat(i.err.line,":").concat(i.err.col))}const n=new sa(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(t);return this.options.preserveOrder||r===void 0?r:oa(r,this.options)}addEntity(t,e){if(e.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(e==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}};var la=ua;const ca="\n";function ha(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=ca),Fr(t,e,"",n)}function Fr(t,e,n,r){let i="",s=!1;for(let u=0;u<t.length;u++){const a=t[u],c=pa(a);if(c===void 0)continue;let o="";if(n.length===0?o=c:o="".concat(n,".").concat(c),c===e.textNodeName){let d=a[c];fa(o,e)||(d=e.tagValueProcessor(c,d),d=Dr(d,e)),s&&(i+=r),i+=d,s=!1;continue}else if(c===e.cdataPropName){s&&(i+=r),i+="<![CDATA[".concat(a[c][0][e.textNodeName],"]]>"),s=!1;continue}else if(c===e.commentPropName){i+=r+"<!--".concat(a[c][0][e.textNodeName],"-->"),s=!0;continue}else if(c[0]==="?"){const d=Jn(a[":@"],e),g=c==="?xml"?"":r;let y=a[c][0][e.textNodeName];y=y.length!==0?" "+y:"",i+=g+"<".concat(c).concat(y).concat(d,"?>"),s=!0;continue}let l=r;l!==""&&(l+=e.indentBy);const p=Jn(a[":@"],e),h=r+"<".concat(c).concat(p),f=Fr(a[c],e,o,l);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=h+">":i+=h+"/>":(!f||f.length===0)&&e.suppressEmptyNode?i+=h+"/>":f&&f.endsWith(">")?i+=h+">".concat(f).concat(r,"</").concat(c,">"):(i+=h+">",f&&r!==""&&(f.includes("/>")||f.includes("</"))?i+=r+e.indentBy+f+r:i+=f,i+="</".concat(c,">")),s=!0}return i}function pa(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function Jn(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=Dr(i,e),i===!0&&e.suppressBooleanAttributes?n+=" ".concat(r.substr(e.attributeNamePrefix.length)):n+=" ".concat(r.substr(e.attributeNamePrefix.length),'="').concat(i,'"')}return n}function fa(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function Dr(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}var da=ha;const ga=da,ma=Rr,ya={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Tt(t){this.options=Object.assign({},ya,t),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=ma(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=wa),this.processTextOrObjNode=ba,this.options.format?(this.indentate=va,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Tt.prototype.build=function(t){return this.options.preserveOrder?ga(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)},Tt.prototype.j2x=function(t,e,n){let r="",i="";const s=n.join(".");for(let u in t)if(Object.prototype.hasOwnProperty.call(t,u))if(typeof t[u]>"u")this.isAttribute(u)&&(i+="");else if(t[u]===null)this.isAttribute(u)?i+="":u[0]==="?"?i+=this.indentate(e)+"<"+u+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+u+"/"+this.tagEndChar;else if(t[u]instanceof Date)i+=this.buildTextValNode(t[u],u,"",e);else if(typeof t[u]!="object"){const a=this.isAttribute(u);if(a&&!this.ignoreAttributesFn(a,s))r+=this.buildAttrPairStr(a,""+t[u]);else if(!a)if(u===this.options.textNodeName){let c=this.options.tagValueProcessor(u,""+t[u]);i+=this.replaceEntitiesValue(c)}else i+=this.buildTextValNode(t[u],u,"",e)}else if(Array.isArray(t[u])){const a=t[u].length;let c="",o="";for(let l=0;l<a;l++){const p=t[u][l];if(!(typeof p>"u"))if(p===null)u[0]==="?"?i+=this.indentate(e)+"<"+u+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+u+"/"+this.tagEndChar;else if(typeof p=="object")if(this.options.oneListGroup){const h=this.j2x(p,e+1,n.concat(u));c+=h.val,this.options.attributesGroupName&&p.hasOwnProperty(this.options.attributesGroupName)&&(o+=h.attrStr)}else c+=this.processTextOrObjNode(p,u,e,n);else if(this.options.oneListGroup){let h=this.options.tagValueProcessor(u,p);h=this.replaceEntitiesValue(h),c+=h}else c+=this.buildTextValNode(p,u,"",e)}this.options.oneListGroup&&(c=this.buildObjectNode(c,u,o,e)),i+=c}else if(this.options.attributesGroupName&&u===this.options.attributesGroupName){const a=Object.keys(t[u]),c=a.length;for(let o=0;o<c;o++)r+=this.buildAttrPairStr(a[o],""+t[u][a[o]])}else i+=this.processTextOrObjNode(t[u],u,e,n);return{attrStr:r,val:i}},Tt.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function ba(t,e,n,r){const i=this.j2x(t,n+1,r.concat(e));return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,i.attrStr,n):this.buildObjectNode(i.val,e,i.attrStr,n)}Tt.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(r)+"<!--".concat(t,"-->")+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i}},Tt.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e="></".concat(t),e},Tt.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+"<![CDATA[".concat(t,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+"<!--".concat(t,"-->")+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}},Tt.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function va(t){return this.options.indentBy.repeat(t)}function wa(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}var Ea=Tt;const xa=dn,Na=la,Aa=Ea;var Oa={XMLParser:Na,XMLValidator:xa,XMLBuilder:Aa};const Ia=t=>t===null?je().setApp("end_to_end_encryption").build():je().setApp("end_to_end_encryption").setUid(t.uid).build(),Z=Ia(pe());function Ta(t){return String.fromCharCode(...t)}function Pa(t){return Uint8Array.from(t,e=>e.charCodeAt(0))}function Ca(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function vt(t){return Pa(atob(t))}function kr(t){const e=t.replace(/-----BEGIN ((PRIVATE KEY)|(PUBLIC KEY)|(CERTIFICATE))-----/,"").replace(/-----END ((PRIVATE KEY)|(PUBLIC KEY)|(CERTIFICATE))-----/,"").replace(/\n/g,"");return vt(e)}var Sa=Object.defineProperty,_a=Object.defineProperties,Ra=Object.getOwnPropertyDescriptors,Qn=Object.getOwnPropertySymbols,$a=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,tr=(t,e,n)=>e in t?Sa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,He=(t,e)=>{for(var n in e||(e={}))$a.call(e,n)&&tr(t,n,e[n]);if(Qn)for(var n of Qn(e))La.call(e,n)&&tr(t,n,e[n]);return t},er=(t,e)=>_a(t,Ra(e));async function mn(t,e,n={}){return await self.crypto.subtle.decrypt(He({name:"AES-GCM"},n),e,t)}async function ja(t,e){return await self.crypto.subtle.decrypt({name:"RSA-OAEP"},e,t)}async function Ur(t){return await self.crypto.subtle.importKey("raw",t,{name:"AES-GCM",length:128},!0,["decrypt","encrypt"])}async function Fa(t){return await self.crypto.subtle.importKey("spki",t,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!0,["verify"])}async function Da(t){return await self.crypto.subtle.importKey("pkcs8",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["decrypt"])}async function ka(t){return new Uint8Array(await self.crypto.subtle.exportKey("raw",t))}async function Ua(t){const e=await self.crypto.subtle.digest("SHA-256",t);return Ca(new Uint8Array(e))}async function Ma(t,e){return new li(t).verify({publicKey:e},Ba())}function Ba(){return er(He({},self.crypto),{subtle:er(He({},self.crypto.subtle),{async verify(t,e,n,r){return self.crypto.subtle.verify(t,e,new Uint8Array(n),new Uint8Array(r))}})})}async function Va(t,e){Z.debug("Decrypting metadata info",{metadata:t});const[n,r]=t.metadata.ciphertext.split("|"),i=await mn(vt(n),e,{iv:vt(r)}),s=JSON.parse(await Xa(i));return Ga(s,t),za(s,e),s}function Ga(t,e){var n,r;if(((n=t.keyChecksums)==null?void 0:n.length)!==((r=e.users)==null?void 0:r.length))throw new Error("Key checksums length does not match users length")}async function za(t,e){if(t.keyChecksums===void 0)return;const n=await ka(e),r=await Ua(n);if(!t.keyChecksums.includes(r))throw new Error("Key checksum is not in keyChecksums")}async function Xa(t){const e=new ReadableStream({start(n){n.enqueue(new Uint8Array(t)),n.close()}}).pipeThrough(new DecompressionStream("gzip"));return await new Response(e).text()}async function Wa(t,e,n){var r;Z.debug("Getting metadata private key",{metadata:t,userId:e});const i=(r=t.users)==null?void 0:r.find(a=>a.userId===e);if(!i)throw new Error("User not found in metadata");const s=vt(i.encryptedMetadataKey),u=await ja(s,n);return await Ur(new Uint8Array(u))}const Re="apps/end_to_end_encryption/api/v2",yn={PrivateKey:Re+"/private-key",Metadata:Re+"/meta-data/{fileId}",ServerKey:Re+"/server-key"};async function Ha(){const t=(await Ye.get(Je(yn.PrivateKey),{headers:{"X-E2EE-SUPPORTED":"true"}})).data.ocs.data["private-key"],[e,n,r]=t.split("|");return{encryptedPrivateKey:vt(e),iv:vt(n),salt:vt(r)}}async function Mr(t,e){const n=await Ye.get(Je(yn.Metadata,{fileId:t}),{headers:{"X-E2EE-SUPPORTED":"true"}}),r=JSON.parse(n.data.ocs.data["meta-data"]);return await qa(r,e),r}async function qa(t,e){if(t.users===void 0)return;const n=t.users.map(async({userId:r,certificate:i})=>{if(!await Ma(i,e))throw new Error("Certificate verification failed for user ".concat(r))});await Promise.all(n)}async function Br(){const t=await Ye.get(Je(yn.ServerKey),{headers:{"X-E2EE-SUPPORTED":"true"}});return await Fa(kr(t.data.ocs.data["public-key"]))}var Ka=Object.defineProperty,nr=Object.getOwnPropertySymbols,Za=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable,rr=(t,e,n)=>e in t?Ka(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ja=(t,e)=>{for(var n in e||(e={}))Za.call(e,n)&&rr(t,n,e[n]);if(nr)for(var n of nr(e))Ya.call(e,n)&&rr(t,n,e[n]);return t};async function Qa(t,e){Z.debug("Decrypting private key",{privateKeyInfo:t,mnemonic:e});const n=await Promise.all([await $e(e,t.salt,{hash:"SHA-256",iterations:6e5}),await $e(e,t.salt,{hash:"SHA-1",iterations:1024}),await $e(e,t.salt,{hash:"SHA-1",iterations:6e5})]);for(const r of n)try{const i=await mn(t.encryptedPrivateKey,r,{iv:t.iv,tagLength:128}),s=atob(Ta(new Uint8Array(i)));return Da(kr(s))}catch(i){}throw new Error("Failed to decrypt private key")}async function $e(t,e,n){const r=await crypto.subtle.importKey("raw",new TextEncoder().encode(t.replaceAll(" ","")),{name:"PBKDF2"},!1,["deriveKey"]);return await crypto.subtle.deriveKey(Ja({name:"PBKDF2",salt:e},n),r,{name:"AES-GCM",length:256},!0,["decrypt","encrypt"])}const tu={name:"AlertCircleOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var eu=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon alert-circle-outline-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(n){return t.$emit("click",n)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},nu=[],ru=Kt(tu,eu,nu,!1,null,null);const iu=ru.exports,su={name:"CheckIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ou=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon check-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(n){return t.$emit("click",n)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},au=[],uu=Kt(su,ou,au,!1,null,null);const lu=uu.exports,cu={name:"NcInputField",components:{NcButton:Jr,AlertCircle:iu,Check:lu},inheritAttrs:!1,model:{prop:"modelValue",event:"update:modelValue"},props:{value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},type:{type:String,default:"text",validator:t=>["text","password","email","tel","url","search","number"].includes(t)},label:{type:String,default:void 0},labelOutside:{type:Boolean,default:!1},placeholder:{type:String,default:void 0},showTrailingButton:{type:Boolean,default:!1},trailingButtonLabel:{type:String,default:""},success:{type:Boolean,default:!1},error:{type:Boolean,default:!1},helperText:{type:String,default:""},disabled:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},inputClass:{type:[Object,String],default:""}},emits:["update:value","update:modelValue","update:model-value","trailing-button-click"],setup(){return{model:sr("value","update:value",!0)}},computed:{computedId(){return this.$attrs.id&&this.$attrs.id!==""?this.$attrs.id:this.inputName},inputName(){return"input"+Qr()},hasLeadingIcon(){return this.$slots.default},hasTrailingIcon(){return this.success},hasPlaceholder(){return this.placeholder!==""&&this.placeholder!==void 0},computedPlaceholder(){return this.hasPlaceholder?this.placeholder:this.label},isValidLabel(){const t=this.label||this.labelOutside;return t||console.warn("You need to add a label to the NcInputField component. Either use the prop label or use an external one, as per the example in the documentation."),t},ariaDescribedby(){const t=[];return this.helperText.length>0&&t.push("".concat(this.inputName,"-helper-text")),this.$attrs["aria-describedby"]&&t.push(this.$attrs["aria-describedby"]),t.join(" ")||null}},methods:{focus(){this.$refs.input.focus()},select(){this.$refs.input.select()},handleInput(t){const e=this.type==="number"&&typeof this.model=="number"?parseFloat(t.target.value,10):t.target.value;this.model=e},handleTrailingButtonClick(t){this.$emit("trailing-button-click",t)}}};var hu=function(){var n;var t=this,e=t._self._c;return e("div",{staticClass:"input-field",class:{"input-field--disabled":t.disabled,"input-field--label-outside":t.labelOutside||!t.isValidLabel,"input-field--leading-icon":t.hasLeadingIcon,"input-field--trailing-icon":t.showTrailingButton||t.hasTrailingIcon,"input-field--pill":t.pill}},[e("div",{staticClass:"input-field__main-wrapper"},[e("input",t._g(t._b({ref:"input",staticClass:"input-field__input",class:[t.inputClass,{"input-field__input--success":t.success,"input-field__input--error":t.error}],attrs:{id:t.computedId,type:t.type,disabled:t.disabled,placeholder:t.computedPlaceholder,"aria-describedby":t.ariaDescribedby,"aria-live":"polite"},domProps:{value:(n=t.model)==null?void 0:n.toString()},on:{input:t.handleInput}},"input",t.$attrs,!1),t.$listeners)),!t.labelOutside&&t.isValidLabel?e("label",{staticClass:"input-field__label",attrs:{for:t.computedId}},[t._v(" "+t._s(t.label)+" ")]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasLeadingIcon,expression:"hasLeadingIcon"}],staticClass:"input-field__icon input-field__icon--leading"},[t._t("default")],2),t.showTrailingButton?e("NcButton",{staticClass:"input-field__trailing-button",attrs:{type:"tertiary-no-background","aria-label":t.trailingButtonLabel,disabled:t.disabled},on:{click:t.handleTrailingButtonClick},scopedSlots:t._u([{key:"icon",fn:function(){return[t._t("trailing-button-icon")]},proxy:!0}],null,!0)}):t.success||t.error?e("div",{staticClass:"input-field__icon input-field__icon--trailing"},[t.success?e("Check",{staticStyle:{color:"var(--color-success-text)"},attrs:{size:20}}):t.error?e("AlertCircle",{staticStyle:{color:"var(--color-error-text)"},attrs:{size:20}}):t._e()],1):t._e()],1),t.helperText.length>0?e("p",{staticClass:"input-field__helper-text-message",class:{"input-field__helper-text-message--error":t.error,"input-field__helper-text-message--success":t.success},attrs:{id:"".concat(t.inputName,"-helper-text")}},[t.success?e("Check",{staticClass:"input-field__helper-text-message__icon",attrs:{size:18}}):t.error?e("AlertCircle",{staticClass:"input-field__helper-text-message__icon",attrs:{size:18}}):t._e(),t._v(" "+t._s(t.helperText)+" ")],1):t._e()])},pu=[],fu=Kt(cu,hu,pu,!1,null,"e4fac465");const qe=fu.exports,du={name:"UndoVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var gu=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon undo-variant-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(n){return t.$emit("click",n)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M13.5,7A6.5,6.5 0 0,1 20,13.5A6.5,6.5 0 0,1 13.5,20H10V18H13.5C16,18 18,16 18,13.5C18,11 16,9 13.5,9H7.83L10.91,12.09L9.5,13.5L4,8L9.5,2.5L10.92,3.91L7.83,7H13.5M6,18H8V20H6V18Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},mu=[],yu=Kt(du,gu,mu,!1,null,null);const bu=yu.exports;ti(ri,ni);const vu=new Set(Object.keys(qe.props)),wu={name:"NcTextField",components:{NcInputField:qe,Close:ei,ArrowRight:ci,Undo:bu},inheritAttrs:!1,model:{prop:"modelValue",event:"update:modelValue"},props:dt(st({" ":{}},qe.props),{trailingButtonLabel:{type:String,default:""},trailingButtonIcon:{type:String,default:"close",validator:t=>["close","arrowRight","undo"].includes(t)}}),emits:["update:value","update:modelValue","update:model-value"],setup(){return{model:sr("value","update:value")}},computed:{propsAndAttrsToForward(){const t={undo:we("Undo changes"),close:we("Clear text"),arrowRight:we("Save changes")};return dt(st(st({},this.$attrs),Object.fromEntries(Object.entries(this.$props).filter(([e])=>vu.has(e)))),{trailingButtonLabel:this.trailingButtonLabel||t[this.trailingButtonIcon]})}},methods:{focus(){this.$refs.inputField.focus()},select(){this.$refs.inputField.select()}}};var Eu=function(){var t=this,e=t._self._c;return e("NcInputField",t._g(t._b({ref:"inputField",scopedSlots:t._u([t.type!=="search"?{key:"trailing-button-icon",fn:function(){return[t.trailingButtonIcon==="close"?e("Close",{attrs:{size:20}}):t.trailingButtonIcon==="arrowRight"?e("ArrowRight",{attrs:{size:20}}):t.trailingButtonIcon==="undo"?e("Undo",{attrs:{size:20}}):t._e()]},proxy:!0}:null],null,!0)},"NcInputField",t.propsAndAttrsToForward,!1),t.$listeners),[t._t("default")],2)},xu=[],Nu=Kt(wu,Eu,xu,!1,null,null);const Au=Nu.exports,Ou=ii({__name:"MnemonicPromptDialog",emits:["close"],setup(t,{emit:e}){const n=Ee(),r=Ee(""),i=Ee(!1),s=xn(()=>i.value===!0&&r.value.trim().split(/\s+/g).length===12);function u(){e("close",r.value)}const a=xn(()=>[{label:Fe("end_to_en_encryption","Submit"),nativeType:"submit",type:"primary",disabled:!s.value,callback:u}]);return{__sfc:!0,emit:e,dialogRef:n,mnemonic:r,confirmToggle:i,isFormValid:s,submit:u,buttons:a,t:Fe,NcDialog:si,NcTextField:Au,NcNoteCard:oi,NcCheckboxRadioSwitch:hi}}});var Iu=function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.NcDialog,{ref:"dialogRef",attrs:{name:n.t("end_to_end_encryption","Enter your 12 words mnemonic"),buttons:n.buttons,"is-form":!0},on:{submit:n.submit}},[e(n.NcNoteCard,{attrs:{type:"warning","show-alert":!0,heading:n.t("end_to_end_encryption","Decrypting your files in the browser can weaken security")}},[t._v(" "+t._s(n.t("end_to_end_encryption","The server could serve malicious source code to extract the secret that protects your files."))+" "),e(n.NcCheckboxRadioSwitch,{attrs:{required:!0,"data-cy-e2ee-mnemonic-prompt":"i_understand_the_risks",type:"switch"},model:{value:n.confirmToggle,callback:function(r){n.confirmToggle=r},expression:"confirmToggle"}},[t._v(" "+t._s(n.t("end_to_end_encryption","I understand the risks"))+" ")])],1),e(n.NcTextField,{attrs:{value:n.mnemonic,required:"true",pattern:"^(\\w+\\s+){11}\\w+$",label:n.t("end_to_end_encryption","Mnemonic"),autofocus:!0},on:{"update:value":function(r){n.mnemonic=r}}})],1)},Tu=[],Pu=ai(Ou,Iu,Tu,!1,null,null);const Cu=Pu.exports;async function Su(){const t=Promise.withResolvers();return ui(Cu,void 0,e=>{e!==void 0?t.resolve(e):t.reject()}),t.promise}let Ht;const _u=qs();let Le,Dt;const mt={};function Ru(){Ht=window.fetch,Z.debug("Setting up WebDAV decryption proxy"),window.fetch=async(t,e={})=>{let n=new Request(t,e);if(!(n.url.includes("/remote.php/dav/files/")&&(n.method==="GET"||n.method==="PROPFIND")))return Ht(n);Z.debug("Proxying ".concat(n.method," ").concat(n.url),{request:n});const r=new Headers(n.headers);switch(r.set("X-E2EE-SUPPORTED","true"),n=new Request(n,{headers:r}),n.method){case"PROPFIND":return Lu(n);case"GET":default:return $u(n)}}}async function $u(t){const e=new URL(t.url).pathname,n=await Ke(e);if(n===void 0)return Z.debug("File is not part of e2ee folder",{path:e}),Ht(t);const r=await re(ct.dirname(e),n),i=r.files[ct.basename(t.url)];if(i===void 0)throw Z.debug("Could not find metadata info",{path:e,metadataInfo:r}),new Error("Could not find file in metadata");return Z.debug("Fetching encrypted file",{request:t}),await ju(await Ht(t),i)}async function Lu(t){var e,n;Z.debug("Fetching raw PROPFIND",{request:t});const r=await Ht(t),i=new URL(t.url).pathname,s=await r.text(),u=await Ds(s),a=Fs(u,i,!0);let c=i;if(a.type==="directory"){if(((e=a.props)==null?void 0:e["is-encrypted"])!==1)return Z.debug("Folder is not e2ee",{xml:u}),new Response(s,r);Dt===void 0&&(Dt=await Br()),mt[i]=await Mr((n=a.props)==null?void 0:n.fileid,Dt);const o=await Ke(c);if(o===void 0)return Z.debug("Cannot find root E2EE folder",{path:i}),new Response(s,r);const l=await re(c,o);let p;try{p=await re(ct.dirname(c),o)}catch(h){}ir(u,i,l,p)}if(a.type==="file"){c=ct.dirname(i);const o=await Ke(c);if(o===void 0)return Z.debug("Cannot find root E2EE folder",{path:i}),new Response(s,r);ir(u,i,void 0,await re(c,o))}return new Response(new Oa.XMLBuilder().build(u),r)}function ir(t,e,n,r){Z.debug("Updating PROPFIND info",{folderPath:e,metadataInfo:n,parentMetadataInfo:r,xml:t}),t.multistatus.response.forEach(i=>{if(i.propstat===void 0)return;let s=n;if(i.href===e&&r&&(s=r),s===void 0)return;const u=i.propstat.prop.displayname;let a=u;s.files[u]?(a=s.files[u].filename,i.propstat.prop.getcontenttype=s.files[u].mimetype):s.folders[u]&&(a=s.folders[u],i.propstat.prop.getcontenttype="httpd/unix-directory"),i.propstat.prop.displayname=a,i.propstat.prop.permissions=i.propstat.prop.permissions.replace(/(R)|(D)|(N)|(V)|(W)|(CK)/g,"")})}async function ju(t,e){const n=await mn(new Uint8Array(await t.arrayBuffer()),await Ur(vt(e.key)),{iv:vt(e.nonce)});return new Response(n,t)}async function re(t,e){Z.debug("Getting metadata info",{path:t});const n=pe();if(!n)throw new Error("No user logged in");return Le===void 0&&(Le=await Qa(await Ha(),await Su())),await Va(await Vr(t),await Wa(e,n.uid,Le))}async function Fu(t){Z.debug("Getting file id",{path:t});const e=await _u.stat(decodeURI(t).replace("remote.php/dav/",""),{details:!0,data:zs()}),n=Ks(e.data);if(!n.fileid)throw new Error("File ID not found");return String(n.fileid)}async function Vr(t){return Z.debug("Getting metadata",{path:t,metadataCache:mt}),mt[t]||(Dt===void 0&&(Dt=await Br()),mt[t]=await Mr(await Fu(t),Dt)),mt[t]}async function Ke(t){Z.debug("Getting root metadata",{path:t,metadataCache:mt});const e=Object.entries(mt).filter(([,n])=>n.users!==void 0).find(([n])=>t.startsWith(n));if(e)return e[1];for(;t!=="/";){if(mt[t]=await Vr(t),mt[t].users!==void 0)return mt[t];t=ct.dirname(t)}}const Du='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-arrow-down" viewBox="0 0 24 24"><path d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z" /></svg>';function ku(t){if(!(t.permissions&ht.READ))return!1;if(t.attributes["share-attributes"]){const e=JSON.parse(t.attributes["share-attributes"]||"[]").find(({scope:n,key:r})=>n==="permissions"&&r==="download");if(e!==void 0)return e.value===!0}return!0}async function Uu([t]){const e=await(await fetch(t.encodedSource)).arrayBuffer(),n=new Blob([e],{type:t.mime}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=t.displayname,r.click()}const Mu=new Zs({id:"download_unencrypted",default:fn.DEFAULT,displayName:()=>Fe("files","Download unencrypted"),iconSvgInline:()=>Du,enabled(t){return t.length!==1||t.some(e=>!e.isDavRessource)||t.some(e=>e.type!==ge.File)?!1:t.every(ku)},async exec(t){return Uu([t]),null},order:30}),Bu=Ze("end_to_end_encryption","userConfig",{e2eeInBrowserEnabled:!1});Bu.e2eeInBrowserEnabled&&(Ru(),Ys(Mu));
