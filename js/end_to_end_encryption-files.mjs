(function(){"use strict";try{if(typeof document<"u"){var i=document.createElement("style");i.appendChild(document.createTextNode("/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.toastify.dialogs{min-width:200px;background:none;background-color:var(--color-main-background);color:var(--color-main-text);box-shadow:0 0 6px 0 var(--color-box-shadow);padding:0 12px;margin-top:45px;position:fixed;z-index:10100;border-radius:var(--border-radius);display:flex;align-items:center}.toastify.dialogs .toast-undo-container{display:flex;align-items:center}.toastify.dialogs .toast-undo-button,.toastify.dialogs .toast-close{position:static;overflow:hidden;box-sizing:border-box;min-width:44px;height:100%;padding:12px;white-space:nowrap;background-repeat:no-repeat;background-position:center;background-color:transparent;min-height:0}.toastify.dialogs .toast-undo-button.toast-close,.toastify.dialogs .toast-close.toast-close{text-indent:0;opacity:.4;border:none;min-height:44px;margin-left:10px;font-size:0}.toastify.dialogs .toast-undo-button.toast-close:before,.toastify.dialogs .toast-close.toast-close:before{background-image:url(\"data:image/svg+xml,%3csvg%20viewBox='0%200%2016%2016'%20height='16'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3e%3cpath%20d='M6.4%2019%205%2017.6l5.6-5.6L5%206.4%206.4%205l5.6%205.6L17.6%205%2019%206.4%2013.4%2012l5.6%205.6-1.4%201.4-5.6-5.6L6.4%2019Z'%20style='fill-rule:nonzero'%20transform='matrix(.85714%200%200%20.85714%20-2.286%20-2.286)'/%3e%3c/svg%3e\");content:\" \";filter:var(--background-invert-if-dark);display:inline-block;width:16px;height:16px}.toastify.dialogs .toast-undo-button.toast-undo-button,.toastify.dialogs .toast-close.toast-undo-button{height:calc(100% - 6px);margin:3px 3px 3px 12px}.toastify.dialogs .toast-undo-button:hover,.toastify.dialogs .toast-undo-button:focus,.toastify.dialogs .toast-undo-button:active,.toastify.dialogs .toast-close:hover,.toastify.dialogs .toast-close:focus,.toastify.dialogs .toast-close:active{cursor:pointer;opacity:1}.toastify.dialogs.toastify-top{right:10px}.toastify.dialogs.toast-with-click{cursor:pointer}.toastify.dialogs.toast-error{border-left:3px solid var(--color-error)}.toastify.dialogs.toast-info{border-left:3px solid var(--color-primary)}.toastify.dialogs.toast-warning{border-left:3px solid var(--color-warning)}.toastify.dialogs.toast-success,.toastify.dialogs.toast-undo{border-left:3px solid var(--color-success)}.theme--dark .toastify.dialogs .toast-close.toast-close:before{background-image:url(\"data:image/svg+xml,%3csvg%20viewBox='0%200%2016%2016'%20height='16'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3e%3cpath%20d='M6.4%2019%205%2017.6l5.6-5.6L5%206.4%206.4%205l5.6%205.6L17.6%205%2019%206.4%2013.4%2012l5.6%205.6-1.4%201.4-5.6-5.6L6.4%2019Z'%20style='fill:%23fff;fill-rule:nonzero'%20transform='matrix(.85714%200%200%20.85714%20-2.286%20-2.286)'/%3e%3c/svg%3e\")}.nc-generic-dialog .dialog__actions{justify-content:space-between;min-width:calc(100% - 12px)}/*!\n * SPDX-FileCopyrightText: 2023-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */._file-picker__file-icon_19mjt_9{width:32px;height:32px;min-width:32px;min-height:32px;background-repeat:no-repeat;background-size:contain;display:flex;justify-content:center}tr.file-picker__row[data-v-15187afc]{height:var(--row-height, 50px)}tr.file-picker__row td[data-v-15187afc]{cursor:pointer;overflow:hidden;text-overflow:ellipsis;border-bottom:none}tr.file-picker__row td.row-checkbox[data-v-15187afc]{padding:0 2px}tr.file-picker__row td[data-v-15187afc]:not(.row-checkbox){padding-inline:14px 0}tr.file-picker__row td.row-size[data-v-15187afc]{text-align:end;padding-inline:0 14px}tr.file-picker__row td.row-name[data-v-15187afc]{padding-inline:2px 0}@keyframes gradient-15187afc{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.loading-row .row-checkbox[data-v-15187afc]{text-align:center!important}.loading-row span[data-v-15187afc]{display:inline-block;height:24px;background:linear-gradient(to right,var(--color-background-darker),var(--color-text-maxcontrast),var(--color-background-darker));background-size:600px 100%;border-radius:var(--border-radius);animation:gradient-15187afc 12s ease infinite}.loading-row .row-wrapper[data-v-15187afc]{display:inline-flex;align-items:center}.loading-row .row-checkbox span[data-v-15187afc]{width:24px}.loading-row .row-name span[data-v-15187afc]:last-of-type{margin-inline-start:6px;width:130px}.loading-row .row-size span[data-v-15187afc]{width:80px}.loading-row .row-modified span[data-v-15187afc]{width:90px}/*!\n* SPDX-FileCopyrightText: 2023-2024 Nextcloud GmbH and Nextcloud contributors\n* SPDX-License-Identifier: AGPL-3.0-or-later\n*/tr.file-picker__row[data-v-cb12dccb]{height:var(--row-height, 50px)}tr.file-picker__row td[data-v-cb12dccb]{cursor:pointer;overflow:hidden;text-overflow:ellipsis;border-bottom:none}tr.file-picker__row td.row-checkbox[data-v-cb12dccb]{padding:0 2px}tr.file-picker__row td[data-v-cb12dccb]:not(.row-checkbox){padding-inline:14px 0}tr.file-picker__row td.row-size[data-v-cb12dccb]{text-align:end;padding-inline:0 14px}tr.file-picker__row td.row-name[data-v-cb12dccb]{padding-inline:2px 0}.file-picker__row--selected[data-v-cb12dccb]{background-color:var(--color-background-dark)}.file-picker__row[data-v-cb12dccb]:hover{background-color:var(--color-background-hover)}.file-picker__name-container[data-v-cb12dccb]{display:flex;justify-content:start;align-items:center;height:100%}.file-picker__file-name[data-v-cb12dccb]{padding-inline-start:6px;min-width:0;overflow:hidden;text-overflow:ellipsis}.file-picker__file-extension[data-v-cb12dccb]{color:var(--color-text-maxcontrast);min-width:fit-content}.file-picker__header-preview[data-v-006fdbd0]{width:22px;height:32px;flex:0 0 auto}.file-picker__files[data-v-006fdbd0]{margin:2px;margin-inline-start:12px;overflow:scroll auto}.file-picker__files table[data-v-006fdbd0]{width:100%;max-height:100%;table-layout:fixed}.file-picker__files th[data-v-006fdbd0]{position:-webkit-sticky;position:sticky;z-index:1;top:0;background-color:var(--color-main-background);padding:2px}.file-picker__files th .header-wrapper[data-v-006fdbd0]{display:flex}.file-picker__files th.row-checkbox[data-v-006fdbd0]{width:44px}.file-picker__files th.row-name[data-v-006fdbd0]{width:230px}.file-picker__files th.row-size[data-v-006fdbd0]{width:100px}.file-picker__files th.row-modified[data-v-006fdbd0]{width:120px}.file-picker__files th[data-v-006fdbd0]:not(.row-size) .button-vue__wrapper{justify-content:start;flex-direction:row-reverse}.file-picker__files th[data-v-006fdbd0]:not(.row-size) .button-vue{padding-inline:16px 4px}.file-picker__files th.row-size[data-v-006fdbd0] .button-vue__wrapper{justify-content:end}.file-picker__files th[data-v-006fdbd0] .button-vue__wrapper{color:var(--color-text-maxcontrast)}.file-picker__files th[data-v-006fdbd0] .button-vue__wrapper .button-vue__text{font-weight:400}.file-picker__breadcrumbs[data-v-b357227a]{flex-grow:0!important}.file-picker__side[data-v-b42054b8]{display:flex;flex-direction:column;align-items:stretch;gap:.5rem;min-width:200px;padding:2px;margin-block-start:7px;overflow:auto}.file-picker__side[data-v-b42054b8] .button-vue__wrapper{justify-content:start}.file-picker__filter-input[data-v-b42054b8]{margin-block:7px;max-width:260px}@media (max-width: 736px){.file-picker__side[data-v-b42054b8]{flex-direction:row;min-width:unset}}@media (max-width: 512px){.file-picker__side[data-v-b42054b8]{flex-direction:row;min-width:unset}.file-picker__filter-input[data-v-b42054b8]{max-width:unset}}.file-picker__navigation{padding-inline:8px 2px}.file-picker__navigation,.file-picker__navigation *{box-sizing:border-box}.file-picker__navigation .v-select.select{min-width:220px}@media (min-width: 513px) and (max-width: 736px){.file-picker__navigation{gap:11px}}@media (max-width: 512px){.file-picker__navigation{flex-direction:column-reverse!important}}.file-picker__view[data-v-20b719ba]{height:50px;display:flex;justify-content:start;align-items:center}.file-picker__view h3[data-v-20b719ba]{font-weight:700;height:fit-content;margin:0}.file-picker__main[data-v-20b719ba]{box-sizing:border-box;width:100%;display:flex;flex-direction:column;min-height:0;flex:1;padding-inline:2px}.file-picker__main *[data-v-20b719ba]{box-sizing:border-box}[data-v-20b719ba] .file-picker{height:min(80vh,800px)!important}@media (max-width: 512px){[data-v-20b719ba] .file-picker{height:calc(100% - 16px - var(--default-clickable-area))!important}}[data-v-20b719ba] .file-picker__content{display:flex;flex-direction:column;overflow:hidden}.material-design-icon[data-v-e4fac465]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}.input-field[data-v-e4fac465]{--input-border-radius: var(--border-radius-element, var(--border-radius-large));--input-padding-start: var(--border-radius-large);--input-padding-end: var(--border-radius-large);position:relative;width:100%;margin-block-start:6px}.input-field--disabled[data-v-e4fac465]{opacity:.4;filter:saturate(.4)}.input-field--label-outside[data-v-e4fac465]{margin-block-start:0}.input-field--leading-icon[data-v-e4fac465]{--input-padding-start: calc(var(--default-clickable-area) - var(--default-grid-baseline))}.input-field--trailing-icon[data-v-e4fac465]{--input-padding-end: calc(var(--default-clickable-area) - var(--default-grid-baseline))}.input-field--pill[data-v-e4fac465]{--input-border-radius: var(--border-radius-pill)}.input-field__main-wrapper[data-v-e4fac465]{height:var(--default-clickable-area);position:relative}.input-field__input[data-v-e4fac465]{--input-border-width-offset: calc(var(--border-width-input-focused, 2px) - var(--border-width-input, 2px));background-color:var(--color-main-background);color:var(--color-main-text);border:var(--border-width-input, 2px) solid var(--color-border-maxcontrast);border-radius:var(--input-border-radius);cursor:pointer;-webkit-appearance:textfield!important;-moz-appearance:textfield!important;appearance:textfield!important;font-size:var(--default-font-size);text-overflow:ellipsis;height:calc(var(--default-clickable-area) - 2 * var(--input-border-width-offset))!important;width:100%;padding-inline:calc(var(--input-padding-start) + var(--input-border-width-offset)) calc(var(--input-padding-end) + var(--input-border-width-offset));padding-block:var(--input-border-width-offset)}.input-field__input[data-v-e4fac465]::placeholder{color:var(--color-text-maxcontrast)}.input-field__input[data-v-e4fac465]:active:not([disabled]),.input-field__input[data-v-e4fac465]:hover:not([disabled]),.input-field__input[data-v-e4fac465]:focus:not([disabled]){border-color:var(--color-main-text);border-width:var(--border-width-input-focused, 2px);box-shadow:0 0 0 2px var(--color-main-background)!important;--input-border-width-offset: 0px}.input-field__input:focus+.input-field__label[data-v-e4fac465],.input-field__input:hover:not(:placeholder-shown)+.input-field__label[data-v-e4fac465]{color:var(--color-main-text)}.input-field__input[data-v-e4fac465]:focus{cursor:text}.input-field__input[data-v-e4fac465]:disabled{cursor:default}.input-field__input[data-v-e4fac465]:focus-visible{box-shadow:unset!important}.input-field__input--success[data-v-e4fac465]{border-color:var(--color-success)!important}.input-field__input--success[data-v-e4fac465]:focus-visible{box-shadow:#f8fafc 0 0 0 2px,var(--color-primary-element) 0 0 0 4px,#0000000d 0 1px 2px}.input-field__input--error[data-v-e4fac465],.input-field__input[data-v-e4fac465]:invalid{border-color:var(--color-error)!important}.input-field__input--error[data-v-e4fac465]:focus-visible,.input-field__input[data-v-e4fac465]:invalid:focus-visible{box-shadow:#f8fafc 0 0 0 2px,var(--color-primary-element) 0 0 0 4px,#0000000d 0 1px 2px}.input-field:not(.input-field--label-outside) .input-field__input[data-v-e4fac465]:not(:focus)::placeholder{opacity:0}.input-field__label[data-v-e4fac465]{--input-label-font-size: var(--default-font-size);position:absolute;margin-inline:var(--input-padding-start) var(--input-padding-end);max-width:fit-content;font-size:var(--input-label-font-size);inset-block-start:calc((var(--default-clickable-area) - 1lh) / 2);inset-inline:var(--border-width-input-focused, 2px);color:var(--color-text-maxcontrast);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;pointer-events:none;transition:height var(--animation-quick),inset-block-start var(--animation-quick),font-size var(--animation-quick),color var(--animation-quick),background-color var(--animation-quick) var(--animation-slow)}.input-field__input:focus+.input-field__label[data-v-e4fac465],.input-field__input:not(:placeholder-shown)+.input-field__label[data-v-e4fac465]{--input-label-font-size: 13px;line-height:1.5;inset-block-start:calc(-1.5 * var(--input-label-font-size) / 2);font-weight:500;border-radius:var(--default-grid-baseline) var(--default-grid-baseline) 0 0;background-color:var(--color-main-background);padding-inline:var(--default-grid-baseline);margin-inline:calc(var(--input-padding-start) - var(--default-grid-baseline)) calc(var(--input-padding-end) - var(--default-grid-baseline));transition:height var(--animation-quick),inset-block-start var(--animation-quick),font-size var(--animation-quick),color var(--animation-quick)}.input-field__icon[data-v-e4fac465]{position:absolute;height:var(--default-clickable-area);width:var(--default-clickable-area);display:flex;align-items:center;justify-content:center;opacity:.7;inset-block-end:0}.input-field__icon--leading[data-v-e4fac465]{inset-inline-start:0px}.input-field__icon--trailing[data-v-e4fac465]{inset-inline-end:0px}.input-field__trailing-button[data-v-e4fac465]{--button-size: calc(var(--default-clickable-area) - 2 * var(--border-width-input-focused, 2px)) !important;--button-radius: calc(var(--input-border-radius) - var(--border-width-input-focused, 2px))}.input-field__trailing-button.button-vue[data-v-e4fac465]{position:absolute;top:var(--border-width-input-focused, 2px);inset-inline-end:var(--border-width-input-focused, 2px)}.input-field__trailing-button.button-vue[data-v-e4fac465]:focus-visible{box-shadow:none!important}.input-field__helper-text-message[data-v-e4fac465]{padding-block:4px;padding-inline:var(--border-radius-large);display:flex;align-items:center;color:var(--color-text-maxcontrast)}.input-field__helper-text-message__icon[data-v-e4fac465]{margin-inline-end:8px}.input-field__helper-text-message--error[data-v-e4fac465]{color:var(--color-error-text)}.input-field__helper-text-message--success[data-v-e4fac465]{color:var(--color-success-text)}")),document.head.appendChild(i)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var Fr=Object.defineProperty,Dr=Object.defineProperties;var kr=Object.getOwnPropertyDescriptors;var fn=Object.getOwnPropertySymbols;var Mr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable;var gn=t=>{throw TypeError(t)};var ve=(t,e,n)=>e in t?Fr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,st=(t,e)=>{for(var n in e||(e={}))Mr.call(e,n)&&ve(t,n,e[n]);if(fn)for(var n of fn(e))Ur.call(e,n)&&ve(t,n,e[n]);return t},gt=(t,e)=>Dr(t,kr(e));var j=(t,e,n)=>ve(t,typeof e!="symbol"?e+"":e,n),ye=(t,e,n)=>e.has(t)||gn("Cannot "+n);var P=(t,e,n)=>(ye(t,e,"read from private field"),n?n.call(t):e.get(t)),ot=(t,e,n)=>e.has(t)?gn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),M=(t,e,n,r)=>(ye(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xt=(t,e,n)=>(ye(t,e,"access private method"),n);import{p as Gt,g as Zt,l as We,a as Se,b as he,U as Br,o as Vr,c as Gr,d as ct,e as Yn,v as Jn,n as Ht,N as zr,G as Xr,r as Wr,C as qr,t as we,f as Hr,h as Kr,i as Zr,j as be,k as mn,m as $e,q as Yr,s as Jr,u as Qr,w as ti}from"./_plugin-vue2_normalizer-C21Me7LU.chunk.mjs";import{u as Qn}from"./useModelMigration-EhAWvqDD-BYXmccUv.chunk.mjs";import{A as ei}from"./ArrowRight-CY2b9hgN-C4vwiQdl.chunk.mjs";import{N as ni}from"./NcCheckboxRadioSwitch-R1y0mLbC-CaWfF57h.chunk.mjs";function ri(t){return t&&t.split("/").map(encodeURIComponent).join("/")}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vn(t,e,n){ii(t,e),e.set(t,n)}function ii(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K(t,e){var n=tr(t,e,"get");return si(t,n)}function si(t,e){return e.get?e.get.call(t):e.value}function yn(t,e,n){var r=tr(t,e,"set");return oi(t,r,n),n}function tr(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function oi(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var ai=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",Y=new WeakMap,Dt=new WeakMap;class pe{constructor(e){var{executor:n=()=>{},internals:r=He(),promise:i=new Promise((s,u)=>n(s,u,a=>{r.onCancelList.push(a)}))}=e;vn(this,Y,{writable:!0,value:void 0}),vn(this,Dt,{writable:!0,value:void 0}),Nt(this,ai,"CancelablePromise"),this.cancel=this.cancel.bind(this),yn(this,Y,r),yn(this,Dt,i||new Promise((s,u)=>n(s,u,a=>{r.onCancelList.push(a)})))}then(e,n){return te(K(this,Dt).then(Yt(e,K(this,Y)),Yt(n,K(this,Y))),K(this,Y))}catch(e){return te(K(this,Dt).catch(Yt(e,K(this,Y))),K(this,Y))}finally(e,n){return n&&K(this,Y).onCancelList.push(e),te(K(this,Dt).finally(Yt(()=>{if(e)return n&&(K(this,Y).onCancelList=K(this,Y).onCancelList.filter(r=>r!==e)),e()},K(this,Y))),K(this,Y))}cancel(){K(this,Y).isCanceled=!0;var e=K(this,Y).onCancelList;K(this,Y).onCancelList=[];for(var n of e)if(typeof n=="function")try{n()}catch(r){console.error(r)}}isCanceled(){return K(this,Y).isCanceled===!0}}class At extends pe{constructor(e){super({executor:e})}}Nt(At,"all",function(t){return Jt(t,Promise.all(t))}),Nt(At,"allSettled",function(t){return Jt(t,Promise.allSettled(t))}),Nt(At,"any",function(t){return Jt(t,Promise.any(t))}),Nt(At,"race",function(t){return Jt(t,Promise.race(t))}),Nt(At,"resolve",function(t){return wn(Promise.resolve(t))}),Nt(At,"reject",function(t){return wn(Promise.reject(t))}),Nt(At,"isCancelable",qe);function wn(t){return te(t,He())}function qe(t){return t instanceof At||t instanceof pe}function Yt(t,e){if(t)return n=>{if(!e.isCanceled){var r=t(n);return qe(r)&&e.onCancelList.push(r.cancel),r}return n}}function te(t,e){return new pe({internals:e,promise:t})}function Jt(t,e){var n=He();return n.onCancelList.push(()=>{for(var r of t)qe(r)&&r.cancel()}),new pe({internals:n,promise:e})}function He(){return{isCanceled:!1,onCancelList:[]}}var Ee={},ui={2:t=>{function e(i,s,u){i instanceof RegExp&&(i=n(i,u)),s instanceof RegExp&&(s=n(s,u));var a=r(i,s,u);return a&&{start:a[0],end:a[1],pre:u.slice(0,a[0]),body:u.slice(a[0]+i.length,a[1]),post:u.slice(a[1]+s.length)}}function n(i,s){var u=s.match(i);return u?u[0]:null}function r(i,s,u){var a,c,o,l,p,h=u.indexOf(i),d=u.indexOf(s,h+1),f=h;if(h>=0&&d>0){for(a=[],o=u.length;f>=0&&!p;)f==h?(a.push(f),h=u.indexOf(i,f+1)):a.length==1?p=[a.pop(),d]:((c=a.pop())<o&&(o=c,l=d),d=u.indexOf(s,f+1)),f=h<d&&h>=0?h:d;a.length&&(p=[o,l])}return p}t.exports=e,e.range=r},101:function(t,e,n){var r;t=n.nmd(t),function(i){var s=(t&&t.exports,typeof Zt=="object"&&Zt);s.global!==s&&s.window;var u=function(p){this.message=p};(u.prototype=new Error).name="InvalidCharacterError";var a=function(p){throw new u(p)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=/[\t\n\f\r ]/g,l={encode:function(p){p=String(p),/[^\0-\xFF]/.test(p)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var h,d,f,g,v=p.length%3,b="",m=-1,y=p.length-v;++m<y;)h=p.charCodeAt(m)<<16,d=p.charCodeAt(++m)<<8,f=p.charCodeAt(++m),b+=c.charAt((g=h+d+f)>>18&63)+c.charAt(g>>12&63)+c.charAt(g>>6&63)+c.charAt(63&g);return v==2?(h=p.charCodeAt(m)<<8,d=p.charCodeAt(++m),b+=c.charAt((g=h+d)>>10)+c.charAt(g>>4&63)+c.charAt(g<<2&63)+"="):v==1&&(g=p.charCodeAt(m),b+=c.charAt(g>>2)+c.charAt(g<<4&63)+"=="),b},decode:function(p){var h=(p=String(p).replace(o,"")).length;h%4==0&&(h=(p=p.replace(/==?$/,"")).length),(h%4==1||/[^+a-zA-Z0-9/]/.test(p))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var d,f,g=0,v="",b=-1;++b<h;)f=c.indexOf(p.charAt(b)),d=g%4?64*d+f:f,g++%4&&(v+=String.fromCharCode(255&d>>(-2*g&6)));return v},version:"1.0.0"};(r=function(){return l}.call(e,n,e,t))===void 0||(t.exports=r)}()},172:(t,e)=>{e.d=function(n){if(!n)return 0;for(var r=(n=n.toString()).length,i=n.length;i--;){var s=n.charCodeAt(i);56320<=s&&s<=57343&&i--,127<s&&s<=2047?r++:2047<s&&s<=65535&&(r+=2)}return r}},526:t=>{var e={utf8:{stringToBytes:function(n){return e.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(e.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],i=0;i<n.length;i++)r.push(255&n.charCodeAt(i));return r},bytesToString:function(n){for(var r=[],i=0;i<n.length;i++)r.push(String.fromCharCode(n[i]));return r.join("")}}};t.exports=e},298:t=>{var e,n;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,i){return r<<i|r>>>32-i},rotr:function(r,i){return r<<32-i|r>>>i},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var i=0;i<r.length;i++)r[i]=n.endian(r[i]);return r},randomBytes:function(r){for(var i=[];r>0;r--)i.push(Math.floor(256*Math.random()));return i},bytesToWords:function(r){for(var i=[],s=0,u=0;s<r.length;s++,u+=8)i[u>>>5]|=r[s]<<24-u%32;return i},wordsToBytes:function(r){for(var i=[],s=0;s<32*r.length;s+=8)i.push(r[s>>>5]>>>24-s%32&255);return i},bytesToHex:function(r){for(var i=[],s=0;s<r.length;s++)i.push((r[s]>>>4).toString(16)),i.push((15&r[s]).toString(16));return i.join("")},hexToBytes:function(r){for(var i=[],s=0;s<r.length;s+=2)i.push(parseInt(r.substr(s,2),16));return i},bytesToBase64:function(r){for(var i=[],s=0;s<r.length;s+=3)for(var u=r[s]<<16|r[s+1]<<8|r[s+2],a=0;a<4;a++)8*s+6*a<=8*r.length?i.push(e.charAt(u>>>6*(3-a)&63)):i.push("=");return i.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],s=0,u=0;s<r.length;u=++s%4)u!=0&&i.push((e.indexOf(r.charAt(s-1))&Math.pow(2,-2*u+8)-1)<<2*u|e.indexOf(r.charAt(s))>>>6-2*u);return i}},t.exports=n},635:(t,e,n)=>{const r=n(31),i=n(338),s=n(221);t.exports={XMLParser:i,XMLValidator:r,XMLBuilder:s}},705:(t,e)=>{const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");e.isExist=function(s){return s!==void 0},e.isEmptyObject=function(s){return Object.keys(s).length===0},e.merge=function(s,u,a){if(u){const c=Object.keys(u),o=c.length;for(let l=0;l<o;l++)s[c[l]]=a==="strict"?[u[c[l]]]:u[c[l]]}},e.getValue=function(s){return e.isExist(s)?s:""},e.isName=function(s){return i.exec(s)!=null},e.getAllMatches=function(s,u){const a=[];let c=u.exec(s);for(;c;){const o=[];o.startIndex=u.lastIndex-c[0].length;const l=c.length;for(let p=0;p<l;p++)o.push(c[p]);a.push(o),c=u.exec(s)}return a},e.nameRegexp=r},31:(t,e,n)=>{const r=n(705),i={allowBooleanAttributes:!1,unpairedTags:[]};function s(m){return m===" "||m==="	"||m==="\n"||m==="\r"}function u(m,y){const E=y;for(;y<m.length;y++)if(!(m[y]!="?"&&m[y]!=" ")){const w=m.substr(E,y-E);if(y>5&&w==="xml")return f("InvalidXml","XML declaration allowed only at the start of the document.",v(m,y));if(m[y]=="?"&&m[y+1]==">"){y++;break}}return y}function a(m,y){if(m.length>y+5&&m[y+1]==="-"&&m[y+2]==="-"){for(y+=3;y<m.length;y++)if(m[y]==="-"&&m[y+1]==="-"&&m[y+2]===">"){y+=2;break}}else if(m.length>y+8&&m[y+1]==="D"&&m[y+2]==="O"&&m[y+3]==="C"&&m[y+4]==="T"&&m[y+5]==="Y"&&m[y+6]==="P"&&m[y+7]==="E"){let E=1;for(y+=8;y<m.length;y++)if(m[y]==="<")E++;else if(m[y]===">"&&(E--,E===0))break}else if(m.length>y+9&&m[y+1]==="["&&m[y+2]==="C"&&m[y+3]==="D"&&m[y+4]==="A"&&m[y+5]==="T"&&m[y+6]==="A"&&m[y+7]==="["){for(y+=8;y<m.length;y++)if(m[y]==="]"&&m[y+1]==="]"&&m[y+2]===">"){y+=2;break}}return y}e.validate=function(m,y){y=Object.assign({},i,y);const E=[];let w=!1,A=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let N=0;N<m.length;N++)if(m[N]==="<"&&m[N+1]==="?"){if(N+=2,N=u(m,N),N.err)return N}else{if(m[N]!=="<"){if(s(m[N]))continue;return f("InvalidChar","char '"+m[N]+"' is not expected.",v(m,N))}{let O=N;if(N++,m[N]==="!"){N=a(m,N);continue}{let R=!1;m[N]==="/"&&(R=!0,N++);let _="";for(;N<m.length&&m[N]!==">"&&m[N]!==" "&&m[N]!=="	"&&m[N]!=="\n"&&m[N]!=="\r";N++)_+=m[N];if(_=_.trim(),_[_.length-1]==="/"&&(_=_.substring(0,_.length-1),N--),x=_,!r.isName(x)){let C;return C=_.trim().length===0?"Invalid space after '<'.":"Tag '"+_+"' is an invalid name.",f("InvalidTag",C,v(m,N))}const T=l(m,N);if(T===!1)return f("InvalidAttr","Attributes for '"+_+"' have open quote.",v(m,N));let I=T.value;if(N=T.index,I[I.length-1]==="/"){const C=N-I.length;I=I.substring(0,I.length-1);const S=h(I,y);if(S!==!0)return f(S.err.code,S.err.msg,v(m,C+S.err.line));w=!0}else if(R){if(!T.tagClosed)return f("InvalidTag","Closing tag '"+_+"' doesn't have proper closing.",v(m,N));if(I.trim().length>0)return f("InvalidTag","Closing tag '"+_+"' can't have attributes or invalid starting.",v(m,O));if(E.length===0)return f("InvalidTag","Closing tag '"+_+"' has not been opened.",v(m,O));{const C=E.pop();if(_!==C.tagName){let S=v(m,C.tagStartPos);return f("InvalidTag","Expected closing tag '"+C.tagName+"' (opened in line "+S.line+", col "+S.col+") instead of closing tag '"+_+"'.",v(m,O))}E.length==0&&(A=!0)}}else{const C=h(I,y);if(C!==!0)return f(C.err.code,C.err.msg,v(m,N-I.length+C.err.line));if(A===!0)return f("InvalidXml","Multiple possible root nodes found.",v(m,N));y.unpairedTags.indexOf(_)!==-1||E.push({tagName:_,tagStartPos:O}),w=!0}for(N++;N<m.length;N++)if(m[N]==="<"){if(m[N+1]==="!"){N++,N=a(m,N);continue}if(m[N+1]!=="?")break;if(N=u(m,++N),N.err)return N}else if(m[N]==="&"){const C=d(m,N);if(C==-1)return f("InvalidChar","char '&' is not expected.",v(m,N));N=C}else if(A===!0&&!s(m[N]))return f("InvalidXml","Extra text at the end",v(m,N));m[N]==="<"&&N--}}}var x;return w?E.length==1?f("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",v(m,E[0].tagStartPos)):!(E.length>0)||f("InvalidXml","Invalid '"+JSON.stringify(E.map(N=>N.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):f("InvalidXml","Start tag expected.",1)};const c='"',o="'";function l(m,y){let E="",w="",A=!1;for(;y<m.length;y++){if(m[y]===c||m[y]===o)w===""?w=m[y]:w!==m[y]||(w="");else if(m[y]===">"&&w===""){A=!0;break}E+=m[y]}return w===""&&{value:E,index:y,tagClosed:A}}const p=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(m,y){const E=r.getAllMatches(m,p),w={};for(let A=0;A<E.length;A++){if(E[A][1].length===0)return f("InvalidAttr","Attribute '"+E[A][2]+"' has no space in starting.",b(E[A]));if(E[A][3]!==void 0&&E[A][4]===void 0)return f("InvalidAttr","Attribute '"+E[A][2]+"' is without value.",b(E[A]));if(E[A][3]===void 0&&!y.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+E[A][2]+"' is not allowed.",b(E[A]));const x=E[A][2];if(!g(x))return f("InvalidAttr","Attribute '"+x+"' is an invalid name.",b(E[A]));if(w.hasOwnProperty(x))return f("InvalidAttr","Attribute '"+x+"' is repeated.",b(E[A]));w[x]=1}return!0}function d(m,y){if(m[++y]===";")return-1;if(m[y]==="#")return function(w,A){let x=/\d/;for(w[A]==="x"&&(A++,x=/[\da-fA-F]/);A<w.length;A++){if(w[A]===";")return A;if(!w[A].match(x))break}return-1}(m,++y);let E=0;for(;y<m.length;y++,E++)if(!(m[y].match(/\w/)&&E<20)){if(m[y]===";")break;return-1}return y}function f(m,y,E){return{err:{code:m,msg:y,line:E.line||E,col:E.col}}}function g(m){return r.isName(m)}function v(m,y){const E=m.substring(0,y).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function b(m){return m.startIndex+m[1].length}},221:(t,e,n)=>{const r=n(87),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,l){return l},attributeValueProcessor:function(o,l){return l},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function s(o){this.options=Object.assign({},i,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=u,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function u(o,l,p){const h=this.j2x(o,p+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],l,h.attrStr,p):this.buildObjectNode(h.val,l,h.attrStr,p)}function a(o){return this.options.indentBy.repeat(o)}function c(o){return!(!o.startsWith(this.options.attributeNamePrefix)||o===this.options.textNodeName)&&o.substr(this.attrPrefixLen)}s.prototype.build=function(o){return this.options.preserveOrder?r(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},s.prototype.j2x=function(o,l){let p="",h="";for(let d in o)if(Object.prototype.hasOwnProperty.call(o,d))if(o[d]===void 0)this.isAttribute(d)&&(h+="");else if(o[d]===null)this.isAttribute(d)?h+="":d[0]==="?"?h+=this.indentate(l)+"<"+d+"?"+this.tagEndChar:h+=this.indentate(l)+"<"+d+"/"+this.tagEndChar;else if(o[d]instanceof Date)h+=this.buildTextValNode(o[d],d,"",l);else if(typeof o[d]!="object"){const f=this.isAttribute(d);if(f)p+=this.buildAttrPairStr(f,""+o[d]);else if(d===this.options.textNodeName){let g=this.options.tagValueProcessor(d,""+o[d]);h+=this.replaceEntitiesValue(g)}else h+=this.buildTextValNode(o[d],d,"",l)}else if(Array.isArray(o[d])){const f=o[d].length;let g="",v="";for(let b=0;b<f;b++){const m=o[d][b];if(m!==void 0)if(m===null)d[0]==="?"?h+=this.indentate(l)+"<"+d+"?"+this.tagEndChar:h+=this.indentate(l)+"<"+d+"/"+this.tagEndChar;else if(typeof m=="object")if(this.options.oneListGroup){const y=this.j2x(m,l+1);g+=y.val,this.options.attributesGroupName&&m.hasOwnProperty(this.options.attributesGroupName)&&(v+=y.attrStr)}else g+=this.processTextOrObjNode(m,d,l);else if(this.options.oneListGroup){let y=this.options.tagValueProcessor(d,m);y=this.replaceEntitiesValue(y),g+=y}else g+=this.buildTextValNode(m,d,"",l)}this.options.oneListGroup&&(g=this.buildObjectNode(g,d,v,l)),h+=g}else if(this.options.attributesGroupName&&d===this.options.attributesGroupName){const f=Object.keys(o[d]),g=f.length;for(let v=0;v<g;v++)p+=this.buildAttrPairStr(f[v],""+o[d][f[v]])}else h+=this.processTextOrObjNode(o[d],d,l);return{attrStr:p,val:h}},s.prototype.buildAttrPairStr=function(o,l){return l=this.options.attributeValueProcessor(o,""+l),l=this.replaceEntitiesValue(l),this.options.suppressBooleanAttributes&&l==="true"?" "+o:" "+o+'="'+l+'"'},s.prototype.buildObjectNode=function(o,l,p,h){if(o==="")return l[0]==="?"?this.indentate(h)+"<"+l+p+"?"+this.tagEndChar:this.indentate(h)+"<"+l+p+this.closeTag(l)+this.tagEndChar;{let d="</"+l+this.tagEndChar,f="";return l[0]==="?"&&(f="?",d=""),!p&&p!==""||o.indexOf("<")!==-1?this.options.commentPropName!==!1&&l===this.options.commentPropName&&f.length===0?this.indentate(h)+"<!--".concat(o,"-->")+this.newLine:this.indentate(h)+"<"+l+p+f+this.tagEndChar+o+this.indentate(h)+d:this.indentate(h)+"<"+l+p+f+">"+o+d}},s.prototype.closeTag=function(o){let l="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(l="/"):l=this.options.suppressEmptyNode?"/":"></".concat(o),l},s.prototype.buildTextValNode=function(o,l,p,h){if(this.options.cdataPropName!==!1&&l===this.options.cdataPropName)return this.indentate(h)+"<![CDATA[".concat(o,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&l===this.options.commentPropName)return this.indentate(h)+"<!--".concat(o,"-->")+this.newLine;if(l[0]==="?")return this.indentate(h)+"<"+l+p+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(l,o);return d=this.replaceEntitiesValue(d),d===""?this.indentate(h)+"<"+l+p+this.closeTag(l)+this.tagEndChar:this.indentate(h)+"<"+l+p+">"+d+"</"+l+this.tagEndChar}},s.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let l=0;l<this.options.entities.length;l++){const p=this.options.entities[l];o=o.replace(p.regex,p.val)}return o},t.exports=s},87:t=>{function e(u,a,c,o){let l="",p=!1;for(let h=0;h<u.length;h++){const d=u[h],f=n(d);if(f===void 0)continue;let g="";if(g=c.length===0?f:"".concat(c,".").concat(f),f===a.textNodeName){let y=d[f];i(g,a)||(y=a.tagValueProcessor(f,y),y=s(y,a)),p&&(l+=o),l+=y,p=!1;continue}if(f===a.cdataPropName){p&&(l+=o),l+="<![CDATA[".concat(d[f][0][a.textNodeName],"]]>"),p=!1;continue}if(f===a.commentPropName){l+=o+"<!--".concat(d[f][0][a.textNodeName],"-->"),p=!0;continue}if(f[0]==="?"){const y=r(d[":@"],a),E=f==="?xml"?"":o;let w=d[f][0][a.textNodeName];w=w.length!==0?" "+w:"",l+=E+"<".concat(f).concat(w).concat(y,"?>"),p=!0;continue}let v=o;v!==""&&(v+=a.indentBy);const b=o+"<".concat(f).concat(r(d[":@"],a)),m=e(d[f],a,g,v);a.unpairedTags.indexOf(f)!==-1?a.suppressUnpairedNode?l+=b+">":l+=b+"/>":m&&m.length!==0||!a.suppressEmptyNode?m&&m.endsWith(">")?l+=b+">".concat(m).concat(o,"</").concat(f,">"):(l+=b+">",m&&o!==""&&(m.includes("/>")||m.includes("</"))?l+=o+a.indentBy+m+o:l+=m,l+="</".concat(f,">")):l+=b+"/>",p=!0}return l}function n(u){const a=Object.keys(u);for(let c=0;c<a.length;c++){const o=a[c];if(u.hasOwnProperty(o)&&o!==":@")return o}}function r(u,a){let c="";if(u&&!a.ignoreAttributes)for(let o in u){if(!u.hasOwnProperty(o))continue;let l=a.attributeValueProcessor(o,u[o]);l=s(l,a),l===!0&&a.suppressBooleanAttributes?c+=" ".concat(o.substr(a.attributeNamePrefix.length)):c+=" ".concat(o.substr(a.attributeNamePrefix.length),'="').concat(l,'"')}return c}function i(u,a){let c=(u=u.substr(0,u.length-a.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let o in a.stopNodes)if(a.stopNodes[o]===u||a.stopNodes[o]==="*."+c)return!0;return!1}function s(u,a){if(u&&u.length>0&&a.processEntities)for(let c=0;c<a.entities.length;c++){const o=a.entities[c];u=u.replace(o.regex,o.val)}return u}t.exports=function(u,a){let c="";return a.format&&a.indentBy.length>0&&(c="\n"),e(u,a,"",c)}},193:(t,e,n)=>{const r=n(705);function i(p,h){let d="";for(;h<p.length&&p[h]!=="'"&&p[h]!=='"';h++)d+=p[h];if(d=d.trim(),d.indexOf(" ")!==-1)throw new Error("External entites are not supported");const f=p[h++];let g="";for(;h<p.length&&p[h]!==f;h++)g+=p[h];return[d,g,h]}function s(p,h){return p[h+1]==="!"&&p[h+2]==="-"&&p[h+3]==="-"}function u(p,h){return p[h+1]==="!"&&p[h+2]==="E"&&p[h+3]==="N"&&p[h+4]==="T"&&p[h+5]==="I"&&p[h+6]==="T"&&p[h+7]==="Y"}function a(p,h){return p[h+1]==="!"&&p[h+2]==="E"&&p[h+3]==="L"&&p[h+4]==="E"&&p[h+5]==="M"&&p[h+6]==="E"&&p[h+7]==="N"&&p[h+8]==="T"}function c(p,h){return p[h+1]==="!"&&p[h+2]==="A"&&p[h+3]==="T"&&p[h+4]==="T"&&p[h+5]==="L"&&p[h+6]==="I"&&p[h+7]==="S"&&p[h+8]==="T"}function o(p,h){return p[h+1]==="!"&&p[h+2]==="N"&&p[h+3]==="O"&&p[h+4]==="T"&&p[h+5]==="A"&&p[h+6]==="T"&&p[h+7]==="I"&&p[h+8]==="O"&&p[h+9]==="N"}function l(p){if(r.isName(p))return p;throw new Error("Invalid entity name ".concat(p))}t.exports=function(p,h){const d={};if(p[h+3]!=="O"||p[h+4]!=="C"||p[h+5]!=="T"||p[h+6]!=="Y"||p[h+7]!=="P"||p[h+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{h+=9;let f=1,g=!1,v=!1,b="";for(;h<p.length;h++)if(p[h]!=="<"||v)if(p[h]===">"){if(v?p[h-1]==="-"&&p[h-2]==="-"&&(v=!1,f--):f--,f===0)break}else p[h]==="["?g=!0:b+=p[h];else{if(g&&u(p,h))h+=7,[entityName,val,h]=i(p,h+1),val.indexOf("&")===-1&&(d[l(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(g&&a(p,h))h+=8;else if(g&&c(p,h))h+=8;else if(g&&o(p,h))h+=9;else{if(!s)throw new Error("Invalid DOCTYPE");v=!0}f++,b=""}if(f!==0)throw new Error("Unclosed DOCTYPE")}return{entities:d,i:h}}},63:(t,e)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,i){return i},attributeValueProcessor:function(r,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,i,s){return r}};e.buildOptions=function(r){return Object.assign({},n,r)},e.defaultOptions=n},299:(t,e,n)=>{const r=n(705),i=n(365),s=n(193),u=n(494);function a(w){const A=Object.keys(w);for(let x=0;x<A.length;x++){const N=A[x];this.lastEntities[N]={regex:new RegExp("&"+N+";","g"),val:w[N]}}}function c(w,A,x,N,O,R,_){if(w!==void 0&&(this.options.trimValues&&!N&&(w=w.trim()),w.length>0)){_||(w=this.replaceEntitiesValue(w));const T=this.options.tagValueProcessor(A,w,x,O,R);return T==null?w:typeof T!=typeof w||T!==w?T:this.options.trimValues||w.trim()===w?E(w,this.options.parseTagValue,this.options.numberParseOptions):w}}function o(w){if(this.options.removeNSPrefix){const A=w.split(":"),x=w.charAt(0)==="/"?"/":"";if(A[0]==="xmlns")return"";A.length===2&&(w=x+A[1])}return w}const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function p(w,A,x){if(!this.options.ignoreAttributes&&typeof w=="string"){const N=r.getAllMatches(w,l),O=N.length,R={};for(let _=0;_<O;_++){const T=this.resolveNameSpace(N[_][1]);let I=N[_][4],C=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&(C=this.options.transformAttributeName(C)),C==="__proto__"&&(C="#__proto__"),I!==void 0){this.options.trimValues&&(I=I.trim()),I=this.replaceEntitiesValue(I);const S=this.options.attributeValueProcessor(T,I,A);R[C]=S==null?I:typeof S!=typeof I||S!==I?S:E(I,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(R[C]=!0)}if(!Object.keys(R).length)return;if(this.options.attributesGroupName){const _={};return _[this.options.attributesGroupName]=R,_}return R}}const h=function(w){w=w.replace(/\r\n?/g,"\n");const A=new i("!xml");let x=A,N="",O="";for(let R=0;R<w.length;R++)if(w[R]==="<")if(w[R+1]==="/"){const _=b(w,">",R,"Closing Tag is not closed.");let T=w.substring(R+2,_).trim();if(this.options.removeNSPrefix){const S=T.indexOf(":");S!==-1&&(T=T.substr(S+1))}this.options.transformTagName&&(T=this.options.transformTagName(T)),x&&(N=this.saveTextToParentTag(N,x,O));const I=O.substring(O.lastIndexOf(".")+1);if(T&&this.options.unpairedTags.indexOf(T)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(T,">"));let C=0;I&&this.options.unpairedTags.indexOf(I)!==-1?(C=O.lastIndexOf(".",O.lastIndexOf(".")-1),this.tagsNodeStack.pop()):C=O.lastIndexOf("."),O=O.substring(0,C),x=this.tagsNodeStack.pop(),N="",R=_}else if(w[R+1]==="?"){let _=m(w,R,!1,"?>");if(!_)throw new Error("Pi Tag is not closed.");if(N=this.saveTextToParentTag(N,x,O),!(this.options.ignoreDeclaration&&_.tagName==="?xml"||this.options.ignorePiTags)){const T=new i(_.tagName);T.add(this.options.textNodeName,""),_.tagName!==_.tagExp&&_.attrExpPresent&&(T[":@"]=this.buildAttributesMap(_.tagExp,O,_.tagName)),this.addChild(x,T,O)}R=_.closeIndex+1}else if(w.substr(R+1,3)==="!--"){const _=b(w,"-->",R+4,"Comment is not closed.");if(this.options.commentPropName){const T=w.substring(R+4,_-2);N=this.saveTextToParentTag(N,x,O),x.add(this.options.commentPropName,[{[this.options.textNodeName]:T}])}R=_}else if(w.substr(R+1,2)==="!D"){const _=s(w,R);this.docTypeEntities=_.entities,R=_.i}else if(w.substr(R+1,2)==="!["){const _=b(w,"]]>",R,"CDATA is not closed.")-2,T=w.substring(R+9,_);N=this.saveTextToParentTag(N,x,O);let I=this.parseTextData(T,x.tagname,O,!0,!1,!0,!0);I==null&&(I=""),this.options.cdataPropName?x.add(this.options.cdataPropName,[{[this.options.textNodeName]:T}]):x.add(this.options.textNodeName,I),R=_+2}else{let _=m(w,R,this.options.removeNSPrefix),T=_.tagName;const I=_.rawTagName;let C=_.tagExp,S=_.attrExpPresent,ft=_.closeIndex;this.options.transformTagName&&(T=this.options.transformTagName(T)),x&&N&&x.tagname!=="!xml"&&(N=this.saveTextToParentTag(N,x,O,!1));const B=x;if(B&&this.options.unpairedTags.indexOf(B.tagname)!==-1&&(x=this.tagsNodeStack.pop(),O=O.substring(0,O.lastIndexOf("."))),T!==A.tagname&&(O+=O?"."+T:T),this.isItStopNode(this.options.stopNodes,O,T)){let $="";if(C.length>0&&C.lastIndexOf("/")===C.length-1)T[T.length-1]==="/"?(T=T.substr(0,T.length-1),O=O.substr(0,O.length-1),C=T):C=C.substr(0,C.length-1),R=_.closeIndex;else if(this.options.unpairedTags.indexOf(T)!==-1)R=_.closeIndex;else{const Q=this.readStopNodeData(w,I,ft+1);if(!Q)throw new Error("Unexpected end of ".concat(I));R=Q.i,$=Q.tagContent}const at=new i(T);T!==C&&S&&(at[":@"]=this.buildAttributesMap(C,O,T)),$&&($=this.parseTextData($,T,O,!0,S,!0,!0)),O=O.substr(0,O.lastIndexOf(".")),at.add(this.options.textNodeName,$),this.addChild(x,at,O)}else{if(C.length>0&&C.lastIndexOf("/")===C.length-1){T[T.length-1]==="/"?(T=T.substr(0,T.length-1),O=O.substr(0,O.length-1),C=T):C=C.substr(0,C.length-1),this.options.transformTagName&&(T=this.options.transformTagName(T));const $=new i(T);T!==C&&S&&($[":@"]=this.buildAttributesMap(C,O,T)),this.addChild(x,$,O),O=O.substr(0,O.lastIndexOf("."))}else{const $=new i(T);this.tagsNodeStack.push(x),T!==C&&S&&($[":@"]=this.buildAttributesMap(C,O,T)),this.addChild(x,$,O),x=$}N="",R=ft}}else N+=w[R];return A.child};function d(w,A,x){const N=this.options.updateTag(A.tagname,x,A[":@"]);N===!1||(typeof N=="string"&&(A.tagname=N),w.addChild(A))}const f=function(w){if(this.options.processEntities){for(let A in this.docTypeEntities){const x=this.docTypeEntities[A];w=w.replace(x.regx,x.val)}for(let A in this.lastEntities){const x=this.lastEntities[A];w=w.replace(x.regex,x.val)}if(this.options.htmlEntities)for(let A in this.htmlEntities){const x=this.htmlEntities[A];w=w.replace(x.regex,x.val)}w=w.replace(this.ampEntity.regex,this.ampEntity.val)}return w};function g(w,A,x,N){return w&&(N===void 0&&(N=Object.keys(A.child).length===0),(w=this.parseTextData(w,A.tagname,x,!1,!!A[":@"]&&Object.keys(A[":@"]).length!==0,N))!==void 0&&w!==""&&A.add(this.options.textNodeName,w),w=""),w}function v(w,A,x){const N="*."+x;for(const O in w){const R=w[O];if(N===R||A===R)return!0}return!1}function b(w,A,x,N){const O=w.indexOf(A,x);if(O===-1)throw new Error(N);return O+A.length-1}function m(w,A,x){const N=function(S,ft){let B,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",at="";for(let Q=ft;Q<S.length;Q++){let q=S[Q];if(B)q===B&&(B="");else if(q==='"'||q==="'")B=q;else if(q===$[0]){if(!$[1])return{data:at,index:Q};if(S[Q+1]===$[1])return{data:at,index:Q}}else q==="	"&&(q=" ");at+=q}}(w,A+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!N)return;let O=N.data;const R=N.index,_=O.search(/\s/);let T=O,I=!0;_!==-1&&(T=O.substring(0,_),O=O.substring(_+1).trimStart());const C=T;if(x){const S=T.indexOf(":");S!==-1&&(T=T.substr(S+1),I=T!==N.data.substr(S+1))}return{tagName:T,tagExp:O,closeIndex:R,attrExpPresent:I,rawTagName:C}}function y(w,A,x){const N=x;let O=1;for(;x<w.length;x++)if(w[x]==="<")if(w[x+1]==="/"){const R=b(w,">",x,"".concat(A," is not closed"));if(w.substring(x+2,R).trim()===A&&(O--,O===0))return{tagContent:w.substring(N,x),i:R};x=R}else if(w[x+1]==="?")x=b(w,"?>",x+1,"StopNode is not closed.");else if(w.substr(x+1,3)==="!--")x=b(w,"-->",x+3,"StopNode is not closed.");else if(w.substr(x+1,2)==="![")x=b(w,"]]>",x,"StopNode is not closed.")-2;else{const R=m(w,x,">");R&&((R&&R.tagName)===A&&R.tagExp[R.tagExp.length-1]!=="/"&&O++,x=R.closeIndex)}}function E(w,A,x){if(A&&typeof w=="string"){const N=w.trim();return N==="true"||N!=="false"&&u(w,x)}return r.isExist(w)?w:""}t.exports=class{constructor(w){this.options=w,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(A,x)=>String.fromCharCode(Number.parseInt(x,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(A,x)=>String.fromCharCode(Number.parseInt(x,16))}},this.addExternalEntities=a,this.parseXml=h,this.parseTextData=c,this.resolveNameSpace=o,this.buildAttributesMap=p,this.isItStopNode=v,this.replaceEntitiesValue=f,this.readStopNodeData=y,this.saveTextToParentTag=g,this.addChild=d}}},338:(t,e,n)=>{const{buildOptions:r}=n(63),i=n(299),{prettify:s}=n(728),u=n(31);t.exports=class{constructor(a){this.externalEntities={},this.options=r(a)}parse(a,c){if(typeof a!="string"){if(!a.toString)throw new Error("XML data is accepted in String or Bytes[] form.");a=a.toString()}if(c){c===!0&&(c={});const p=u.validate(a,c);if(p!==!0)throw Error("".concat(p.err.msg,":").concat(p.err.line,":").concat(p.err.col))}const o=new i(this.options);o.addExternalEntities(this.externalEntities);const l=o.parseXml(a);return this.options.preserveOrder||l===void 0?l:s(l,this.options)}addEntity(a,c){if(c.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(a.indexOf("&")!==-1||a.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(c==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[a]=c}}},728:(t,e)=>{function n(u,a,c){let o;const l={};for(let p=0;p<u.length;p++){const h=u[p],d=r(h);let f="";if(f=c===void 0?d:c+"."+d,d===a.textNodeName)o===void 0?o=h[d]:o+=""+h[d];else{if(d===void 0)continue;if(h[d]){let g=n(h[d],a,f);const v=s(g,a);h[":@"]?i(g,h[":@"],f,a):Object.keys(g).length!==1||g[a.textNodeName]===void 0||a.alwaysCreateTextNode?Object.keys(g).length===0&&(a.alwaysCreateTextNode?g[a.textNodeName]="":g=""):g=g[a.textNodeName],l[d]!==void 0&&l.hasOwnProperty(d)?(Array.isArray(l[d])||(l[d]=[l[d]]),l[d].push(g)):a.isArray(d,f,v)?l[d]=[g]:l[d]=g}}}return typeof o=="string"?o.length>0&&(l[a.textNodeName]=o):o!==void 0&&(l[a.textNodeName]=o),l}function r(u){const a=Object.keys(u);for(let c=0;c<a.length;c++){const o=a[c];if(o!==":@")return o}}function i(u,a,c,o){if(a){const l=Object.keys(a),p=l.length;for(let h=0;h<p;h++){const d=l[h];o.isArray(d,c+"."+d,!0,!0)?u[d]=[a[d]]:u[d]=a[d]}}}function s(u,a){const{textNodeName:c}=a,o=Object.keys(u).length;return o===0||!(o!==1||!u[c]&&typeof u[c]!="boolean"&&u[c]!==0)}e.prettify=function(u,a){return n(u,a)}},365:t=>{t.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},135:t=>{function e(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}t.exports=function(n){return n!=null&&(e(n)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&e(r.slice(0,0))}(n)||!!n._isBuffer)}},542:(t,e,n)=>{(function(){var r=n(298),i=n(526).utf8,s=n(135),u=n(526).bin,a=function(c,o){c.constructor==String?c=o&&o.encoding==="binary"?u.stringToBytes(c):i.stringToBytes(c):s(c)?c=Array.prototype.slice.call(c,0):Array.isArray(c)||c.constructor===Uint8Array||(c=c.toString());for(var l=r.bytesToWords(c),p=8*c.length,h=1732584193,d=-271733879,f=-1732584194,g=271733878,v=0;v<l.length;v++)l[v]=16711935&(l[v]<<8|l[v]>>>24)|4278255360&(l[v]<<24|l[v]>>>8);l[p>>>5]|=128<<p%32,l[14+(p+64>>>9<<4)]=p;var b=a._ff,m=a._gg,y=a._hh,E=a._ii;for(v=0;v<l.length;v+=16){var w=h,A=d,x=f,N=g;h=b(h,d,f,g,l[v+0],7,-680876936),g=b(g,h,d,f,l[v+1],12,-389564586),f=b(f,g,h,d,l[v+2],17,606105819),d=b(d,f,g,h,l[v+3],22,-1044525330),h=b(h,d,f,g,l[v+4],7,-176418897),g=b(g,h,d,f,l[v+5],12,1200080426),f=b(f,g,h,d,l[v+6],17,-1473231341),d=b(d,f,g,h,l[v+7],22,-45705983),h=b(h,d,f,g,l[v+8],7,1770035416),g=b(g,h,d,f,l[v+9],12,-1958414417),f=b(f,g,h,d,l[v+10],17,-42063),d=b(d,f,g,h,l[v+11],22,-1990404162),h=b(h,d,f,g,l[v+12],7,1804603682),g=b(g,h,d,f,l[v+13],12,-40341101),f=b(f,g,h,d,l[v+14],17,-1502002290),h=m(h,d=b(d,f,g,h,l[v+15],22,1236535329),f,g,l[v+1],5,-165796510),g=m(g,h,d,f,l[v+6],9,-1069501632),f=m(f,g,h,d,l[v+11],14,643717713),d=m(d,f,g,h,l[v+0],20,-373897302),h=m(h,d,f,g,l[v+5],5,-701558691),g=m(g,h,d,f,l[v+10],9,38016083),f=m(f,g,h,d,l[v+15],14,-660478335),d=m(d,f,g,h,l[v+4],20,-405537848),h=m(h,d,f,g,l[v+9],5,568446438),g=m(g,h,d,f,l[v+14],9,-1019803690),f=m(f,g,h,d,l[v+3],14,-187363961),d=m(d,f,g,h,l[v+8],20,1163531501),h=m(h,d,f,g,l[v+13],5,-1444681467),g=m(g,h,d,f,l[v+2],9,-51403784),f=m(f,g,h,d,l[v+7],14,1735328473),h=y(h,d=m(d,f,g,h,l[v+12],20,-1926607734),f,g,l[v+5],4,-378558),g=y(g,h,d,f,l[v+8],11,-2022574463),f=y(f,g,h,d,l[v+11],16,1839030562),d=y(d,f,g,h,l[v+14],23,-35309556),h=y(h,d,f,g,l[v+1],4,-1530992060),g=y(g,h,d,f,l[v+4],11,1272893353),f=y(f,g,h,d,l[v+7],16,-155497632),d=y(d,f,g,h,l[v+10],23,-1094730640),h=y(h,d,f,g,l[v+13],4,681279174),g=y(g,h,d,f,l[v+0],11,-358537222),f=y(f,g,h,d,l[v+3],16,-722521979),d=y(d,f,g,h,l[v+6],23,76029189),h=y(h,d,f,g,l[v+9],4,-640364487),g=y(g,h,d,f,l[v+12],11,-421815835),f=y(f,g,h,d,l[v+15],16,530742520),h=E(h,d=y(d,f,g,h,l[v+2],23,-995338651),f,g,l[v+0],6,-198630844),g=E(g,h,d,f,l[v+7],10,1126891415),f=E(f,g,h,d,l[v+14],15,-1416354905),d=E(d,f,g,h,l[v+5],21,-57434055),h=E(h,d,f,g,l[v+12],6,1700485571),g=E(g,h,d,f,l[v+3],10,-1894986606),f=E(f,g,h,d,l[v+10],15,-1051523),d=E(d,f,g,h,l[v+1],21,-2054922799),h=E(h,d,f,g,l[v+8],6,1873313359),g=E(g,h,d,f,l[v+15],10,-30611744),f=E(f,g,h,d,l[v+6],15,-1560198380),d=E(d,f,g,h,l[v+13],21,1309151649),h=E(h,d,f,g,l[v+4],6,-145523070),g=E(g,h,d,f,l[v+11],10,-1120210379),f=E(f,g,h,d,l[v+2],15,718787259),d=E(d,f,g,h,l[v+9],21,-343485551),h=h+w>>>0,d=d+A>>>0,f=f+x>>>0,g=g+N>>>0}return r.endian([h,d,f,g])};a._ff=function(c,o,l,p,h,d,f){var g=c+(o&l|~o&p)+(h>>>0)+f;return(g<<d|g>>>32-d)+o},a._gg=function(c,o,l,p,h,d,f){var g=c+(o&p|l&~p)+(h>>>0)+f;return(g<<d|g>>>32-d)+o},a._hh=function(c,o,l,p,h,d,f){var g=c+(o^l^p)+(h>>>0)+f;return(g<<d|g>>>32-d)+o},a._ii=function(c,o,l,p,h,d,f){var g=c+(l^(o|~p))+(h>>>0)+f;return(g<<d|g>>>32-d)+o},a._blocksize=16,a._digestsize=16,t.exports=function(c,o){if(c==null)throw new Error("Illegal argument "+c);var l=r.wordsToBytes(a(c,o));return o&&o.asBytes?l:o&&o.asString?u.bytesToString(l):r.bytesToHex(l)}})()},285:(t,e,n)=>{var r=n(2);t.exports=function(b){return b?(b.substr(0,2)==="{}"&&(b="\\{\\}"+b.substr(2)),v(function(m){return m.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(u).split("\\,").join(a).split("\\.").join(c)}(b),!0).map(l)):[]};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",u="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function o(b){return parseInt(b,10)==b?parseInt(b,10):b.charCodeAt(0)}function l(b){return b.split(i).join("\\").split(s).join("{").split(u).join("}").split(a).join(",").split(c).join(".")}function p(b){if(!b)return[""];var m=[],y=r("{","}",b);if(!y)return b.split(",");var E=y.pre,w=y.body,A=y.post,x=E.split(",");x[x.length-1]+="{"+w+"}";var N=p(A);return A.length&&(x[x.length-1]+=N.shift(),x.push.apply(x,N)),m.push.apply(m,x),m}function h(b){return"{"+b+"}"}function d(b){return/^-?0\d/.test(b)}function f(b,m){return b<=m}function g(b,m){return b>=m}function v(b,m){var y=[],E=r("{","}",b);if(!E)return[b];var w=E.pre,A=E.post.length?v(E.post,!1):[""];if(/\$$/.test(E.pre))for(var x=0;x<A.length;x++){var N=w+"{"+E.body+"}"+A[x];y.push(N)}else{var O,R,_=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(E.body),T=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(E.body),I=_||T,C=E.body.indexOf(",")>=0;if(!I&&!C)return E.post.match(/,.*\}/)?v(b=E.pre+"{"+E.body+u+E.post):[b];if(I)O=E.body.split(/\.\./);else if((O=p(E.body)).length===1&&(O=v(O[0],!1).map(h)).length===1)return A.map(function(jr){return E.pre+O[0]+jr});if(I){var S=o(O[0]),ft=o(O[1]),B=Math.max(O[0].length,O[1].length),$=O.length==3?Math.abs(o(O[2])):1,at=f;ft<S&&($*=-1,at=g);var Q=O.some(d);R=[];for(var q=S;at(q,ft);q+=$){var Et;if(T)(Et=String.fromCharCode(q))==="\\"&&(Et="");else if(Et=String(q),Q){var pn=B-Et.length;if(pn>0){var dn=new Array(pn+1).join("0");Et=q<0?"-"+dn+Et.slice(1):dn+Et}}R.push(Et)}}else{R=[];for(var Rt=0;Rt<O.length;Rt++)R.push.apply(R,v(O[Rt],!1))}for(Rt=0;Rt<R.length;Rt++)for(x=0;x<A.length;x++)N=w+R[Rt]+A[x],(!m||I||N)&&y.push(N)}return y}},829:t=>{function e(o){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(o)}function n(o){var l=typeof Map=="function"?new Map:void 0;return n=function(p){if(p===null||(h=p,Function.toString.call(h).indexOf("[native code]")===-1))return p;var h;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(p))return l.get(p);l.set(p,d)}function d(){return r(p,arguments,s(this).constructor)}return d.prototype=Object.create(p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),i(d,p)},n(o)}function r(o,l,p){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(h){return!1}}()?Reflect.construct:function(h,d,f){var g=[null];g.push.apply(g,d);var v=new(Function.bind.apply(h,g));return f&&i(v,f.prototype),v},r.apply(null,arguments)}function i(o,l){return i=Object.setPrototypeOf||function(p,h){return p.__proto__=h,p},i(o,l)}function s(o){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},s(o)}var u=function(o){function l(p){var h;return function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}(this,l),(h=function(d,f){return!f||e(f)!=="object"&&typeof f!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(d):f}(this,s(l).call(this,p))).name="ObjectPrototypeMutationError",h}return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),h&&i(p,h)}(l,o),l}(n(Error));function a(o,l){for(var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},h=l.split("."),d=h.length,f=function(b){var m=h[b];if(!o)return{v:void 0};if(m==="+"){if(Array.isArray(o))return{v:o.map(function(E,w){var A=h.slice(b+1);return A.length>0?a(E,A.join("."),p):p(o,w,h,b)})};var y=h.slice(0,b).join(".");throw new Error("Object at wildcard (".concat(y,") is not an array"))}o=p(o,m,h,b)},g=0;g<d;g++){var v=f(g);if(e(v)==="object")return v.v}return o}function c(o,l){return o.length===l+1}t.exports={set:function(o,l,p){if(e(o)!="object"||o===null||l===void 0)return o;if(typeof l=="number")return o[l]=p,o[l];try{return a(o,l,function(h,d,f,g){if(h===Reflect.getPrototypeOf({}))throw new u("Attempting to mutate Object.prototype");if(!h[d]){var v=Number.isInteger(Number(f[g+1])),b=f[g+1]==="+";h[d]=v||b?[]:{}}return c(f,g)&&(h[d]=p),h[d]})}catch(h){if(h instanceof u)throw h;return o}},get:function(o,l){if(e(o)!="object"||o===null||l===void 0)return o;if(typeof l=="number")return o[l];try{return a(o,l,function(p,h){return p[h]})}catch(p){return o}},has:function(o,l){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e(o)!="object"||o===null||l===void 0)return!1;if(typeof l=="number")return l in o;try{var h=!1;return a(o,l,function(d,f,g,v){if(!c(g,v))return d&&d[f];h=p.own?d.hasOwnProperty(f):f in d}),h}catch(d){return!1}},hasOwn:function(o,l,p){return this.has(o,l,p||{own:!0})},isIn:function(o,l,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e(o)!="object"||o===null||l===void 0)return!1;try{var d=!1,f=!1;return a(o,l,function(g,v,b,m){return d=d||g===p||!!g&&g[v]===p,f=c(b,m)&&e(g)==="object"&&v in g,g&&g[v]}),h.validPath?d&&f:d}catch(g){return!1}},ObjectPrototypeMutationError:u}},47:(t,e,n)=>{var r=n(410),i=function(o){return typeof o=="string"};function s(o,l){for(var p=[],h=0;h<o.length;h++){var d=o[h];d&&d!=="."&&(d===".."?p.length&&p[p.length-1]!==".."?p.pop():l&&p.push(".."):p.push(d))}return p}var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};function c(o){return u.exec(o).slice(1)}a.resolve=function(){for(var o="",l=!1,p=arguments.length-1;p>=-1&&!l;p--){var h=p>=0?arguments[p]:Gt.cwd();if(!i(h))throw new TypeError("Arguments to path.resolve must be strings");h&&(o=h+"/"+o,l=h.charAt(0)==="/")}return(l?"/":"")+(o=s(o.split("/"),!l).join("/"))||"."},a.normalize=function(o){var l=a.isAbsolute(o),p=o.substr(-1)==="/";return(o=s(o.split("/"),!l).join("/"))||l||(o="."),o&&p&&(o+="/"),(l?"/":"")+o},a.isAbsolute=function(o){return o.charAt(0)==="/"},a.join=function(){for(var o="",l=0;l<arguments.length;l++){var p=arguments[l];if(!i(p))throw new TypeError("Arguments to path.join must be strings");p&&(o+=o?"/"+p:p)}return a.normalize(o)},a.relative=function(o,l){function p(m){for(var y=0;y<m.length&&m[y]==="";y++);for(var E=m.length-1;E>=0&&m[E]==="";E--);return y>E?[]:m.slice(y,E+1)}o=a.resolve(o).substr(1),l=a.resolve(l).substr(1);for(var h=p(o.split("/")),d=p(l.split("/")),f=Math.min(h.length,d.length),g=f,v=0;v<f;v++)if(h[v]!==d[v]){g=v;break}var b=[];for(v=g;v<h.length;v++)b.push("..");return(b=b.concat(d.slice(g))).join("/")},a._makeLong=function(o){return o},a.dirname=function(o){var l=c(o),p=l[0],h=l[1];return p||h?(h&&(h=h.substr(0,h.length-1)),p+h):"."},a.basename=function(o,l){var p=c(o)[2];return l&&p.substr(-1*l.length)===l&&(p=p.substr(0,p.length-l.length)),p},a.extname=function(o){return c(o)[3]},a.format=function(o){if(!r.isObject(o))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof o);var l=o.root||"";if(!i(l))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof o.root);return(o.dir?o.dir+a.sep:"")+(o.base||"")},a.parse=function(o){if(!i(o))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var l=c(o);if(!l||l.length!==4)throw new TypeError("Invalid path '"+o+"'");return l[1]=l[1]||"",l[2]=l[2]||"",l[3]=l[3]||"",{root:l[0],dir:l[0]+l[1].slice(0,l[1].length-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}},a.sep="/",a.delimiter=":",t.exports=a},647:(t,e)=>{var n=Object.prototype.hasOwnProperty;function r(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch(u){return null}}function i(s){try{return encodeURIComponent(s)}catch(u){return null}}e.stringify=function(s,u){u=u||"";var a,c,o=[];for(c in typeof u!="string"&&(u="?"),s)if(n.call(s,c)){if((a=s[c])||a!=null&&!isNaN(a)||(a=""),c=i(c),a=i(a),c===null||a===null)continue;o.push(c+"="+a)}return o.length?u+o.join("&"):""},e.parse=function(s){for(var u,a=/([^=?#&]+)=?([^&]*)/g,c={};u=a.exec(s);){var o=r(u[1]),l=r(u[2]);o===null||l===null||o in c||(c[o]=l)}return c}},670:t=>{t.exports=function(e,n){if(n=n.split(":")[0],!(e=+e))return!1;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}},494:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s=Object.assign({},r,s),!i||typeof i!="string")return i;let u=i.trim();if(s.skipLike!==void 0&&s.skipLike.test(u))return i;if(s.hex&&e.test(u))return Number.parseInt(u,16);{const c=n.exec(u);if(c){const o=c[1],l=c[2];let p=((a=c[3])&&a.indexOf(".")!==-1&&((a=a.replace(/0+$/,""))==="."?a="0":a[0]==="."?a="0"+a:a[a.length-1]==="."&&(a=a.substr(0,a.length-1))),a);const h=c[4]||c[6];if(!s.leadingZeros&&l.length>0&&o&&u[2]!=="."||!s.leadingZeros&&l.length>0&&!o&&u[1]!==".")return i;{const d=Number(u),f=""+d;return f.search(/[eE]/)!==-1||h?s.eNotation?d:i:u.indexOf(".")!==-1?f==="0"&&p===""||f===p||o&&f==="-"+p?d:i:l?p===f||o+p===f?d:i:u===f||u===o+f?d:i}}return i}var a}},737:(t,e,n)=>{var r=n(670),i=n(647),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,u=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function p(m){return(m||"").toString().replace(s,"")}var h=[["#","hash"],["?","query"],function(m,y){return g(y.protocol)?m.replace(/\\/g,"/"):m},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function f(m){var y,E=(typeof window<"u"?window:typeof Zt<"u"?Zt:typeof self<"u"?self:{}).location||{},w={},A=typeof(m=m||E);if(m.protocol==="blob:")w=new b(unescape(m.pathname),{});else if(A==="string")for(y in w=new b(m,{}),d)delete w[y];else if(A==="object"){for(y in m)y in d||(w[y]=m[y]);w.slashes===void 0&&(w.slashes=a.test(m.href))}return w}function g(m){return m==="file:"||m==="ftp:"||m==="http:"||m==="https:"||m==="ws:"||m==="wss:"}function v(m,y){m=(m=p(m)).replace(u,""),y=y||{};var E,w=o.exec(m),A=w[1]?w[1].toLowerCase():"",x=!!w[2],N=!!w[3],O=0;return x?N?(E=w[2]+w[3]+w[4],O=w[2].length+w[3].length):(E=w[2]+w[4],O=w[2].length):N?(E=w[3]+w[4],O=w[3].length):E=w[4],A==="file:"?O>=2&&(E=E.slice(2)):g(A)?E=w[4]:A?x&&(E=E.slice(2)):O>=2&&g(y.protocol)&&(E=w[4]),{protocol:A,slashes:x||g(A),slashesCount:O,rest:E}}function b(m,y,E){if(m=(m=p(m)).replace(u,""),!(this instanceof b))return new b(m,y,E);var w,A,x,N,O,R,_=h.slice(),T=typeof y,I=this,C=0;for(T!=="object"&&T!=="string"&&(E=y,y=null),E&&typeof E!="function"&&(E=i.parse),w=!(A=v(m||"",y=f(y))).protocol&&!A.slashes,I.slashes=A.slashes||w&&y.slashes,I.protocol=A.protocol||y.protocol||"",m=A.rest,(A.protocol==="file:"&&(A.slashesCount!==2||l.test(m))||!A.slashes&&(A.protocol||A.slashesCount<2||!g(I.protocol)))&&(_[3]=[/(.*)/,"pathname"]);C<_.length;C++)typeof(N=_[C])!="function"?(x=N[0],R=N[1],x!=x?I[R]=m:typeof x=="string"?~(O=x==="@"?m.lastIndexOf(x):m.indexOf(x))&&(typeof N[2]=="number"?(I[R]=m.slice(0,O),m=m.slice(O+N[2])):(I[R]=m.slice(O),m=m.slice(0,O))):(O=x.exec(m))&&(I[R]=O[1],m=m.slice(0,O.index)),I[R]=I[R]||w&&N[3]&&y[R]||"",N[4]&&(I[R]=I[R].toLowerCase())):m=N(m,I);E&&(I.query=E(I.query)),w&&y.slashes&&I.pathname.charAt(0)!=="/"&&(I.pathname!==""||y.pathname!=="")&&(I.pathname=function(S,ft){if(S==="")return ft;for(var B=(ft||"/").split("/").slice(0,-1).concat(S.split("/")),$=B.length,at=B[$-1],Q=!1,q=0;$--;)B[$]==="."?B.splice($,1):B[$]===".."?(B.splice($,1),q++):q&&($===0&&(Q=!0),B.splice($,1),q--);return Q&&B.unshift(""),at!=="."&&at!==".."||B.push(""),B.join("/")}(I.pathname,y.pathname)),I.pathname.charAt(0)!=="/"&&g(I.protocol)&&(I.pathname="/"+I.pathname),r(I.port,I.protocol)||(I.host=I.hostname,I.port=""),I.username=I.password="",I.auth&&(~(O=I.auth.indexOf(":"))?(I.username=I.auth.slice(0,O),I.username=encodeURIComponent(decodeURIComponent(I.username)),I.password=I.auth.slice(O+1),I.password=encodeURIComponent(decodeURIComponent(I.password))):I.username=encodeURIComponent(decodeURIComponent(I.auth)),I.auth=I.password?I.username+":"+I.password:I.username),I.origin=I.protocol!=="file:"&&g(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString()}b.prototype={set:function(m,y,E){var w=this;switch(m){case"query":typeof y=="string"&&y.length&&(y=(E||i.parse)(y)),w[m]=y;break;case"port":w[m]=y,r(y,w.protocol)?y&&(w.host=w.hostname+":"+y):(w.host=w.hostname,w[m]="");break;case"hostname":w[m]=y,w.port&&(y+=":"+w.port),w.host=y;break;case"host":w[m]=y,c.test(y)?(y=y.split(":"),w.port=y.pop(),w.hostname=y.join(":")):(w.hostname=y,w.port="");break;case"protocol":w.protocol=y.toLowerCase(),w.slashes=!E;break;case"pathname":case"hash":if(y){var A=m==="pathname"?"/":"#";w[m]=y.charAt(0)!==A?A+y:y}else w[m]=y;break;case"username":case"password":w[m]=encodeURIComponent(y);break;case"auth":var x=y.indexOf(":");~x?(w.username=y.slice(0,x),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=y.slice(x+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(y))}for(var N=0;N<h.length;N++){var O=h[N];O[4]&&(w[O[1]]=w[O[1]].toLowerCase())}return w.auth=w.password?w.username+":"+w.password:w.username,w.origin=w.protocol!=="file:"&&g(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString(),w},toString:function(m){m&&typeof m=="function"||(m=i.stringify);var y,E=this,w=E.host,A=E.protocol;A&&A.charAt(A.length-1)!==":"&&(A+=":");var x=A+(E.protocol&&E.slashes||g(E.protocol)?"//":"");return E.username?(x+=E.username,E.password&&(x+=":"+E.password),x+="@"):E.password?(x+=":"+E.password,x+="@"):E.protocol!=="file:"&&g(E.protocol)&&!w&&E.pathname!=="/"&&(x+="@"),(w[w.length-1]===":"||c.test(E.hostname)&&!E.port)&&(w+=":"),x+=w+E.pathname,(y=typeof E.query=="object"?m(E.query):E.query)&&(x+=y.charAt(0)!=="?"?"?"+y:y),E.hash&&(x+=E.hash),x}},b.extractProtocol=v,b.location=f,b.trimLeft=p,b.qs=i,t.exports=b},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},bn={};function L(t){var e=bn[t];if(e!==void 0)return e.exports;var n=bn[t]={id:t,loaded:!1,exports:{}};return ui[t].call(n.exports,n,n.exports,L),n.loaded=!0,n.exports}L.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return L.d(e,{a:e}),e},L.d=(t,e)=>{for(var n in e)L.o(e,n)&&!L.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},L.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),L.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var pt={};L.d(pt,{hT:()=>nt,O4:()=>bt,Kd:()=>vi,YK:()=>yi,UU:()=>As,Gu:()=>ir,ky:()=>gr,h4:()=>Kt,ch:()=>de,hq:()=>Lt,i5:()=>mr});var li=L(737),ci=L.n(li);function xe(t){if(!Le(t))throw new Error("Parameter was not an error")}function Le(t){return!!t&&typeof t=="object"&&(e=t,Object.prototype.toString.call(e)==="[object Error]")||t instanceof Error;var e}class it extends Error{constructor(e,n){const r=[...arguments],{options:i,shortMessage:s}=function(a){let c,o="";if(a.length===0)c={};else if(Le(a[0]))c={cause:a[0]},o=a.slice(1).join(" ")||"";else if(a[0]&&typeof a[0]=="object")c=Object.assign({},a[0]),o=a.slice(1).join(" ")||"";else{if(typeof a[0]!="string")throw new Error("Invalid arguments passed to Layerr");c={},o=o=a.join(" ")||""}return{options:c,shortMessage:o}}(r);let u=s;if(i.cause&&(u="".concat(u,": ").concat(i.cause.message)),super(u),this.message=u,i.name&&typeof i.name=="string"?this.name=i.name:this.name="Layerr",i.cause&&Object.defineProperty(this,"_cause",{value:i.cause}),Object.defineProperty(this,"_info",{value:{}}),i.info&&typeof i.info=="object"&&Object.assign(this._info,i.info),Error.captureStackTrace){const a=i.constructorOpt||this.constructor;Error.captureStackTrace(this,a)}}static cause(e){return xe(e),e._cause&&Le(e._cause)?e._cause:null}static fullStack(e){var r;xe(e);const n=it.cause(e);return n?"".concat(e.stack,"\ncaused by: ").concat(it.fullStack(n)):(r=e.stack)!=null?r:""}static info(e){xe(e);const n={},r=it.cause(e);return r&&Object.assign(n,it.info(r)),e._info&&Object.assign(n,e._info),n}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e="".concat(e,": ").concat(this.message)),e}}var hi=L(47),re=L.n(hi);const En="__PATH_SEPARATOR_POSIX__",xn="__PATH_SEPARATOR_WINDOWS__";function D(t){try{const e=t.replace(/\//g,En).replace(/\\\\/g,xn);return encodeURIComponent(e).split(xn).join("\\\\").split(En).join("/")}catch(e){throw new it(e,"Failed encoding path")}}function Nn(t){return t.startsWith("/")?t:"/"+t}function Xt(t){let e=t;return e[0]!=="/"&&(e="/"+e),/^.+\/$/.test(e)&&(e=e.substr(0,e.length-1)),e}function pi(t){let e=new(ci())(t).pathname;return e.length<=0&&(e="/"),Xt(e)}function k(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){return function(r){var i=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var s=r.shift();r[0]=s+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var u=0;u<r.length;u++){var a=r[u];if(typeof a!="string")throw new TypeError("Url must be a string. Received "+a);a!==""&&(u>0&&(a=a.replace(/^[\/]+/,"")),a=u<r.length-1?a.replace(/[\/]+$/,""):a.replace(/[\/]+$/,"/"),i.push(a))}var c=i.join("/"),o=(c=c.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return o.shift()+(o.length>0?"?":"")+o.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(e.reduce((r,i,s)=>((s===0||i!=="/"||i==="/"&&r[r.length-1]!=="/")&&r.push(i),r),[]))}var di=L(542),kt=L.n(di);const fi="abcdef0123456789";function An(t,e){const n=t.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),i=t.method?t.method.toUpperCase():"GET",s=!!/(^|,)\s*auth\s*($|,)/.test(e.qop)&&"auth",u="00000000".concat(e.nc).slice(-8),a=function(h,d,f,g,v,b,m){const y=m||kt()("".concat(d,":").concat(f,":").concat(g));return h&&h.toLowerCase()==="md5-sess"?kt()("".concat(y,":").concat(v,":").concat(b)):y}(e.algorithm,e.username,e.realm,e.password,e.nonce,e.cnonce,e.ha1),c=kt()("".concat(i,":").concat(r)),o=s?kt()("".concat(a,":").concat(e.nonce,":").concat(u,":").concat(e.cnonce,":").concat(s,":").concat(c)):kt()("".concat(a,":").concat(e.nonce,":").concat(c)),l={username:e.username,realm:e.realm,nonce:e.nonce,uri:r,qop:s,response:o,nc:u,cnonce:e.cnonce,algorithm:e.algorithm,opaque:e.opaque},p=[];for(const h in l)l[h]&&(h==="qop"||h==="nc"||h==="algorithm"?p.push("".concat(h,"=").concat(l[h])):p.push("".concat(h,'="').concat(l[h],'"')));return"Digest ".concat(p.join(", "))}function er(t){return(t.headers&&t.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var gi=L(101),nr=L.n(gi);function On(t){return nr().decode(t)}function In(t,e){var n;return"Basic ".concat((n="".concat(t,":").concat(e),nr().encode(n)))}const ie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,mi=ie.fetch.bind(ie),vi=ie.Request,yi=ie.Response;let nt=function(t){return t.Auto="auto",t.Digest="digest",t.None="none",t.Password="password",t.Token="token",t}({}),bt=function(t){return t.DataTypeNoLength="data-type-no-length",t.InvalidAuthType="invalid-auth-type",t.InvalidOutputFormat="invalid-output-format",t.LinkUnsupportedAuthType="link-unsupported-auth",t.InvalidUpdateRange="invalid-update-range",t.NotSupported="not-supported",t}({});function rr(t,e,n,r,i){switch(t.authType){case nt.Auto:e&&n&&(t.headers.Authorization=In(e,n));break;case nt.Digest:t.digest=function(u,a,c){return{username:u,password:a,ha1:c,nc:0,algorithm:"md5",hasDigestAuth:!1}}(e,n,i);break;case nt.None:break;case nt.Password:t.headers.Authorization=In(e,n);break;case nt.Token:t.headers.Authorization="".concat((s=r).token_type," ").concat(s.access_token);break;default:throw new it({info:{code:bt.InvalidAuthType}},"Invalid auth type: ".concat(t.authType))}var s}L(345),L(800);const Pn="@@HOTPATCHER",wi=()=>{};function Ne(t){return{original:t,methods:[t],final:!1}}class bi{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=Pn}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(e){this.configuration.getEmptyAction=e}control(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e||e.__type__!==Pn)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(e.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},e.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},e.configuration.registry[r])}),e._configuration=this.configuration,this}execute(e){const n=this.get(e)||wi;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return n(...i)}get(e){const n=this.configuration.registry[e];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(e));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(i.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var u=arguments.length,a=new Array(u),c=0;c<u;c++)a[c]=arguments[c];let o=a;const l=this;for(;i.length>0;)o=[i.shift().apply(l,o)];return o[0]}}(...n.methods)}isPatched(e){return!!this.configuration.registry[e]}patch(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:i=!1}=r;if(this.configuration.registry[e]&&this.configuration.registry[e].final)throw new Error("Failed patching '".concat(e,"': Method marked as being final"));if(typeof n!="function")throw new Error("Failed patching '".concat(e,"': Provided method is not a function"));if(i)this.configuration.registry[e]?this.configuration.registry[e].methods.push(n):this.configuration.registry[e]=Ne(n);else if(this.isPatched(e)){const{original:s}=this.configuration.registry[e];this.configuration.registry[e]=Object.assign(Ne(n),{original:s})}else this.configuration.registry[e]=Ne(n);return this}patchInline(e,n){this.isPatched(e)||this.patch(e,n);for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return this.execute(e,...i)}plugin(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(s=>{this.patch(e,s,{chain:!0})}),this}restore(e){if(!this.isPatched(e))throw new Error("Failed restoring method: No method present for key: ".concat(e));if(typeof this.configuration.registry[e].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(e));return this.configuration.registry[e].methods=[this.configuration.registry[e].original],this}setFinal(e){if(!this.configuration.registry.hasOwnProperty(e))throw new Error("Failed marking '".concat(e,"' as final: No method found for key"));return this.configuration.registry[e].final=!0,this}}let Ae=null;function ir(){return Ae||(Ae=new bi),Ae}function se(t){return function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}(t)?Object.assign({},t):Object.setPrototypeOf(Object.assign({},t),Object.getPrototypeOf(t))}function Tn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let r=null,i=[...e];for(;i.length>0;){const s=i.shift();r=r?sr(r,s):se(s)}return r}function sr(t,e){const n=se(t);return Object.keys(e).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(e[r])?n[r]=Array.isArray(n[r])?[...n[r],...e[r]]:[...e[r]]:typeof e[r]=="object"&&e[r]?n[r]=typeof n[r]=="object"&&n[r]?sr(n[r],e[r]):se(e[r]):n[r]=e[r]:n[r]=e[r]}),n}function Ei(t){const e={};for(const n of t.keys())e[n]=t.get(n);return e}function je(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length===0)return{};const r={};return e.reduce((i,s)=>(Object.keys(s).forEach(u=>{const a=u.toLowerCase();r.hasOwnProperty(a)?i[r[a]]=s[u]:(r[a]=u,i[u]=s[u])}),i),{})}L(805);const xi=typeof ArrayBuffer=="function",{toString:Ni}=Object.prototype;function or(t){return xi&&(t instanceof ArrayBuffer||Ni.call(t)==="[object ArrayBuffer]")}function ar(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Ke(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}function Fe(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const ur=Ke(function(t){const e=t._digest;return delete t._digest,e.hasDigestAuth&&(t=Tn(t,{headers:{Authorization:An(t,e)}})),Fe(oe(t),function(n){let r=!1;return i=function(u){return r?u:n},(s=function(){if(n.status==401)return e.hasDigestAuth=function(u,a){if(!er(u))return!1;const c=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const o=u.headers&&u.headers.get("www-authenticate")||"",l=c.exec(o);if(!l)break;a[l[1]]=l[2]||l[3]}return a.nc+=1,a.cnonce=function(){let o="";for(let l=0;l<32;++l)o="".concat(o).concat(fi[Math.floor(16*Math.random())]);return o}(),!0}(n,e),function(){if(e.hasDigestAuth)return Fe(oe(t=Tn(t,{headers:{Authorization:An(t,e)}})),function(u){return u.status==401?e.hasDigestAuth=!1:e.nc++,r=!0,u})}();e.nc++}())&&s.then?s.then(i):i(s);var i,s})}),Ai=Ke(function(t,e){return Fe(oe(t),function(n){return n.ok?(e.authType=nt.Password,n):n.status==401&&er(n)?(e.authType=nt.Digest,rr(e,e.username,e.password,void 0,void 0),t._digest=e.digest,ur(t)):n})}),z=Ke(function(t,e){return e.authType===nt.Auto?Ai(t,e):t._digest?ur(t):oe(t)});function X(t,e,n){const r=se(t);return r.headers=je(e.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),e.httpAgent&&(r.httpAgent=e.httpAgent),e.httpsAgent&&(r.httpsAgent=e.httpsAgent),e.digest&&(r._digest=e.digest),typeof e.withCredentials=="boolean"&&(r.withCredentials=e.withCredentials),r}function oe(t){const e=ir();return e.patchInline("request",n=>e.patchInline("fetch",mi,n.url,function(r){let i={};const s={method:r.method};if(r.headers&&(i=je(i,r.headers)),r.data!==void 0){const[u,a]=function(c){if(typeof c=="string")return[c,{}];if(ar(c))return[c,{}];if(or(c))return[c,{}];if(c&&typeof c=="object")return[JSON.stringify(c),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof c)}(r.data);s.body=u,i=je(i,a)}return r.signal&&(s.signal=r.signal),r.withCredentials&&(s.credentials="include"),s.headers=i,s}(n)),t)}var Oi=L(285);const ae=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},Ii={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Mt=t=>t.replace(/[[\]\\-]/g,"\\$&"),Rn=t=>t.join(""),Pi=(t,e)=>{const n=e;if(t.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],i=[];let s=n+1,u=!1,a=!1,c=!1,o=!1,l=n,p="";t:for(;s<t.length;){const g=t.charAt(s);if(g!=="!"&&g!=="^"||s!==n+1){if(g==="]"&&u&&!c){l=s+1;break}if(u=!0,g!=="\\"||c){if(g==="["&&!c){for(const[v,[b,m,y]]of Object.entries(Ii))if(t.startsWith(v,s)){if(p)return["$.",!1,t.length-n,!0];s+=v.length,y?i.push(b):r.push(b),a=a||m;continue t}}c=!1,p?(g>p?r.push(Mt(p)+"-"+Mt(g)):g===p&&r.push(Mt(g)),p="",s++):t.startsWith("-]",s+1)?(r.push(Mt(g+"-")),s+=2):t.startsWith("-",s+1)?(p=g,s+=2):(r.push(Mt(g)),s++)}else c=!0,s++}else o=!0,s++}if(l<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,t.length-n,!0];if(i.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!o)return[(h=r[0].length===2?r[0].slice(-1):r[0],h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,l-n,!1];var h;const d="["+(o?"^":"")+Rn(r)+"]",f="["+(o?"":"^")+Rn(i)+"]";return[r.length&&i.length?"("+d+"|"+f+")":r.length?d:f,a,l-n,!0]},Vt=function(t){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},Ti=new Set(["!","?","+","*","@"]),_n=t=>Ti.has(t),Oe="(?!\\.)",Ri=new Set(["[","."]),_i=new Set(["..","."]),Ci=new Set("().*{}+?[]^$\\!"),Ze="[^/]",Cn=Ze+"*?",Sn=Ze+"+?";var G,H,yt,F,V,Ot,Ct,It,mt,St,qt,$t,lr,Tt,ee,De,cr;const et=class et{constructor(e,n){ot(this,$t);j(this,"type");ot(this,G);ot(this,H);ot(this,yt,!1);ot(this,F,[]);ot(this,V);ot(this,Ot);ot(this,Ct);ot(this,It,!1);ot(this,mt);ot(this,St);ot(this,qt,!1);let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=e,e&&M(this,H,!0),M(this,V,n),M(this,G,P(this,V)?P(P(this,V),G):this),M(this,mt,P(this,G)===this?r:P(P(this,G),mt)),M(this,Ct,P(this,G)===this?[]:P(P(this,G),Ct)),e!=="!"||P(P(this,G),It)||P(this,Ct).push(this),M(this,Ot,P(this,V)?P(P(this,V),F).length:0)}get hasMagic(){if(P(this,H)!==void 0)return P(this,H);for(const e of P(this,F))if(typeof e!="string"&&(e.type||e.hasMagic))return M(this,H,!0);return P(this,H)}toString(){return P(this,St)!==void 0?P(this,St):this.type?M(this,St,this.type+"("+P(this,F).map(e=>String(e)).join("|")+")"):M(this,St,P(this,F).map(e=>String(e)).join(""))}push(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)if(i!==""){if(typeof i!="string"&&!(i instanceof et&&P(i,V)===this))throw new Error("invalid part: "+i);P(this,F).push(i)}}toJSON(){var n;const e=this.type===null?P(this,F).slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...P(this,F).map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===P(this,G)||P(P(this,G),It)&&((n=P(this,V))==null?void 0:n.type)==="!")&&e.push({}),e}isStart(){var n;if(P(this,G)===this)return!0;if(!((n=P(this,V))!=null&&n.isStart()))return!1;if(P(this,Ot)===0)return!0;const e=P(this,V);for(let r=0;r<P(this,Ot);r++){const i=P(e,F)[r];if(!(i instanceof et&&i.type==="!"))return!1}return!0}isEnd(){var n,r,i;if(P(this,G)===this||((n=P(this,V))==null?void 0:n.type)==="!")return!0;if(!((r=P(this,V))!=null&&r.isEnd()))return!1;if(!this.type)return(i=P(this,V))==null?void 0:i.isEnd();const e=P(this,V)?P(P(this,V),F).length:0;return P(this,Ot)===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){const n=new et(this.type,e);for(const r of P(this,F))n.copyIn(r);return n}static fromGlob(e){var i;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new et(null,void 0,n);return xt(i=et,Tt,ee).call(i,e,r,0,n),r}toMMPattern(){if(this!==P(this,G))return P(this,G).toMMPattern();const e=this.toString(),[n,r,i,s]=this.toRegExpSource();if(!(i||P(this,H)||P(this,mt).nocase&&!P(this,mt).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return r;const u=(P(this,mt).nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp("^".concat(n,"$"),u),{_src:n,_glob:e})}get options(){return P(this,mt)}toRegExpSource(e){var c;const n=e!=null?e:!!P(this,mt).dot;if(P(this,G)===this&&xt(this,$t,lr).call(this),!this.type){const o=this.isStart()&&this.isEnd(),l=P(this,F).map(d=>{var m;const[f,g,v,b]=typeof d=="string"?xt(m=et,Tt,cr).call(m,d,P(this,H),o):d.toRegExpSource(e);return M(this,H,P(this,H)||v),M(this,yt,P(this,yt)||b),f}).join("");let p="";if(this.isStart()&&typeof P(this,F)[0]=="string"&&(P(this,F).length!==1||!_i.has(P(this,F)[0]))){const d=Ri,f=n&&d.has(l.charAt(0))||l.startsWith("\\.")&&d.has(l.charAt(2))||l.startsWith("\\.\\.")&&d.has(l.charAt(4)),g=!n&&!e&&d.has(l.charAt(0));p=f?"(?!(?:^|/)\\.\\.?(?:$|/))":g?Oe:""}let h="";return this.isEnd()&&P(P(this,G),It)&&((c=P(this,V))==null?void 0:c.type)==="!"&&(h="(?:$|\\/)"),[p+l+h,Vt(l),M(this,H,!!P(this,H)),P(this,yt)]}const r=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let s=xt(this,$t,De).call(this,n);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){const o=this.toString();return M(this,F,[o]),this.type=null,M(this,H,void 0),[o,Vt(this.toString()),!1,!1]}let u=!r||e||n?"":xt(this,$t,De).call(this,!0);u===s&&(u=""),u&&(s="(?:".concat(s,")(?:").concat(u,")*?"));let a="";return a=this.type==="!"&&P(this,qt)?(this.isStart()&&!n?Oe:"")+Sn:i+s+(this.type==="!"?"))"+(!this.isStart()||n||e?"":Oe)+Cn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&u?")":this.type==="*"&&u?")?":")".concat(this.type)),[a,Vt(s),M(this,H,!!P(this,H)),P(this,yt)]}};G=new WeakMap,H=new WeakMap,yt=new WeakMap,F=new WeakMap,V=new WeakMap,Ot=new WeakMap,Ct=new WeakMap,It=new WeakMap,mt=new WeakMap,St=new WeakMap,qt=new WeakMap,$t=new WeakSet,lr=function(){if(this!==P(this,G))throw new Error("should only call on root");if(P(this,It))return this;let e;for(this.toString(),M(this,It,!0);e=P(this,Ct).pop();){if(e.type!=="!")continue;let n=e,r=P(n,V);for(;r;){for(let i=P(n,Ot)+1;!r.type&&i<P(r,F).length;i++)for(const s of P(e,F)){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(P(r,F)[i])}n=r,r=P(n,V)}}return this},Tt=new WeakSet,ee=function(e,n,r,i){var d,f;let s=!1,u=!1,a=-1,c=!1;if(n.type===null){let g=r,v="";for(;g<e.length;){const b=e.charAt(g++);if(s||b==="\\")s=!s,v+=b;else if(u)g===a+1?b!=="^"&&b!=="!"||(c=!0):b!=="]"||g===a+2&&c||(u=!1),v+=b;else if(b!=="[")if(i.noext||!_n(b)||e.charAt(g)!=="(")v+=b;else{n.push(v),v="";const m=new et(b,n);g=xt(d=et,Tt,ee).call(d,e,m,g,i),n.push(m)}else u=!0,a=g,c=!1,v+=b}return n.push(v),g}let o=r+1,l=new et(null,n);const p=[];let h="";for(;o<e.length;){const g=e.charAt(o++);if(s||g==="\\")s=!s,h+=g;else if(u)o===a+1?g!=="^"&&g!=="!"||(c=!0):g!=="]"||o===a+2&&c||(u=!1),h+=g;else if(g!=="[")if(_n(g)&&e.charAt(o)==="("){l.push(h),h="";const v=new et(g,l);l.push(v),o=xt(f=et,Tt,ee).call(f,e,v,o,i)}else if(g!=="|"){if(g===")")return h===""&&P(n,F).length===0&&M(n,qt,!0),l.push(h),h="",n.push(...p,l),o;h+=g}else l.push(h),h="",p.push(l),l=new et(null,n);else u=!0,a=o,c=!1,h+=g}return n.type=null,M(n,H,void 0),M(n,F,[e.substring(r-1)]),o},De=function(e){return P(this,F).map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[r,i,s,u]=n.toRegExpSource(e);return M(this,yt,P(this,yt)||u),r}).filter(n=>!(this.isStart()&&this.isEnd()&&!n)).join("|")},cr=function(e,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=!1,s="",u=!1;for(let a=0;a<e.length;a++){const c=e.charAt(a);if(i)i=!1,s+=(Ci.has(c)?"\\":"")+c;else if(c!=="\\"){if(c==="["){const[o,l,p,h]=Pi(e,a);if(p){s+=o,u=u||l,a+=p-1,n=n||h;continue}}c!=="*"?c!=="?"?s+=c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(s+=Ze,n=!0):(s+=r&&e==="*"?Sn:Cn,n=!0)}else a===e.length-1?s+="\\\\":i=!0}return[s,Vt(e),!!n,u]},ot(et,Tt);let ue=et;const J=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ae(e),!(!n.nocomment&&e.charAt(0)==="#")&&new le(e,n).match(t)},Si=/^\*+([^+@!?\*\[\(]*)$/,$i=t=>e=>!e.startsWith(".")&&e.endsWith(t),Li=t=>e=>e.endsWith(t),ji=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),Fi=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),Di=/^\*+\.\*+$/,ki=t=>!t.startsWith(".")&&t.includes("."),Mi=t=>t!=="."&&t!==".."&&t.includes("."),Ui=/^\.\*+$/,Bi=t=>t!=="."&&t!==".."&&t.startsWith("."),Vi=/^\*+$/,Gi=t=>t.length!==0&&!t.startsWith("."),zi=t=>t.length!==0&&t!=="."&&t!=="..",Xi=/^\?+([^+@!?\*\[\(]*)?$/,Wi=t=>{let[e,n=""]=t;const r=hr([e]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},qi=t=>{let[e,n=""]=t;const r=pr([e]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},Hi=t=>{let[e,n=""]=t;const r=pr([e]);return n?i=>r(i)&&i.endsWith(n):r},Ki=t=>{let[e,n=""]=t;const r=hr([e]);return n?i=>r(i)&&i.endsWith(n):r},hr=t=>{let[e]=t;const n=e.length;return r=>r.length===n&&!r.startsWith(".")},pr=t=>{let[e]=t;const n=e.length;return r=>r.length===n&&r!=="."&&r!==".."},dr=typeof Gt=="object"&&Gt?typeof Ee=="object"&&Ee&&Ee.__MINIMATCH_TESTING_PLATFORM__||Gt.platform:"posix";J.sep=dr==="win32"?"\\":"/";const lt=Symbol("globstar **");J.GLOBSTAR=lt,J.filter=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>J(n,t,e)};const ut=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},t,e)};J.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return J;const e=J;return Object.assign(function(n,r){return e(n,r,ut(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends e.Minimatch{constructor(n){super(n,ut(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return e.defaults(ut(t,n)).Minimatch}},AST:class extends e.AST{constructor(n,r){super(n,r,ut(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.AST.fromGlob(n,ut(t,r))}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.unescape(n,ut(t,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.escape(n,ut(t,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.filter(n,ut(t,r))},defaults:n=>e.defaults(ut(t,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.makeRe(n,ut(t,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.braceExpand(n,ut(t,r))},match:function(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.match(n,r,ut(t,i))},sep:e.sep,GLOBSTAR:lt})};const fr=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ae(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Oi(t)};J.braceExpand=fr,J.makeRe=function(t){return new le(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},J.match=function(t,e){const n=new le(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return t=t.filter(r=>n.match(r)),n.options.nonull&&!t.length&&t.push(e),t};const $n=/[?*]|[+@!]\(.*?\)|\[|\]/;class le{constructor(e){j(this,"options");j(this,"set");j(this,"pattern");j(this,"windowsPathsNoEscape");j(this,"nonegate");j(this,"negate");j(this,"comment");j(this,"empty");j(this,"preserveMultipleSlashes");j(this,"partial");j(this,"globSet");j(this,"globParts");j(this,"nocase");j(this,"isWindows");j(this,"platform");j(this,"windowsNoMagicRoot");j(this,"regexp");let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ae(e),n=n||{},this.options=n,this.pattern=e,this.platform=n.platform||dr,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const n of e)if(typeof n!="string")return!0;return!1}debug(){}make(){const e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#")return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,u,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){const c=!(s[0]!==""||s[1]!==""||s[2]!=="?"&&$n.test(s[2])||$n.test(s[3])),o=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(l=>this.parse(l))];if(o)return[s[0],...s.slice(1).map(l=>this.parse(l))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){const u=this.set[s];u[0]===""&&u[1]===""&&this.globParts[s][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let r=0;r<e.length;r++)for(let i=0;i<e[r].length;i++)e[r][i]==="**"&&(e[r][i]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=n>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let i=r;for(;n[i+1]==="**";)i++;i!==r&&n.splice(r,i-r)}return n})}levelOneOptimize(e){return e.map(n=>(n=n.reduce((r,i)=>{const s=r[r.length-1];return i==="**"&&s==="**"?r:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(r.pop(),r):(r.push(i),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){const s=e[i];i===1&&s===""&&e[0]===""||s!=="."&&s!==""||(n=!0,e.splice(i,1),i--)}e[0]!=="."||e.length!==2||e[1]!=="."&&e[1]!==""||(n=!0,e.pop())}let r=0;for(;(r=e.indexOf("..",r+1))!==-1;){const i=e[r-1];i&&i!=="."&&i!==".."&&i!=="**"&&(n=!0,e.splice(r-1,2),r-=2)}}while(n);return e.length===0?[""]:e}firstPhasePreProcess(e){let n=!1;do{n=!1;for(let r of e){let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let u=i;for(;r[u+1]==="**";)u++;u>i&&r.splice(i+1,u-i);let a=r[i+1];const c=r[i+2],o=r[i+3];if(a!==".."||!c||c==="."||c===".."||!o||o==="."||o==="..")continue;n=!0,r.splice(i,1);const l=r.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let u=1;u<r.length-1;u++){const a=r[u];u===1&&a===""&&r[0]===""||a!=="."&&a!==""||(n=!0,r.splice(u,1),u--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let s=0;for(;(s=r.indexOf("..",s+1))!==-1;){const u=r[s-1];if(u&&u!=="."&&u!==".."&&u!=="**"){n=!0;const a=s===1&&r[s+1]==="**"?["."]:[];r.splice(s-1,2,...a),r.length===0&&r.push(""),s-=2}}}}while(n);return e}secondPhasePreProcess(e){for(let n=0;n<e.length-1;n++)for(let r=n+1;r<e.length;r++){const i=this.partsMatch(e[n],e[r],!this.preserveMultipleSlashes);if(i){e[n]=[],e[r]=i;break}}return e.filter(n=>n.length)}partsMatch(e,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=0,s=0,u=[],a="";for(;i<e.length&&s<n.length;)if(e[i]===n[s])u.push(a==="b"?n[s]:e[i]),i++,s++;else if(r&&e[i]==="**"&&n[s]===e[i+1])u.push(e[i]),i++;else if(r&&n[s]==="**"&&e[i]===n[s+1])u.push(n[s]),s++;else if(e[i]!=="*"||!n[s]||!this.options.dot&&n[s].startsWith(".")||n[s]==="**"){if(n[s]!=="*"||!e[i]||!this.options.dot&&e[i].startsWith(".")||e[i]==="**"||a==="a")return!1;a="b",u.push(n[s]),i++,s++}else{if(a==="b")return!1;a="a",u.push(e[i]),i++,s++}return e.length===n.length&&u}parseNegate(){if(this.nonegate)return;const e=this.pattern;let n=!1,r=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=e.slice(r)),this.negate=n}matchOne(e,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=this.options;if(this.isWindows){const g=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),v=!g&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),b=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),m=v?3:g?0:void 0,y=!b&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:b?0:void 0;if(typeof m=="number"&&typeof y=="number"){const[E,w]=[e[m],n[y]];E.toLowerCase()===w.toLowerCase()&&(n[y]=E,y>m?n=n.slice(y):m>y&&(e=e.slice(m)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var u=0,a=0,c=e.length,o=n.length;u<c&&a<o;u++,a++){this.debug("matchOne loop");var l=n[a],p=e[u];if(this.debug(n,l,p),l===!1)return!1;if(l===lt){this.debug("GLOBSTAR",[n,l,p]);var h=u,d=a+1;if(d===o){for(this.debug("** at the end");u<c;u++)if(e[u]==="."||e[u]===".."||!i.dot&&e[u].charAt(0)===".")return!1;return!0}for(;h<c;){var f=e[h];if(this.debug("\nglobstar while",e,h,n,d,f),this.matchOne(e.slice(h),n.slice(d),r))return this.debug("globstar found match!",h,c,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,h,n,d);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",e,h,n,d),h!==c))}let g;if(typeof l=="string"?(g=p===l,this.debug("string match",l,p,g)):(g=l.test(p),this.debug("pattern match",l,p,g)),!g)return!1}if(u===c&&a===o)return!0;if(u===c)return r;if(a===o)return u===c-1&&e[u]==="";throw new Error("wtf?")}braceExpand(){return fr(this.pattern,this.options)}parse(e){ae(e);const n=this.options;if(e==="**")return lt;if(e==="")return"";let r,i=null;(r=e.match(Vi))?i=n.dot?zi:Gi:(r=e.match(Si))?i=(n.nocase?n.dot?Fi:ji:n.dot?Li:$i)(r[1]):(r=e.match(Xi))?i=(n.nocase?n.dot?qi:Wi:n.dot?Hi:Ki)(r):(r=e.match(Di))?i=n.dot?Mi:ki:(r=e.match(Ui))&&(i=Bi);const s=ue.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(n.nocase?["i"]:[]);let s=e.map(c=>{const o=c.map(l=>{if(l instanceof RegExp)for(const p of l.flags.split(""))i.add(p);return typeof l=="string"?l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):l===lt?lt:l._src});return o.forEach((l,p)=>{const h=o[p+1],d=o[p-1];l===lt&&d!==lt&&(d===void 0?h!==void 0&&h!==lt?o[p+1]="(?:\\/|"+r+"\\/)?"+h:o[p]=r:h===void 0?o[p-1]=d+"(?:\\/|"+r+")?":h!==lt&&(o[p-1]=d+"(?:\\/|\\/"+r+"\\/)"+h,o[p+1]=lt))}),o.filter(l=>l!==lt).join("/")}).join("|");const[u,a]=e.length>1?["(?:",")"]:["",""];s="^"+u+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch(c){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;const r=this.options;this.isWindows&&(e=e.split("\\").join("/"));const i=this.slashSplit(e);this.debug(this.pattern,"split",i);const s=this.set;this.debug(this.pattern,"set",s);let u=i[i.length-1];if(!u)for(let a=i.length-2;!u&&a>=0;a--)u=i[a];for(let a=0;a<s.length;a++){const c=s[a];let o=i;if(r.matchBase&&c.length===1&&(o=[u]),this.matchOne(o,c,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return J.defaults(e).Minimatch}}function Ye(t){const e=new Error("".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"","Invalid response: ").concat(t.status," ").concat(t.statusText));return e.status=t.status,e.response=t,e}function W(t,e){const{status:n}=e;if(n===401&&t.digest)return e;if(n>=400)throw Ye(e);return e}function Lt(t,e){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:e,headers:t.headers?Ei(t.headers):{},status:t.status,statusText:t.statusText}:e}J.AST=ue,J.Minimatch=le,J.escape=function(t){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&")},J.unescape=Vt;const Zi=(Ln=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=X({url:k(t.remoteURL,D(e)),method:"COPY",headers:{Destination:k(t.remoteURL,D(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},t,r);return u=function(a){W(t,a)},(s=z(i,t))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(Ln.apply(this,t))}catch(n){return Promise.reject(n)}});var Ln,Je=L(635),Yi=L(829),vt=L.n(Yi),jt=function(t){return t.Array="array",t.Object="object",t.Original="original",t}(jt||{});function Qt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jt.Original;const r=vt().get(t,e);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function Kt(t){return new Promise(e=>{e(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const i={multistatus:Array.isArray(r)?r[0]:r};return vt().set(i,"multistatus.response",Qt(i,"multistatus.response",jt.Array)),vt().set(i,"multistatus.response",vt().get(i,"multistatus.response").map(s=>function(u){const a=Object.assign({},u);return a.status?vt().set(a,"status",Qt(a,"status",jt.Object)):(vt().set(a,"propstat",Qt(a,"propstat",jt.Object)),vt().set(a,"propstat.prop",Qt(a,"propstat.prop",jt.Object))),a}(s))),i}(new Je.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(t)))})}function de(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:i="0",resourcetype:s=null,getcontenttype:u=null,getetag:a=null}=t,c=s&&typeof s=="object"&&s.collection!==void 0?"directory":"file",o={filename:e,basename:re().basename(e),lastmod:r,size:parseInt(i,10),type:c,etag:typeof a=="string"?a.replace(/"/g,""):null};return c==="file"&&(o.mime=u&&typeof u=="string"?u.split(";")[0]:""),n&&(t.displayname!==void 0&&(t.displayname=String(t.displayname)),o.props=t),o}function gr(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{t.multistatus.response[0].propstat&&(r=t.multistatus.response[0])}catch(l){}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:i,status:s}}=r,[u,a,c]=s.split(" ",3),o=parseInt(a,10);if(o>=400){const l=new Error("Invalid response: ".concat(o," ").concat(c));throw l.status=o,l}return de(i,Xt(e),n)}function mr(t){switch(String(t)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(t),10)}}function Ie(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const Qe=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=X({url:k(t.remoteURL,D(e)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},t,n);return Ie(z(i,t),function(s){return W(t,s),Ie(s.text(),function(u){return Ie(Kt(u),function(a){const c=gr(a,e,r);return Lt(s,c,r)})})})});function vr(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const Ji=yr(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(s){if(!s||s==="/")return[];let u=s;const a=[];do a.push(u),u=re().dirname(u);while(u&&u!=="/");return a}(Xt(e));r.sort((s,u)=>s.length>u.length?1:u.length>s.length?-1:0);let i=!1;return function(s,u,a){if(typeof s[Fn]=="function"){let g=function(v){try{for(;!(c=p.next()).done;)if((v=u(c.value))&&v.then){if(!Dn(v))return void v.then(g,l||(l=rt.bind(null,o=new Ft,2)));v=v.v}o?rt(o,1,v):o=v}catch(b){rt(o||(o=new Ft),2,b)}};var c,o,l,p=s[Fn]();if(g(),p.return){var h=function(v){try{c.done||p.return()}catch(b){}return v};if(o&&o.then)return o.then(h,function(v){throw h(v)});h()}return o}if(!("length"in s))throw new TypeError("Object is not iterable");for(var d=[],f=0;f<s.length;f++)d.push(s[f]);return function(g,v,b){var m,y,E=-1;return function w(A){try{for(;++E<g.length&&(!b||!b());)if((A=v(E))&&A.then){if(!Dn(A))return void A.then(w,y||(y=rt.bind(null,m=new Ft,2)));A=A.v}m?rt(m,1,A):m=A}catch(x){rt(m||(m=new Ft),2,x)}}(),m}(d,function(g){return u(d[g])},a)}(r,function(s){return u=function(){return function(c,o){try{var l=vr(Qe(t,s),function(p){if(p.type!=="directory")throw new Error("Path includes a file: ".concat(e))})}catch(p){return o(p)}return l&&l.then?l.then(void 0,o):l}(0,function(c){const o=c;return function(){if(o.status===404)return i=!0,jn(ke(t,s,gt(st({},n),{recursive:!1})));throw c}()})},(a=function(){if(i)return jn(ke(t,s,gt(st({},n),{recursive:!1})))}())&&a.then?a.then(u):u();var u,a},function(){return!1})});function yr(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}function Qi(){}function jn(t,e){return t&&t.then?t.then(Qi):Promise.resolve()}const Fn=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function rt(t,e,n){if(!t.s){if(n instanceof Ft){if(!n.s)return void(n.o=rt.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(rt.bind(null,t,e),rt.bind(null,t,2));t.s=e,t.v=n;const r=t.o;r&&r(t)}}const Ft=function(){function t(){}return t.prototype.then=function(e,n){const r=new t,i=this.s;if(i){const s=1&i?e:n;if(s){try{rt(r,1,s(this.v))}catch(u){rt(r,2,u)}return r}return this}return this.o=function(s){try{const u=s.v;1&s.s?rt(r,1,e?e(u):u):n?rt(r,1,n(u)):rt(r,2,u)}catch(u){rt(r,2,u)}},r},t}();function Dn(t){return t instanceof Ft&&1&t.s}const ke=yr(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return Ji(t,e,n);const r=X({url:k(t.remoteURL,(i=D(e),i.endsWith("/")?i:i+"/")),method:"MKCOL"},t,n);var i;return vr(z(r,t),function(s){W(t,s)})});var ts=L(388),kn=L.n(ts);const es=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let a="bytes=".concat(n.range.start,"-");typeof n.range.end=="number"&&(a="".concat(a).concat(n.range.end)),r.Range=a}const i=X({url:k(t.remoteURL,D(e)),method:"GET",headers:r},t,n);return u=function(a){if(W(t,a),r.Range&&a.status!==206){const c=new Error("Invalid response code for partial request: ".concat(a.status));throw c.status=a.status,c}return n.callback&&setTimeout(()=>{n.callback(a)},0),a.body},(s=z(i,t))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u}),ns=()=>{},rs=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e,n){n.url||(n.url=k(t.remoteURL,D(e)));const r=X(n,t,{});return s=function(u){return W(t,u),u},(i=z(r,t))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s}),is=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e)),method:"DELETE"},t,n);return s=function(u){W(t,u)},(i=z(r,t))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s}),ss=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,i){try{var s=(u=Qe(t,e,n),a=function(){return!0},c?a?a(u):u:(u&&u.then||(u=Promise.resolve(u)),a?u.then(a):u))}catch(o){return i(o)}var u,a,c;return s&&s.then?s.then(void 0,i):s}(0,function(r){if(r.status===404)return!1;throw r})});function Pe(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const os=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},t,n);return Pe(z(r,t),function(i){return W(t,i),Pe(i.text(),function(s){if(!s)throw new Error("Failed parsing directory contents: Empty response");return Pe(Kt(s),function(u){const a=Nn(e);let c=function(o,l,p){let h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const f=re().join(l,"/"),{multistatus:{response:g}}=o,v=g.map(b=>{const m=function(E){try{return E.replace(/^https?:\/\/[^\/]+/,"")}catch(w){throw new it(w,"Failed normalising HREF")}}(b.href),{propstat:{prop:y}}=b;return de(y,f==="/"?decodeURIComponent(Xt(m)):Xt(re().relative(decodeURIComponent(f),decodeURIComponent(m))),h)});return d?v:v.filter(b=>b.basename&&(b.type==="file"||b.filename!==p.replace(/\/$/,"")))}(u,Nn(t.remoteBasePath||t.remotePath),a,n.details,n.includeSelf);return n.glob&&(c=function(o,l){return o.filter(p=>J(p.filename,l,{matchBase:!0}))}(c,n.glob)),Lt(i,c,n.details)})})})});function tn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}const as=tn(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[cs]},t,n);return ce(z(r,t),function(i){return W(t,i),ce(i.text(),function(s){return Lt(i,s,n.details)})})});function ce(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const us=tn(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e)),method:"GET"},t,n);return ce(z(r,t),function(i){let s;return W(t,i),function(u,a){var c=u();return c&&c.then?c.then(a):a()}(function(){return ce(i.arrayBuffer(),function(u){s=u})},function(){return Lt(i,s,n.details)})})}),ls=tn(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new it({info:{code:bt.InvalidOutputFormat}},"Invalid output format: ".concat(r));return r==="text"?as(t,e,n):us(t,e,n)}),cs=t=>t;function hs(t){return new Je.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(wr({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:t}}},"d"))}function wr(t,e){const n=st({},t);for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n["".concat(e,":").concat(r)]=wr(n[r],e),delete n[r]):/^@_/.test(r)===!1&&(n["".concat(e,":").concat(r)]=n[r],delete n[r]));return n}function Me(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}function br(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}const ps=br(function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=X({url:k(t.remoteURL,D(e)),method:"UNLOCK",headers:{"Lock-Token":n}},t,r);return Me(z(i,t),function(s){if(W(t,s),s.status!==204&&s.status!==200)throw Ye(s)})}),ds=br(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:i=fs}=n,s={Accept:"text/plain,application/xml",Timeout:i};r&&(s.If=r);const u=X({url:k(t.remoteURL,D(e)),method:"LOCK",headers:s,data:hs(t.contactHref)},t,n);return Me(z(u,t),function(a){return W(t,a),Me(a.text(),function(c){const o=(h=c,new Je.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(h)),l=vt().get(o,"prop.lockdiscovery.activelock.locktoken.href"),p=vt().get(o,"prop.lockdiscovery.activelock.timeout");var h;if(!l)throw Ye(a,"No lock token received: ");return{token:l,serverTimeout:p}})})}),fs="Infinite, Second-4100000000";function Te(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const gs=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.path||"/",r=X({url:k(t.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},t,e);return Te(z(r,t),function(i){return W(t,i),Te(i.text(),function(s){return Te(Kt(s),function(u){const a=function(c){try{const[o]=c.multistatus.response,{propstat:{prop:{"quota-used-bytes":l,"quota-available-bytes":p}}}=o;return l!==void 0&&p!==void 0?{used:parseInt(String(l),10),available:mr(p)}:null}catch(o){}return null}(u);return Lt(i,a,e.details)})})})});function Re(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const ms=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=X({url:k(t.remoteURL,D(e)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":t.headers["Content-Type"]||"application/xml; charset=utf-8"}},t,n);return Re(z(i,t),function(s){return W(t,s),Re(s.text(),function(u){return Re(Kt(u),function(a){const c=function(o,l,p){const h={truncated:!1,results:[]};return h.truncated=o.multistatus.response.some(d=>{var f,g;return((g=(d.status||((f=d.propstat)==null?void 0:f.status)).split(" ",3))==null?void 0:g[1])==="507"&&d.href.replace(/\/$/,"").endsWith(D(l).replace(/\/$/,""))}),o.multistatus.response.forEach(d=>{if(d.propstat===void 0)return;const f=d.href.split("/").map(decodeURIComponent).join("/");h.results.push(de(d.propstat.prop,f,p))}),h}(a,e,r);return Lt(s,c,r)})})})}),vs=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=X({url:k(t.remoteURL,D(e)),method:"MOVE",headers:{Destination:k(t.remoteURL,D(n)),Overwrite:r.overwrite===!1?"F":"T"}},t,r);return u=function(a){W(t,a)},(s=z(i,t))&&s.then||(s=Promise.resolve(s)),u?s.then(u):s;var s,u});var ys=L(172);const ws=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:i=!0,overwrite:s=!0}=r,u={"Content-Type":"application/octet-stream"};i===!1||(u["Content-Length"]=typeof i=="number"?"".concat(i):"".concat(function(l){if(or(l))return l.byteLength;if(ar(l))return l.length;if(typeof l=="string")return(0,ys.d)(l);throw new it({info:{code:bt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n))),s||(u["If-None-Match"]="*");const a=X({url:k(t.remoteURL,D(e)),method:"PUT",headers:u,data:n},t,r);return o=function(l){try{W(t,l)}catch(p){const h=p;if(h.status!==412||s)throw h;return!1}return!0},(c=z(a,t))&&c.then||(c=Promise.resolve(c)),o?c.then(o):c;var c,o}),Er=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=X({url:k(t.remoteURL,D(e)),method:"OPTIONS"},t,n);return s=function(u){var a,c;try{W(t,u)}catch(o){throw o}return{compliance:((a=u.headers.get("DAV"))!=null?a:"").split(",").map(o=>o.trim()),server:(c=u.headers.get("Server"))!=null?c:""}},(i=z(r,t))&&i.then||(i=Promise.resolve(i)),s?i.then(s):i;var i,s});function zt(t,e,n){return t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t}const bs=en(function(t,e,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new it({info:{code:bt.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const u={"Content-Type":"application/octet-stream","Content-Length":""+(r-n+1),"Content-Range":"bytes ".concat(n,"-").concat(r,"/*")},a=X({url:k(t.remoteURL,D(e)),method:"PUT",headers:u,data:i},t,s);return zt(z(a,t),function(c){W(t,c)})});function Mn(t,e){var n=t();return n&&n.then?n.then(e):e(n)}const Es=en(function(t,e,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new it({info:{code:bt.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const u={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-n+1),"X-Update-Range":"bytes=".concat(n,"-").concat(r)},a=X({url:k(t.remoteURL,D(e)),method:"PATCH",headers:u,data:i},t,s);return zt(z(a,t),function(c){W(t,c)})});function en(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(r){return Promise.reject(r)}}}const xs=en(function(t,e,n,r,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return zt(Er(t,e,s),function(u){let a=!1;return Mn(function(){if(u.compliance.includes("sabredav-partialupdate"))return zt(Es(t,e,n,r,i,s),function(c){return a=!0,c})},function(c){let o=!1;return a?c:Mn(function(){if(u.server.includes("Apache")&&u.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return zt(bs(t,e,n,r,i,s),function(l){return o=!0,l})},function(l){if(o)return l;throw new it({info:{code:bt.NotSupported}},"Not supported")})})})}),Ns="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function As(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:i=Ns,ha1:s,headers:u={},httpAgent:a,httpsAgent:c,password:o,token:l,username:p,withCredentials:h}=e;let d=n;d||(d=p||o?nt.Password:nt.None);const f={authType:d,remoteBasePath:r,contactHref:i,ha1:s,headers:Object.assign({},u),httpAgent:a,httpsAgent:c,password:o,remotePath:pi(t),remoteURL:t,token:l,username:p,withCredentials:h};return rr(f,p,o,l,s),{copyFile:(g,v,b)=>Zi(f,g,v,b),createDirectory:(g,v)=>ke(f,g,v),createReadStream:(g,v)=>function(b,m){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const E=new(kn()).PassThrough;return es(b,m,y).then(w=>{w.pipe(E)}).catch(w=>{E.emit("error",w)}),E}(f,g,v),createWriteStream:(g,v,b)=>function(m,y){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ns;const A=new(kn()).PassThrough,x={};E.overwrite===!1&&(x["If-None-Match"]="*");const N=X({url:k(m.remoteURL,D(y)),method:"PUT",headers:x,data:A,maxRedirects:0},m,E);return z(N,m).then(O=>W(m,O)).then(O=>{setTimeout(()=>{w(O)},0)}).catch(O=>{A.emit("error",O)}),A}(f,g,v,b),customRequest:(g,v)=>rs(f,g,v),deleteFile:(g,v)=>is(f,g,v),exists:(g,v)=>ss(f,g,v),getDirectoryContents:(g,v)=>os(f,g,v),getFileContents:(g,v)=>ls(f,g,v),getFileDownloadLink:g=>function(v,b){let m=k(v.remoteURL,D(b));const y=/^https:/i.test(m)?"https":"http";switch(v.authType){case nt.None:break;case nt.Password:{const E=On(v.headers.Authorization.replace(/^Basic /i,"").trim());m=m.replace(/^https?:\/\//,"".concat(y,"://").concat(E,"@"));break}default:throw new it({info:{code:bt.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(v.authType))}return m}(f,g),getFileUploadLink:g=>function(v,b){let m="".concat(k(v.remoteURL,D(b)),"?Content-Type=application/octet-stream");const y=/^https:/i.test(m)?"https":"http";switch(v.authType){case nt.None:break;case nt.Password:{const E=On(v.headers.Authorization.replace(/^Basic /i,"").trim());m=m.replace(/^https?:\/\//,"".concat(y,"://").concat(E,"@"));break}default:throw new it({info:{code:bt.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(v.authType))}return m}(f,g),getHeaders:()=>Object.assign({},f.headers),getQuota:g=>gs(f,g),lock:(g,v)=>ds(f,g,v),moveFile:(g,v,b)=>vs(f,g,v,b),putFileContents:(g,v,b)=>ws(f,g,v,b),partialUpdateFileContents:(g,v,b,m,y)=>xs(f,g,v,b,m,y),getDAVCompliance:g=>Er(f,g),search:(g,v)=>ms(f,g,v),setHeaders:g=>{f.headers=Object.assign({},g)},stat:(g,v)=>Qe(f,g,v),unlock:(g,v,b)=>ps(f,g,v,b)}}pt.hT,pt.O4,pt.Kd,pt.YK;var Os=pt.UU,Is=pt.Gu,Ps=pt.ky,Ts=pt.h4;pt.ch,pt.hq,pt.i5;function nn(){var t;return(t=We("files_sharing","isPublic",null))!=null?t:document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function Rs(){var t,e,n;return(n=(e=We("files_sharing","sharingToken",null))!=null?e:(t=document.querySelector('input#sharingToken[type="hidden"]'))==null?void 0:t.value)!=null?n:null}const Ue=Se().setApp("@nextcloud/files").detectUser().build();var ht=(t=>(t[t.NONE=0]="NONE",t[t.CREATE=4]="CREATE",t[t.READ=1]="READ",t[t.UPDATE=2]="UPDATE",t[t.DELETE=8]="DELETE",t[t.SHARE=16]="SHARE",t[t.ALL=31]="ALL",t))(ht||{}),fe=(t=>(t.Folder="folder",t.File="file",t))(fe||{});const xr=function(t,e){return t.match(e)!==null},Un=(t,e)=>{if(t.id&&typeof t.id!="number")throw new Error("Invalid id type of value");if(!t.source)throw new Error("Missing mandatory source");try{new URL(t.source)}catch(n){throw new Error("Invalid source format, source must be a valid URL")}if(!t.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(t.displayname&&typeof t.displayname!="string")throw new Error("Invalid displayname type");if(t.mtime&&!(t.mtime instanceof Date))throw new Error("Invalid mtime type");if(t.crtime&&!(t.crtime instanceof Date))throw new Error("Invalid crtime type");if(!t.mime||typeof t.mime!="string"||!t.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in t&&typeof t.size!="number"&&t.size!==void 0)throw new Error("Invalid size type");if("permissions"in t&&t.permissions!==void 0&&!(typeof t.permissions=="number"&&t.permissions>=ht.NONE&&t.permissions<=ht.ALL))throw new Error("Invalid permissions");if(t.owner&&t.owner!==null&&typeof t.owner!="string")throw new Error("Invalid owner type");if(t.attributes&&typeof t.attributes!="object")throw new Error("Invalid attributes type");if(t.root&&typeof t.root!="string")throw new Error("Invalid root type");if(t.root&&!t.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(t.root&&!t.source.includes(t.root))throw new Error("Root must be part of the source");if(t.root&&xr(t.source,e)){const n=t.source.match(e)[0];if(!t.source.includes(ct.join(n,t.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(t.status&&!Object.values(rn).includes(t.status))throw new Error("Status must be a valid NodeStatus")};var rn=(t=>(t.NEW="new",t.FAILED="failed",t.LOADING="loading",t.LOCKED="locked",t))(rn||{});class ge{constructor(e,n){j(this,"_data");j(this,"_attributes");j(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);j(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(ge.prototype)).filter(e=>typeof e[1].get=="function"&&e[0]!=="__proto__").map(e=>e[0]));j(this,"handler",{set:(e,n,r)=>this.readonlyAttributes.includes(n)?!1:Reflect.set(e,n,r),deleteProperty:(e,n)=>this.readonlyAttributes.includes(n)?!1:Reflect.deleteProperty(e,n),get:(e,n,r)=>this.readonlyAttributes.includes(n)?(Ue.warn('Accessing "Node.attributes.'.concat(n,'" is deprecated, access it directly on the Node instance.')),Reflect.get(this,n)):Reflect.get(e,n,r)});var r,i;Un(e,n||this._knownDavService),this._data=gt(st({displayname:(r=e.attributes)==null?void 0:r.displayname},e),{attributes:{}}),this._attributes=new Proxy(this._data.attributes,this.handler),this.update((i=e.attributes)!=null?i:{}),n&&(this._knownDavService=n)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:e}=new URL(this.source);return e+ri(this.source.slice(e.length))}get basename(){return ct.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(e){this._data.displayname=e}get extension(){return ct.extname(this.source)}get dirname(){if(this.root){let n=this.source;this.isDavResource&&(n=n.split(this._knownDavService).pop());const r=n.indexOf(this.root),i=this.root.replace(/\/$/,"");return ct.dirname(n.slice(r+i.length)||"/")}const e=new URL(this.source);return ct.dirname(e.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}set mtime(e){this._data.mtime=e}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(e){this.updateMtime(),this._data.size=e}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?ht.READ:this._data.permissions!==void 0?this._data.permissions:ht.NONE}set permissions(e){this.updateMtime(),this._data.permissions=e}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return xr(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&ct.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let e=this.source;this.isDavResource&&(e=e.split(this._knownDavService).pop());const n=e.indexOf(this.root),r=this.root.replace(/\/$/,"");return e.slice(n+r.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){var e;return(e=this._data)==null?void 0:e.id}get status(){var e;return(e=this._data)==null?void 0:e.status}set status(e){this._data.status=e}get data(){return structuredClone(this._data)}move(e){Un(gt(st({},this._data),{source:e}),this._knownDavService);const n=this.basename;this._data.source=e,this.displayname===n&&this.basename!==n&&(this.displayname=this.basename),this.updateMtime()}rename(e){if(e.includes("/"))throw new Error("Invalid basename");this.move(ct.dirname(this.source)+"/"+e)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(e){for(const[n,r]of Object.entries(e))try{r===void 0?delete this.attributes[n]:this.attributes[n]=r}catch(i){if(i instanceof TypeError)continue;throw i}}}class sn extends ge{get type(){return fe.File}clone(){return new sn(this.data)}}class on extends ge{constructor(e){super(gt(st({},e),{mime:"httpd/unix-directory"}))}get type(){return fe.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new on(this.data)}}const _s=function(t=""){let e=ht.NONE;return t&&((t.includes("C")||t.includes("K"))&&(e|=ht.CREATE),t.includes("G")&&(e|=ht.READ),(t.includes("W")||t.includes("N")||t.includes("V"))&&(e|=ht.UPDATE),t.includes("D")&&(e|=ht.DELETE),t.includes("R")&&(e|=ht.SHARE)),e},Cs=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],Ss={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},$s=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...Cs]),window._nc_dav_properties.map(t=>"<".concat(t," />")).join(" ")},Ls=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces=st({},Ss)),Object.keys(window._nc_dav_namespaces).map(t=>{var e;return"xmlns:".concat(t,'="').concat((e=window._nc_dav_namespaces)==null?void 0:e[t],'"')}).join(" ")},js=function(){return'<?xml version="1.0"?>\n		<d:propfind '.concat(Ls(),">\n			<d:prop>\n				").concat($s(),"\n			</d:prop>\n		</d:propfind>")};function Fs(){var t;return nn()?"/files/".concat(Rs()):"/files/".concat((t=he())==null?void 0:t.uid)}const Ds=Fs();function ks(){const t=Br("dav");return nn()?t.replace("remote.php","public.php"):t}const Nr=ks(),Ms=function(t=Nr,e={}){const n=Os(t,{headers:e});function r(i){n.setHeaders(gt(st({},e),{"X-Requested-With":"XMLHttpRequest",requesttoken:i!=null?i:""}))}return Vr(r),r(Gr()),Is().patch("fetch",(i,s)=>{const u=s.headers;return u!=null&&u.method&&(s.method=u.method,delete u.method),fetch(i,s)}),n},Us=function(t,e=Ds,n=Nr){var p,h;let r=(p=he())==null?void 0:p.uid;if(nn())r=r!=null?r:"anonymous";else if(!r)throw new Error("No user id found");const i=t.props,s=_s(i==null?void 0:i.permissions),u=String((i==null?void 0:i["owner-id"])||r),a=i.fileid||0,c=new Date(Date.parse(t.lastmod)),o=new Date(Date.parse(i.creationdate)),l={id:a,source:"".concat(n).concat(t.filename),mtime:!isNaN(c.getTime())&&c.getTime()!==0?c:void 0,crtime:!isNaN(o.getTime())&&o.getTime()!==0?o:void 0,mime:t.mime||"application/octet-stream",displayname:i.displayname!==void 0?String(i.displayname):void 0,size:(i==null?void 0:i.size)||Number.parseInt(i.getcontentlength||"0"),status:a<0?rn.FAILED:void 0,permissions:s,owner:u,root:e,attributes:gt(st(st({},t),i),{hasPreview:i==null?void 0:i["has-preview"]})};return(h=l.attributes)==null||delete h.props,t.type==="file"?new sn(l):new on(l)};var _e={},an=(t=>(t.DEFAULT="default",t.HIDDEN="hidden",t))(an||{});class Bs{constructor(e){j(this,"_action");this.validateAction(e),this._action=e}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get destructive(){return this._action.destructive}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(e){if(!e.id||typeof e.id!="string")throw new Error("Invalid id");if(!e.displayName||typeof e.displayName!="function")throw new Error("Invalid displayName function");if("title"in e&&typeof e.title!="function")throw new Error("Invalid title function");if(!e.iconSvgInline||typeof e.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!e.exec||typeof e.exec!="function")throw new Error("Invalid exec function");if("enabled"in e&&typeof e.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in e&&typeof e.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in e&&typeof e.order!="number")throw new Error("Invalid order");if(e.destructive!==void 0&&typeof e.destructive!="boolean")throw new Error("Invalid destructive flag");if("parent"in e&&typeof e.parent!="string")throw new Error("Invalid parent");if(e.default&&!Object.values(an).includes(e.default))throw new Error("Invalid default");if("inline"in e&&typeof e.inline!="function")throw new Error("Invalid inline function");if("renderInline"in e&&typeof e.renderInline!="function")throw new Error("Invalid renderInline function")}}const Vs=function(t){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],Ue.debug("FileActions initialized")),window._nc_fileactions.find(e=>e.id===t.id)){Ue.error("FileAction ".concat(t.id," already registered"),{action:t});return}window._nc_fileactions.push(t)};var Gs={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",i=new RegExp("^"+r+"$"),s=function(a,c){const o=[];let l=c.exec(a);for(;l;){const p=[];p.startIndex=c.lastIndex-l[0].length;const h=l.length;for(let d=0;d<h;d++)p.push(l[d]);o.push(p),l=c.exec(a)}return o},u=function(a){const c=i.exec(a);return!(c===null||typeof c>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,c,o){if(c){const l=Object.keys(c),p=l.length;for(let h=0;h<p;h++)o==="strict"?a[l[h]]=[c[l[h]]]:a[l[h]]=c[l[h]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=u,t.getAllMatches=s,t.nameRegexp=r})(Gs),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const zs=typeof Gt=="object"&&_e&&_e.NODE_DEBUG&&/\bsemver\b/i.test(_e.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Xs=zs;const Ws="2.0.0",Ar=256,qs=Number.MAX_SAFE_INTEGER||9007199254740991,Hs=16,Ks=Ar-6,Zs=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ys={MAX_LENGTH:Ar,MAX_SAFE_COMPONENT_LENGTH:Hs,MAX_SAFE_BUILD_LENGTH:Ks,MAX_SAFE_INTEGER:qs,RELEASE_TYPES:Zs,SEMVER_SPEC_VERSION:Ws,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Bn={exports:{}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Ys,s=Xs;e=t.exports={};const u=e.re=[],a=e.safeRe=[],c=e.src=[],o=e.t={};let l=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,r]],d=g=>{for(const[v,b]of h)g=g.split("".concat(v,"*")).join("".concat(v,"{0,").concat(b,"}")).split("".concat(v,"+")).join("".concat(v,"{1,").concat(b,"}"));return g},f=(g,v,b)=>{const m=d(v),y=l++;s(g,y,v),o[g]=y,c[y]=v,u[y]=new RegExp(v,b?"g":void 0),a[y]=new RegExp(m,b?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(p,"*")),f("MAINVERSION","(".concat(c[o.NUMERICIDENTIFIER],")\\.(").concat(c[o.NUMERICIDENTIFIER],")\\.(").concat(c[o.NUMERICIDENTIFIER],")")),f("MAINVERSIONLOOSE","(".concat(c[o.NUMERICIDENTIFIERLOOSE],")\\.(").concat(c[o.NUMERICIDENTIFIERLOOSE],")\\.(").concat(c[o.NUMERICIDENTIFIERLOOSE],")")),f("PRERELEASEIDENTIFIER","(?:".concat(c[o.NUMERICIDENTIFIER],"|").concat(c[o.NONNUMERICIDENTIFIER],")")),f("PRERELEASEIDENTIFIERLOOSE","(?:".concat(c[o.NUMERICIDENTIFIERLOOSE],"|").concat(c[o.NONNUMERICIDENTIFIER],")")),f("PRERELEASE","(?:-(".concat(c[o.PRERELEASEIDENTIFIER],"(?:\\.").concat(c[o.PRERELEASEIDENTIFIER],")*))")),f("PRERELEASELOOSE","(?:-?(".concat(c[o.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(c[o.PRERELEASEIDENTIFIERLOOSE],")*))")),f("BUILDIDENTIFIER","".concat(p,"+")),f("BUILD","(?:\\+(".concat(c[o.BUILDIDENTIFIER],"(?:\\.").concat(c[o.BUILDIDENTIFIER],")*))")),f("FULLPLAIN","v?".concat(c[o.MAINVERSION]).concat(c[o.PRERELEASE],"?").concat(c[o.BUILD],"?")),f("FULL","^".concat(c[o.FULLPLAIN],"$")),f("LOOSEPLAIN","[v=\\s]*".concat(c[o.MAINVERSIONLOOSE]).concat(c[o.PRERELEASELOOSE],"?").concat(c[o.BUILD],"?")),f("LOOSE","^".concat(c[o.LOOSEPLAIN],"$")),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE","".concat(c[o.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),f("XRANGEIDENTIFIER","".concat(c[o.NUMERICIDENTIFIER],"|x|X|\\*")),f("XRANGEPLAIN","[v=\\s]*(".concat(c[o.XRANGEIDENTIFIER],")(?:\\.(").concat(c[o.XRANGEIDENTIFIER],")(?:\\.(").concat(c[o.XRANGEIDENTIFIER],")(?:").concat(c[o.PRERELEASE],")?").concat(c[o.BUILD],"?)?)?")),f("XRANGEPLAINLOOSE","[v=\\s]*(".concat(c[o.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(c[o.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(c[o.XRANGEIDENTIFIERLOOSE],")(?:").concat(c[o.PRERELEASELOOSE],")?").concat(c[o.BUILD],"?)?)?")),f("XRANGE","^".concat(c[o.GTLT],"\\s*").concat(c[o.XRANGEPLAIN],"$")),f("XRANGELOOSE","^".concat(c[o.GTLT],"\\s*").concat(c[o.XRANGEPLAINLOOSE],"$")),f("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(n,"})(?:\\.(\\d{1,").concat(n,"}))?(?:\\.(\\d{1,").concat(n,"}))?")),f("COERCE","".concat(c[o.COERCEPLAIN],"(?:$|[^\\d])")),f("COERCEFULL",c[o.COERCEPLAIN]+"(?:".concat(c[o.PRERELEASE],")?(?:").concat(c[o.BUILD],")?(?:$|[^\\d])")),f("COERCERTL",c[o.COERCE],!0),f("COERCERTLFULL",c[o.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM","(\\s*)".concat(c[o.LONETILDE],"\\s+"),!0),e.tildeTrimReplace="$1~",f("TILDE","^".concat(c[o.LONETILDE]).concat(c[o.XRANGEPLAIN],"$")),f("TILDELOOSE","^".concat(c[o.LONETILDE]).concat(c[o.XRANGEPLAINLOOSE],"$")),f("LONECARET","(?:\\^)"),f("CARETTRIM","(\\s*)".concat(c[o.LONECARET],"\\s+"),!0),e.caretTrimReplace="$1^",f("CARET","^".concat(c[o.LONECARET]).concat(c[o.XRANGEPLAIN],"$")),f("CARETLOOSE","^".concat(c[o.LONECARET]).concat(c[o.XRANGEPLAINLOOSE],"$")),f("COMPARATORLOOSE","^".concat(c[o.GTLT],"\\s*(").concat(c[o.LOOSEPLAIN],")$|^$")),f("COMPARATOR","^".concat(c[o.GTLT],"\\s*(").concat(c[o.FULLPLAIN],")$|^$")),f("COMPARATORTRIM","(\\s*)".concat(c[o.GTLT],"\\s*(").concat(c[o.LOOSEPLAIN],"|").concat(c[o.XRANGEPLAIN],")"),!0),e.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE","^\\s*(".concat(c[o.XRANGEPLAIN],")\\s+-\\s+(").concat(c[o.XRANGEPLAIN],")\\s*$")),f("HYPHENRANGELOOSE","^\\s*(".concat(c[o.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(c[o.XRANGEPLAINLOOSE],")\\s*$")),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Bn,Bn.exports);var un={},me={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",i=new RegExp("^"+r+"$"),s=function(a,c){const o=[];let l=c.exec(a);for(;l;){const p=[];p.startIndex=c.lastIndex-l[0].length;const h=l.length;for(let d=0;d<h;d++)p.push(l[d]);o.push(p),l=c.exec(a)}return o},u=function(a){const c=i.exec(a);return!(c===null||typeof c>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,c,o){if(c){const l=Object.keys(c),p=l.length;for(let h=0;h<p;h++)o==="strict"?a[l[h]]=[c[l[h]]]:a[l[h]]=c[l[h]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=u,t.getAllMatches=s,t.nameRegexp=r})(me);const ln=me,Js={allowBooleanAttributes:!1,unpairedTags:[]};un.validate=function(t,e){e=Object.assign({},Js,e);const n=[];let r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=Gn(t,s),s.err)return s}else if(t[s]==="<"){let u=s;if(s++,t[s]==="!"){s=zn(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let c="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!=="\n"&&t[s]!=="\r";s++)c+=t[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!oo(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",U("InvalidTag",p,tt(t,s))}const o=eo(t,s);if(o===!1)return U("InvalidAttr","Attributes for '"+c+"' have open quote.",tt(t,s));let l=o.value;if(s=o.index,l[l.length-1]==="/"){const p=s-l.length;l=l.substring(0,l.length-1);const h=Xn(l,e);if(h===!0)r=!0;else return U(h.err.code,h.err.msg,tt(t,p+h.err.line))}else if(a)if(o.tagClosed){if(l.trim().length>0)return U("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",tt(t,u));if(n.length===0)return U("InvalidTag","Closing tag '"+c+"' has not been opened.",tt(t,u));{const p=n.pop();if(c!==p.tagName){let h=tt(t,p.tagStartPos);return U("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",tt(t,u))}n.length==0&&(i=!0)}}else return U("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",tt(t,s));else{const p=Xn(l,e);if(p!==!0)return U(p.err.code,p.err.msg,tt(t,s-l.length+p.err.line));if(i===!0)return U("InvalidXml","Multiple possible root nodes found.",tt(t,s));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:u}),r=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=zn(t,s);continue}else if(t[s+1]==="?"){if(s=Gn(t,++s),s.err)return s}else break;else if(t[s]==="&"){const p=io(t,s);if(p==-1)return U("InvalidChar","char '&' is not expected.",tt(t,s));s=p}else if(i===!0&&!Vn(t[s]))return U("InvalidXml","Extra text at the end",tt(t,s));t[s]==="<"&&s--}}else{if(Vn(t[s]))continue;return U("InvalidChar","char '"+t[s]+"' is not expected.",tt(t,s))}if(r){if(n.length==1)return U("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",tt(t,n[0].tagStartPos));if(n.length>0)return U("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return U("InvalidXml","Start tag expected.",1);return!0};function Vn(t){return t===" "||t==="	"||t==="\n"||t==="\r"}function Gn(t,e){const n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const r=t.substr(n,e-n);if(e>5&&r==="xml")return U("InvalidXml","XML declaration allowed only at the start of the document.",tt(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function zn(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const Qs='"',to="'";function eo(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===Qs||t[e]===to)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}const no=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Xn(t,e){const n=ln.getAllMatches(t,no),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return U("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",Ut(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return U("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",Ut(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return U("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",Ut(n[i]));const s=n[i][2];if(!so(s))return U("InvalidAttr","Attribute '"+s+"' is an invalid name.",Ut(n[i]));if(!r.hasOwnProperty(s))r[s]=1;else return U("InvalidAttr","Attribute '"+s+"' is repeated.",Ut(n[i]))}return!0}function ro(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function io(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,ro(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function U(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function so(t){return ln.isName(t)}function oo(t){return ln.isName(t)}function tt(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Ut(t){return t.startIndex+t[1].length}var Be={};const Or={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},ao=function(t){return Object.assign({},Or,t)};Be.buildOptions=ao,Be.defaultOptions=Or;class uo{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}var lo=uo;const co=me;function ho(t,e){const n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,s=!1,u="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&go(t,e))e+=7,[entityName,val,e]=po(t,e+1),val.indexOf("&")===-1&&(n[wo(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(i&&mo(t,e))e+=8;else if(i&&vo(t,e))e+=8;else if(i&&yo(t,e))e+=9;else if(fo)s=!0;else throw new Error("Invalid DOCTYPE");r++,u=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:u+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function po(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=t[e++];let i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function fo(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function go(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function mo(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function vo(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function yo(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function wo(t){if(co.isName(t))return t;throw new Error("Invalid entity name ".concat(t))}var bo=ho;const Eo=/^[-+]?0x[a-fA-F0-9]+$/,xo=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const No={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Ao(t,e={}){if(e=Object.assign({},No,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&Eo.test(n))return Number.parseInt(n,16);{const r=xo.exec(n);if(r){const i=r[1],s=r[2];let u=Oo(r[3]);const a=r[4]||r[6];if(!e.leadingZeros&&s.length>0&&i&&n[2]!=="."||!e.leadingZeros&&s.length>0&&!i&&n[1]!==".")return t;{const c=Number(n),o=""+c;return o.search(/[eE]/)!==-1||a?e.eNotation?c:t:n.indexOf(".")!==-1?o==="0"&&u===""||o===u||i&&o==="-"+u?c:t:s?u===o||i+u===o?c:t:n===o||n===i+o?c:t}}else return t}}function Oo(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var Io=Ao;function Po(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const n of t)if(typeof n=="string"&&e===n||n instanceof RegExp&&n.test(e))return!0}:()=>!1}var Ir=Po;const Pr=me,Bt=lo,To=bo,Ro=Io,_o=Ir;let Co=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=So,this.parseXml=Do,this.parseTextData=$o,this.resolveNameSpace=Lo,this.buildAttributesMap=Fo,this.isItStopNode=Bo,this.replaceEntitiesValue=Mo,this.readStopNodeData=Go,this.saveTextToParentTag=Uo,this.addChild=ko,this.ignoreAttributesFn=_o(this.options.ignoreAttributes)}};function So(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function $o(t,e,n,r,i,s,u){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){u||(t=this.replaceEntitiesValue(t));const a=this.options.tagValueProcessor(e,t,n,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?Ge(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?Ge(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Lo(t){if(this.options.removeNSPrefix){const e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}const jo=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function Fo(t,e,n){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){const r=Pr.getAllMatches(t,jo),i=r.length,s={};for(let u=0;u<i;u++){const a=this.resolveNameSpace(r[u][1]);if(this.ignoreAttributesFn(a,e))continue;let c=r[u][4],o=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),o==="__proto__"&&(o="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const l=this.options.attributeValueProcessor(a,c,e);l==null?s[o]=c:typeof l!=typeof c||l!==c?s[o]=l:s[o]=Ge(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const u={};return u[this.options.attributesGroupName]=s,u}return s}}const Do=function(t){t=t.replace(/\r\n?/g,"\n");const e=new Bt("!xml");let n=e,r="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){const u=_t(t,">",s,"Closing Tag is not closed.");let a=t.substring(s+2,u).trim();if(this.options.removeNSPrefix){const l=a.indexOf(":");l!==-1&&(a=a.substr(l+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&(r=this.saveTextToParentTag(r,n,i));const c=i.substring(i.lastIndexOf(".")+1);if(a&&this.options.unpairedTags.indexOf(a)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(a,">"));let o=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(o=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):o=i.lastIndexOf("."),i=i.substring(0,o),n=this.tagsNodeStack.pop(),r="",s=u}else if(t[s+1]==="?"){let u=Ve(t,s,!1,"?>");if(!u)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&u.tagName==="?xml"||this.options.ignorePiTags)){const a=new Bt(u.tagName);a.add(this.options.textNodeName,""),u.tagName!==u.tagExp&&u.attrExpPresent&&(a[":@"]=this.buildAttributesMap(u.tagExp,i,u.tagName)),this.addChild(n,a,i)}s=u.closeIndex+1}else if(t.substr(s+1,3)==="!--"){const u=_t(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const a=t.substring(s+4,u-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}s=u}else if(t.substr(s+1,2)==="!D"){const u=To(t,s);this.docTypeEntities=u.entities,s=u.i}else if(t.substr(s+1,2)==="!["){const u=_t(t,"]]>",s,"CDATA is not closed.")-2,a=t.substring(s+9,u);r=this.saveTextToParentTag(r,n,i);let c=this.parseTextData(a,n.tagname,i,!0,!1,!0,!0);c==null&&(c=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]):n.add(this.options.textNodeName,c),s=u+2}else{let u=Ve(t,s,this.options.removeNSPrefix),a=u.tagName;const c=u.rawTagName;let o=u.tagExp,l=u.attrExpPresent,p=u.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));const h=n;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),a!==e.tagname&&(i+=i?"."+a:a),this.isItStopNode(this.options.stopNodes,i,a)){let d="";if(o.length>0&&o.lastIndexOf("/")===o.length-1)a[a.length-1]==="/"?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),o=a):o=o.substr(0,o.length-1),s=u.closeIndex;else if(this.options.unpairedTags.indexOf(a)!==-1)s=u.closeIndex;else{const g=this.readStopNodeData(t,c,p+1);if(!g)throw new Error("Unexpected end of ".concat(c));s=g.i,d=g.tagContent}const f=new Bt(a);a!==o&&l&&(f[":@"]=this.buildAttributesMap(o,i,a)),d&&(d=this.parseTextData(d,a,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),f.add(this.options.textNodeName,d),this.addChild(n,f,i)}else{if(o.length>0&&o.lastIndexOf("/")===o.length-1){a[a.length-1]==="/"?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),o=a):o=o.substr(0,o.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const d=new Bt(a);a!==o&&l&&(d[":@"]=this.buildAttributesMap(o,i,a)),this.addChild(n,d,i),i=i.substr(0,i.lastIndexOf("."))}else{const d=new Bt(a);this.tagsNodeStack.push(n),a!==o&&l&&(d[":@"]=this.buildAttributesMap(o,i,a)),this.addChild(n,d,i),n=d}r="",s=p}}else r+=t[s];return e.child};function ko(t,e,n){const r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}const Mo=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Uo(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Bo(t,e,n){const r="*."+n;for(const i in t){const s=t[i];if(r===s||e===s)return!0}return!1}function Vo(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let u=t[s];if(r)u===r&&(r="");else if(u==='"'||u==="'")r=u;else if(u===n[0])if(n[1]){if(t[s+1]===n[1])return{data:i,index:s}}else return{data:i,index:s};else u==="	"&&(u=" ");i+=u}}function _t(t,e,n,r){const i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function Ve(t,e,n,r=">"){const i=Vo(t,e+1,r);if(!i)return;let s=i.data;const u=i.index,a=s.search(/\s/);let c=s,o=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());const l=c;if(n){const p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),o=c!==i.data.substr(p+1))}return{tagName:c,tagExp:s,closeIndex:u,attrExpPresent:o,rawTagName:l}}function Go(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const s=_t(t,">",n,"".concat(e," is not closed"));if(t.substring(n+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:s};n=s}else if(t[n+1]==="?")n=_t(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=_t(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=_t(t,"]]>",n,"StopNode is not closed.")-2;else{const s=Ve(t,n,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,n=s.closeIndex)}}function Ge(t,e,n){if(e&&typeof t=="string"){const r=t.trim();return r==="true"?!0:r==="false"?!1:Ro(t,n)}else return Pr.isExist(t)?t:""}var zo=Co,Tr={};function Xo(t,e){return Rr(t,e)}function Rr(t,e,n){let r;const i={};for(let s=0;s<t.length;s++){const u=t[s],a=Wo(u);let c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=u[a]:r+=""+u[a];else{if(a===void 0)continue;if(u[a]){let o=Rr(u[a],e,c);const l=Ho(o,e);u[":@"]?qo(o,u[":@"],c,e):Object.keys(o).length===1&&o[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?o=o[e.textNodeName]:Object.keys(o).length===0&&(e.alwaysCreateTextNode?o[e.textNodeName]="":o=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(o)):e.isArray(a,c,l)?i[a]=[o]:i[a]=o}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function Wo(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(r!==":@")return r}}function qo(t,e,n,r){if(e){const i=Object.keys(e),s=i.length;for(let u=0;u<s;u++){const a=i[u];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Ho(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}Tr.prettify=Xo;const{buildOptions:Ko}=Be,Zo=zo,{prettify:Yo}=Tr,Jo=un;let Qo=class{constructor(t){this.externalEntities={},this.options=Ko(t)}parse(t,e){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(e){e===!0&&(e={});const i=Jo.validate(t,e);if(i!==!0)throw Error("".concat(i.err.msg,":").concat(i.err.line,":").concat(i.err.col))}const n=new Zo(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(t);return this.options.preserveOrder||r===void 0?r:Yo(r,this.options)}addEntity(t,e){if(e.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(e==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}};var ta=Qo;const ea="\n";function na(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=ea),_r(t,e,"",n)}function _r(t,e,n,r){let i="",s=!1;for(let u=0;u<t.length;u++){const a=t[u],c=ra(a);if(c===void 0)continue;let o="";if(n.length===0?o=c:o="".concat(n,".").concat(c),c===e.textNodeName){let f=a[c];ia(o,e)||(f=e.tagValueProcessor(c,f),f=Cr(f,e)),s&&(i+=r),i+=f,s=!1;continue}else if(c===e.cdataPropName){s&&(i+=r),i+="<![CDATA[".concat(a[c][0][e.textNodeName],"]]>"),s=!1;continue}else if(c===e.commentPropName){i+=r+"<!--".concat(a[c][0][e.textNodeName],"-->"),s=!0;continue}else if(c[0]==="?"){const f=Wn(a[":@"],e),g=c==="?xml"?"":r;let v=a[c][0][e.textNodeName];v=v.length!==0?" "+v:"",i+=g+"<".concat(c).concat(v).concat(f,"?>"),s=!0;continue}let l=r;l!==""&&(l+=e.indentBy);const p=Wn(a[":@"],e),h=r+"<".concat(c).concat(p),d=_r(a[c],e,o,l);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=h+">":i+=h+"/>":(!d||d.length===0)&&e.suppressEmptyNode?i+=h+"/>":d&&d.endsWith(">")?i+=h+">".concat(d).concat(r,"</").concat(c,">"):(i+=h+">",d&&r!==""&&(d.includes("/>")||d.includes("</"))?i+=r+e.indentBy+d+r:i+=d,i+="</".concat(c,">")),s=!0}return i}function ra(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function Wn(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=Cr(i,e),i===!0&&e.suppressBooleanAttributes?n+=" ".concat(r.substr(e.attributeNamePrefix.length)):n+=" ".concat(r.substr(e.attributeNamePrefix.length),'="').concat(i,'"')}return n}function ia(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function Cr(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}var sa=na;const oa=sa,aa=Ir,ua={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Pt(t){this.options=Object.assign({},ua,t),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=aa(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ha),this.processTextOrObjNode=la,this.options.format?(this.indentate=ca,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Pt.prototype.build=function(t){return this.options.preserveOrder?oa(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)},Pt.prototype.j2x=function(t,e,n){let r="",i="";const s=n.join(".");for(let u in t)if(Object.prototype.hasOwnProperty.call(t,u))if(typeof t[u]>"u")this.isAttribute(u)&&(i+="");else if(t[u]===null)this.isAttribute(u)?i+="":u[0]==="?"?i+=this.indentate(e)+"<"+u+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+u+"/"+this.tagEndChar;else if(t[u]instanceof Date)i+=this.buildTextValNode(t[u],u,"",e);else if(typeof t[u]!="object"){const a=this.isAttribute(u);if(a&&!this.ignoreAttributesFn(a,s))r+=this.buildAttrPairStr(a,""+t[u]);else if(!a)if(u===this.options.textNodeName){let c=this.options.tagValueProcessor(u,""+t[u]);i+=this.replaceEntitiesValue(c)}else i+=this.buildTextValNode(t[u],u,"",e)}else if(Array.isArray(t[u])){const a=t[u].length;let c="",o="";for(let l=0;l<a;l++){const p=t[u][l];if(!(typeof p>"u"))if(p===null)u[0]==="?"?i+=this.indentate(e)+"<"+u+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+u+"/"+this.tagEndChar;else if(typeof p=="object")if(this.options.oneListGroup){const h=this.j2x(p,e+1,n.concat(u));c+=h.val,this.options.attributesGroupName&&p.hasOwnProperty(this.options.attributesGroupName)&&(o+=h.attrStr)}else c+=this.processTextOrObjNode(p,u,e,n);else if(this.options.oneListGroup){let h=this.options.tagValueProcessor(u,p);h=this.replaceEntitiesValue(h),c+=h}else c+=this.buildTextValNode(p,u,"",e)}this.options.oneListGroup&&(c=this.buildObjectNode(c,u,o,e)),i+=c}else if(this.options.attributesGroupName&&u===this.options.attributesGroupName){const a=Object.keys(t[u]),c=a.length;for(let o=0;o<c;o++)r+=this.buildAttrPairStr(a[o],""+t[u][a[o]])}else i+=this.processTextOrObjNode(t[u],u,e,n);return{attrStr:r,val:i}},Pt.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function la(t,e,n,r){const i=this.j2x(t,n+1,r.concat(e));return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,i.attrStr,n):this.buildObjectNode(i.val,e,i.attrStr,n)}Pt.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(r)+"<!--".concat(t,"-->")+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i}},Pt.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e="></".concat(t),e},Pt.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+"<![CDATA[".concat(t,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+"<!--".concat(t,"-->")+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}},Pt.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function ca(t){return this.options.indentBy.repeat(t)}function ha(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}var pa=Pt;const da=un,fa=ta,ga=pa;var ma={XMLParser:fa,XMLValidator:da,XMLBuilder:ga};const va=t=>t===null?Se().setApp("end_to_end_encryption").build():Se().setApp("end_to_end_encryption").setUid(t.uid).build(),Z=va(he());function ya(t){return String.fromCharCode(...t)}function wa(t){return Uint8Array.from(t,e=>e.charCodeAt(0))}function ba(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function wt(t){return wa(atob(t))}const Ea="-----BEGIN PRIVATE KEY-----",xa="-----END PRIVATE KEY-----";function Na(t){const e=t.substring(Ea.length,t.length-xa.length-1).replace(/\n/g,"");return wt(e)}const qn="apps/end_to_end_encryption/api/v2",Sr={PrivateKey:qn+"/private-key",Metadata:qn+"/meta-data/{fileId}"};async function Aa(){const t=(await Yn.get(Jn(Sr.PrivateKey),{headers:{"X-E2EE-SUPPORTED":"true"}})).data.ocs.data["private-key"],[e,n,r]=t.split("|");return{encryptedPrivateKey:wt(e),iv:wt(n),salt:wt(r)}}async function cn(t){const e=await Yn.get(Jn(Sr.Metadata,{fileId:t}),{headers:{"X-E2EE-SUPPORTED":"true"}});return JSON.parse(e.data.ocs.data["meta-data"])}var Oa=Object.defineProperty,Hn=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Kn=(t,e,n)=>e in t?Oa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ta=(t,e)=>{for(var n in e||(e={}))Ia.call(e,n)&&Kn(t,n,e[n]);if(Hn)for(var n of Hn(e))Pa.call(e,n)&&Kn(t,n,e[n]);return t};async function hn(t,e,n={}){return await self.crypto.subtle.decrypt(Ta({name:"AES-GCM"},n),e,t)}async function Ra(t,e){return await self.crypto.subtle.decrypt({name:"RSA-OAEP"},e,t)}async function $r(t){return await self.crypto.subtle.importKey("raw",t,{name:"AES-GCM",length:128},!0,["decrypt","encrypt"])}async function _a(t){return await self.crypto.subtle.importKey("pkcs8",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["decrypt"])}async function Ca(t){return new Uint8Array(await self.crypto.subtle.exportKey("raw",t))}async function Sa(t){const e=await self.crypto.subtle.digest("SHA-256",t);return ba(new Uint8Array(e))}async function $a(t,e){Z.debug("Decrypting metadata info",{metadata:t});const[n,r]=t.metadata.ciphertext.split("|"),i=await hn(wt(n),e,{iv:wt(r)}),s=JSON.parse(await ja(i));return La(s,e),s}async function La(t,e){if(t.keyChecksums===void 0)return;const n=await Ca(e),r=await Sa(n);if(!t.keyChecksums.includes(r))throw new Error("Key checksum is not in keyChecksums")}async function ja(t){const e=new ReadableStream({start(n){n.enqueue(new Uint8Array(t)),n.close()}}).pipeThrough(new DecompressionStream("gzip"));return await new Response(e).text()}async function Fa(t,e,n){var r;Z.debug("Getting metadata private key",{metadata:t,userId:e});const i=(r=t.users)==null?void 0:r.find(a=>a.userId===e);if(!i)throw new Error("User not found in metadata");const s=wt(i.encryptedMetadataKey),u=await Ra(s,n);return await $r(new Uint8Array(u))}async function Da(t,e){Z.debug("Decrypting private key",{privateKeyInfo:t,mnemonic:e});const n=await ka(e,t.salt),r=await hn(t.encryptedPrivateKey,n,{iv:t.iv,tagLength:128}),i=atob(ya(new Uint8Array(r)));return _a(Na(i))}async function ka(t,e){const n=await crypto.subtle.importKey("raw",new TextEncoder().encode(t.replaceAll(" ","")),{name:"PBKDF2"},!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,hash:"SHA-1",iterations:1024},n,{name:"AES-GCM",length:256},!0,["decrypt","encrypt"])}const Ma={name:"AlertCircleOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Ua=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon alert-circle-outline-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(n){return t.$emit("click",n)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},Ba=[],Va=Ht(Ma,Ua,Ba,!1,null,null);const Ga=Va.exports,za={name:"CheckIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Xa=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon check-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(n){return t.$emit("click",n)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},Wa=[],qa=Ht(za,Xa,Wa,!1,null,null);const Ha=qa.exports,Ka={name:"NcInputField",components:{NcButton:zr,AlertCircle:Ga,Check:Ha},inheritAttrs:!1,model:{prop:"modelValue",event:"update:modelValue"},props:{value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},type:{type:String,default:"text",validator:t=>["text","password","email","tel","url","search","number"].includes(t)},label:{type:String,default:void 0},labelOutside:{type:Boolean,default:!1},placeholder:{type:String,default:void 0},showTrailingButton:{type:Boolean,default:!1},trailingButtonLabel:{type:String,default:""},success:{type:Boolean,default:!1},error:{type:Boolean,default:!1},helperText:{type:String,default:""},disabled:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},inputClass:{type:[Object,String],default:""}},emits:["update:value","update:modelValue","update:model-value","trailing-button-click"],setup(){return{model:Qn("value","update:value",!0)}},computed:{computedId(){return this.$attrs.id&&this.$attrs.id!==""?this.$attrs.id:this.inputName},inputName(){return"input"+Xr()},hasLeadingIcon(){return this.$slots.default},hasTrailingIcon(){return this.success},hasPlaceholder(){return this.placeholder!==""&&this.placeholder!==void 0},computedPlaceholder(){return this.hasPlaceholder?this.placeholder:this.label},isValidLabel(){const t=this.label||this.labelOutside;return t||console.warn("You need to add a label to the NcInputField component. Either use the prop label or use an external one, as per the example in the documentation."),t},ariaDescribedby(){const t=[];return this.helperText.length>0&&t.push("".concat(this.inputName,"-helper-text")),this.$attrs["aria-describedby"]&&t.push(this.$attrs["aria-describedby"]),t.join(" ")||null}},methods:{focus(){this.$refs.input.focus()},select(){this.$refs.input.select()},handleInput(t){const e=this.type==="number"&&typeof this.model=="number"?parseFloat(t.target.value,10):t.target.value;this.model=e},handleTrailingButtonClick(t){this.$emit("trailing-button-click",t)}}};var Za=function(){var n;var t=this,e=t._self._c;return e("div",{staticClass:"input-field",class:{"input-field--disabled":t.disabled,"input-field--label-outside":t.labelOutside||!t.isValidLabel,"input-field--leading-icon":t.hasLeadingIcon,"input-field--trailing-icon":t.showTrailingButton||t.hasTrailingIcon,"input-field--pill":t.pill}},[e("div",{staticClass:"input-field__main-wrapper"},[e("input",t._g(t._b({ref:"input",staticClass:"input-field__input",class:[t.inputClass,{"input-field__input--success":t.success,"input-field__input--error":t.error}],attrs:{id:t.computedId,type:t.type,disabled:t.disabled,placeholder:t.computedPlaceholder,"aria-describedby":t.ariaDescribedby,"aria-live":"polite"},domProps:{value:(n=t.model)==null?void 0:n.toString()},on:{input:t.handleInput}},"input",t.$attrs,!1),t.$listeners)),!t.labelOutside&&t.isValidLabel?e("label",{staticClass:"input-field__label",attrs:{for:t.computedId}},[t._v(" "+t._s(t.label)+" ")]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasLeadingIcon,expression:"hasLeadingIcon"}],staticClass:"input-field__icon input-field__icon--leading"},[t._t("default")],2),t.showTrailingButton?e("NcButton",{staticClass:"input-field__trailing-button",attrs:{type:"tertiary-no-background","aria-label":t.trailingButtonLabel,disabled:t.disabled},on:{click:t.handleTrailingButtonClick},scopedSlots:t._u([{key:"icon",fn:function(){return[t._t("trailing-button-icon")]},proxy:!0}],null,!0)}):t.success||t.error?e("div",{staticClass:"input-field__icon input-field__icon--trailing"},[t.success?e("Check",{staticStyle:{color:"var(--color-success-text)"},attrs:{size:20}}):t.error?e("AlertCircle",{staticStyle:{color:"var(--color-error-text)"},attrs:{size:20}}):t._e()],1):t._e()],1),t.helperText.length>0?e("p",{staticClass:"input-field__helper-text-message",class:{"input-field__helper-text-message--error":t.error,"input-field__helper-text-message--success":t.success},attrs:{id:"".concat(t.inputName,"-helper-text")}},[t.success?e("Check",{staticClass:"input-field__helper-text-message__icon",attrs:{size:18}}):t.error?e("AlertCircle",{staticClass:"input-field__helper-text-message__icon",attrs:{size:18}}):t._e(),t._v(" "+t._s(t.helperText)+" ")],1):t._e()])},Ya=[],Ja=Ht(Ka,Za,Ya,!1,null,"e4fac465");const ze=Ja.exports,Qa={name:"UndoVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var tu=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon undo-variant-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(n){return t.$emit("click",n)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M13.5,7A6.5,6.5 0 0,1 20,13.5A6.5,6.5 0 0,1 13.5,20H10V18H13.5C16,18 18,16 18,13.5C18,11 16,9 13.5,9H7.83L10.91,12.09L9.5,13.5L4,8L9.5,2.5L10.92,3.91L7.83,7H13.5M6,18H8V20H6V18Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},eu=[],nu=Ht(Qa,tu,eu,!1,null,null);const ru=nu.exports;Wr(Kr,Hr);const iu=new Set(Object.keys(ze.props)),su={name:"NcTextField",components:{NcInputField:ze,Close:qr,ArrowRight:ei,Undo:ru},inheritAttrs:!1,model:{prop:"modelValue",event:"update:modelValue"},props:gt(st({" ":{}},ze.props),{trailingButtonLabel:{type:String,default:""},trailingButtonIcon:{type:String,default:"close",validator:t=>["close","arrowRight","undo"].includes(t)}}),emits:["update:value","update:modelValue","update:model-value"],setup(){return{model:Qn("value","update:value")}},computed:{propsAndAttrsToForward(){const t={undo:we("Undo changes"),close:we("Clear text"),arrowRight:we("Save changes")};return gt(st(st({},this.$attrs),Object.fromEntries(Object.entries(this.$props).filter(([e])=>iu.has(e)))),{trailingButtonLabel:this.trailingButtonLabel||t[this.trailingButtonIcon]})}},methods:{focus(){this.$refs.inputField.focus()},select(){this.$refs.inputField.select()}}};var ou=function(){var t=this,e=t._self._c;return e("NcInputField",t._g(t._b({ref:"inputField",scopedSlots:t._u([t.type!=="search"?{key:"trailing-button-icon",fn:function(){return[t.trailingButtonIcon==="close"?e("Close",{attrs:{size:20}}):t.trailingButtonIcon==="arrowRight"?e("ArrowRight",{attrs:{size:20}}):t.trailingButtonIcon==="undo"?e("Undo",{attrs:{size:20}}):t._e()]},proxy:!0}:null],null,!0)},"NcInputField",t.propsAndAttrsToForward,!1),t.$listeners),[t._t("default")],2)},au=[],uu=Ht(su,ou,au,!1,null,null);const lu=uu.exports,cu=Zr({__name:"MnemonicPromptDialog",emits:["close"],setup(t,{emit:e}){const n=be(),r=be(""),i=be(!1),s=mn(()=>i.value===!0&&r.value.trim().split(/\s+/g).length===12);function u(){e("close",r.value)}const a=mn(()=>[{label:$e("end_to_en_encryption","Submit"),nativeType:"submit",type:"primary",disabled:!s.value,callback:u}]);return{__sfc:!0,emit:e,dialogRef:n,mnemonic:r,confirmToggle:i,isFormValid:s,submit:u,buttons:a,t:$e,NcDialog:Yr,NcTextField:lu,NcNoteCard:Jr,NcCheckboxRadioSwitch:ni}}});var hu=function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.NcDialog,{ref:"dialogRef",attrs:{name:n.t("end_to_end_encryption","Enter your 12 words mnemonic"),buttons:n.buttons,"is-form":!0},on:{submit:n.submit}},[e(n.NcNoteCard,{attrs:{type:"warning","show-alert":!0,heading:n.t("end_to_end_encryption","Decrypting your files in the browser can weaken security")}},[t._v(" "+t._s(n.t("end_to_end_encryption","The server could serve malicious source code to extract the secret that protects your files."))+" "),e(n.NcCheckboxRadioSwitch,{attrs:{required:!0,"data-cy-e2ee-mnemonic-prompt":"i_understand_the_risks",type:"switch"},model:{value:n.confirmToggle,callback:function(r){n.confirmToggle=r},expression:"confirmToggle"}},[t._v(" "+t._s(n.t("end_to_end_encryption","I understand the risks"))+" ")])],1),e(n.NcTextField,{attrs:{value:n.mnemonic,required:"true",pattern:"^(\\w+\\s+){11}\\w+$",label:n.t("end_to_end_encryption","Mnemonic"),autofocus:!0},on:{"update:value":function(r){n.mnemonic=r}}})],1)},pu=[],du=Qr(cu,hu,pu,!1,null,null);const fu=du.exports;async function gu(){const t=Promise.withResolvers();return ti(fu,void 0,e=>{e!==void 0?t.resolve(e):t.reject()}),t.promise}let Wt;const mu=Ms();let Ce;const dt={};function vu(){Wt=window.fetch,Z.debug("Setting up WebDAV decryption proxy"),window.fetch=async(t,e={})=>{let n=new Request(t,e);if(!(n.url.includes("/remote.php/")&&(n.method==="GET"||n.method==="PROPFIND")))return Wt(n);Z.debug("Proxying ".concat(n.method," ").concat(n.url),{request:n});const r=new Headers(n.headers);switch(r.set("X-E2EE-SUPPORTED","true"),n=new Request(n,{headers:r}),n.method){case"PROPFIND":return wu(n);case"GET":default:return yu(n)}}}async function yu(t){const e=new URL(t.url).pathname,n=await Xe(e);if(n===void 0)return Z.debug("File is not part of e2ee folder",{path:e}),Wt(t);const r=await ne(ct.dirname(e),n),i=r.files[ct.basename(t.url)];if(i===void 0)throw Z.debug("Could not find metadata info",{path:e,metadataInfo:r}),new Error("Could not find file in metadata");return Z.debug("Fetching encrypted file",{request:t}),await bu(await Wt(t),i)}async function wu(t){var e,n;Z.debug("Fetching raw PROPFIND",{request:t});const r=await Wt(t),i=new URL(t.url).pathname,s=await r.text(),u=await Ts(s),a=Ps(u,i,!0);let c=i;if(a.type==="directory"){if(((e=a.props)==null?void 0:e["is-encrypted"])!==1)return Z.debug("Folder is not e2ee",{xml:u}),new Response(s,r);dt[i]=await cn((n=a.props)==null?void 0:n.fileid);const o=await Xe(c);if(o===void 0)return Z.debug("Cannot find root E2EE folder",{path:i}),new Response(s,r);const l=await ne(c,o);let p;try{p=await ne(ct.dirname(c),o)}catch(h){}Zn(u,i,l,p)}if(a.type==="file"){c=ct.dirname(i);const o=await Xe(c);if(o===void 0)return Z.debug("Cannot find root E2EE folder",{path:i}),new Response(s,r);Zn(u,i,void 0,await ne(c,o))}return new Response(new ma.XMLBuilder().build(u),r)}function Zn(t,e,n,r){Z.debug("Updating PROPFIND info",{folderPath:e,metadataInfo:n,parentMetadataInfo:r,xml:t}),t.multistatus.response.forEach(i=>{if(i.propstat===void 0)return;let s=n;if(i.href===e&&r&&(s=r),s===void 0)return;const u=i.propstat.prop.displayname;let a=u;s.files[u]?(a=s.files[u].filename,i.propstat.prop.getcontenttype=s.files[u].mimetype):s.folders[u]&&(a=s.folders[u],i.propstat.prop.getcontenttype="httpd/unix-directory"),i.propstat.prop.displayname=a,i.propstat.prop.permissions=i.propstat.prop.permissions.replace(/(R)|(D)|(N)|(V)|(W)|(CK)/g,"")})}async function bu(t,e){const n=await hn(new Uint8Array(await t.arrayBuffer()),await $r(wt(e.key)),{iv:wt(e.nonce)});return new Response(n,t)}async function ne(t,e){Z.debug("Getting metadata info",{path:t});const n=he();if(!n)throw new Error("No user logged in");return Ce===void 0&&(Ce=await Da(await Aa(),await gu())),await $a(await Eu(t),await Fa(e,n.uid,Ce))}async function Lr(t){Z.debug("Getting file id",{path:t});const e=await mu.stat(decodeURI(t).replace("remote.php/dav/",""),{details:!0,data:js()}),n=Us(e.data);if(!n.fileid)throw new Error("File ID not found");return String(n.fileid)}async function Eu(t){return Z.debug("Getting metadata",{path:t,metadataCache:dt}),dt[t]||(dt[t]=await cn(await Lr(t))),dt[t]}async function Xe(t){var e;Z.debug("Getting root metadata",{path:t,metadataCache:dt});const n=Object.entries(dt).filter(([,r])=>r.users!==void 0).find(([r])=>t.startsWith(r));if(n)return n[1];for(;t!=="/";){if((e=dt[t])!=null||(dt[t]=await cn(await Lr(t))),dt[t].users!==void 0)return dt[t];t=ct.dirname(t)}}const xu='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-arrow-down" viewBox="0 0 24 24"><path d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z" /></svg>';function Nu(t){if(!(t.permissions&ht.READ))return!1;if(t.attributes["share-attributes"]){const e=JSON.parse(t.attributes["share-attributes"]||"[]").find(({scope:n,key:r})=>n==="permissions"&&r==="download");if(e!==void 0)return e.value===!0}return!0}async function Au([t]){const e=await(await fetch(t.encodedSource)).arrayBuffer(),n=new Blob([e],{type:t.mime}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=t.displayname,r.click()}const Ou=new Bs({id:"download_unencrypted",default:an.DEFAULT,displayName:()=>$e("files","Download unencrypted"),iconSvgInline:()=>xu,enabled(t){return t.length!==1||t.some(e=>!e.isDavRessource)||t.some(e=>e.type!==fe.File)?!1:t.every(Nu)},async exec(t){return Au([t]),null},order:30}),Iu=We("end_to_end_encryption","userConfig",{e2eeInBrowserEnabled:!1});Iu.e2eeInBrowserEnabled&&(vu(),Vs(Ou));
